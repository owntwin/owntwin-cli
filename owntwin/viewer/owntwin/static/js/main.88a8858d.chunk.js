(this.webpackJsonpowntwin=this.webpackJsonpowntwin||[]).push([[0],{123:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var i=n(3),c=n(71),r=n(4),o=(n(91),n(1)),a=n.n(o),s=n(26),l=n.n(s),d=n(16),b=n.n(d),u=n(6),p=n(24),m=n(130),j=n(18),h=Object(j.c)({}),f=Object(j.c)(null),g=Object(j.c)(null),x=Object(j.c)(null),O=n(41),y=n.n(O),v=n(22),_=n(11),w=n(30),I=n(17),S=n(75),C=new(n.n(S).a),D=156543.03392804097,N=20037508.342789244;function B(e,t,n){var i=e*N/180,c=Math.log(Math.tan((90+t)*Math.PI/360))/(Math.PI/180);c=c*N/180;var r=D/Math.pow(2,n);return[(i+N)/r,(c+N)/r]}function k(e,t,n,i,c){i=i||e.canvas.width,c=c||e.canvas.height;var r=B(e.bbox.minlng,e.bbox.minlat,18),o=Object(u.a)(r,2),a=o[0],s=o[1],l=B(t,n,18),d=Object(u.a)(l,2),b=function(e,t,n){var i=C.xyz([e.bbox.minlng,e.bbox.minlat,e.bbox.maxlng,e.bbox.maxlat],18,!0),c=(i.maxX-i.minX+1)*C.size,r=(i.maxY-i.minY+1)*C.size;return[t*e.canvas.width/c-e.canvas.width/2,n*e.canvas.height/r-e.canvas.height/2]}(e,d[0]-a,d[1]-s),p=Object(u.a)(b,2);return{x:p[0],y:p[1]}}function P(e,t,n){console.log([t,n]);var i=function(e,t,n){var i=C.xyz([e.bbox.minlng,e.bbox.minlat,e.bbox.maxlng,e.bbox.maxlat],18,!0),c=(i.maxX-i.minX+1)*C.size,r=(i.maxY-i.minY+1)*C.size;return[(t+e.canvas.width/2)*(c/e.canvas.width),(n+e.canvas.height/2)*(r/e.canvas.height)]}(e,t,n),c=Object(u.a)(i,2);t=c[0],n=c[1];var r=B(e.bbox.minlng,e.bbox.minlat,18),o=Object(u.a)(r,2),a=function(e,t,n){var i=D/Math.pow(2,n),c=(t*i-N)/N*180;return[(e*i-N)/N*180,c=180/Math.PI*(2*Math.atan(Math.exp(c*Math.PI/180))-Math.PI/2)]}(o[0]+t,o[1]+n,18),s=Object(u.a)(a,2);return{lng:s[0],lat:s[1]}}function q(e){return 1e4*e}function R(e,t,n,i,c){i=i||e.canvas.width,c=c||e.canvas.height;var r=i/(q(e.bbox.maxlng)-q(e.bbox.minlng)),o=c/(q(e.bbox.maxlat)-q(e.bbox.minlat));return{x:(q(t)-q(e.bbox.minlng))*r-i/2,y:(q(n)-q(e.bbox.minlat))*o-c/2}}var M=Object(o.createContext)(),z=100;function T(e){var t=e.width,n=e.height,c=e.color,r=(Object(v.a)(e,["width","height","color"]),Object(o.useContext)(ee).model),a=Object(o.useState)([]),s=Object(u.a)(a,2),l=s[0],d=s[1],b=Object(j.d)(x),p=Object(u.a)(b,2),m=p[0],h=p[1];return Object(o.useEffect)((function(){m||d([])}),[m]),Object(i.jsxs)("mesh",{onDoubleClick:function(e){if(e.shiftKey&&(e.stopPropagation(),e.intersections.length>0)){var t=e.intersections[0].point,n=P(r,t.x,t.y);d((function(e){return[].concat(Object(I.a)(e),["[".concat(n.lng,", ").concat(n.lat,"]")])})),h("[".concat(l.join(", "),"]"))}},children:[Object(i.jsx)("planeBufferGeometry",{args:[t,n]}),Object(i.jsx)("meshBasicMaterial",{color:c||15856629,polygonOffset:!0,polygonOffsetFactor:1})]})}var L=function(e){var t=e.levelmap,n=Object(v.a)(e,["levelmap"]),c=Object(o.useState)(null),r=Object(u.a)(c,2),a=r[0],s=r[1],l=Object(_.i)((function(e){for(var n=0;n<t.length;n++){var i=t[n],c=i[0]+z*(99-i[1]);e.vertices[c].z=2*i[2]}e.verticesNeedUpdate=!0,s(Array.from(e.vertices))}),[t]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(T,{width:1024,height:1024}),Object(i.jsxs)("mesh",{children:[Object(i.jsx)("planeGeometry",{ref:l,args:[1024,1024,99,99]}),Object(i.jsx)("meshBasicMaterial",{color:16316922})]}),Object(i.jsx)(M.Provider,{value:{geometry:l.current,vertices:a},children:n.children})]})},E=n(79),A=n(80),H=n(0),G=100,W=new E.a;function U(e){return F.apply(this,arguments)}function F(){return(F=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){return new Promise((function(e){W.load(t,e)}))},e.next=3,n().then((function(e){for(var t=e.xml.viewBox.baseVal.width,n=e.xml.viewBox.baseVal.height,i=e.paths,c=[],r=0;r<i.length;r++){i[r].toShapes(!0).forEach((function(e){var i=e.getPoints();i=i.map((function(e){var i=e.x;i>=t&&(i=t-1);var c=n-e.y;return c<0&&(c=0),c>=n&&(c=n-1),e.x=i,e.y=c,e})),c.push(i)}))}return{pathPoints:c,width:t,height:n}})).catch((function(e){console.error(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){var t=e.url,n=(Object(v.a)(e,["url"]),Object(o.useState)([])),c=Object(u.a)(n,2),r=c[0],a=c[1],s=Object(o.useState)(!1),l=Object(u.a)(s,2),d=l[0],m=l[1],j=Object(o.useContext)(M);Object(o.useEffect)((function(){Object(p.a)(b.a.mark((function e(){var n,c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t);case 2:n=e.sent,c=[],n.pathPoints.forEach((function(e,t){var i=[];e.forEach((function(t,n){n>0&&(i.push(e[n-1]),i.push(t))}));var r=(new H.BufferGeometry).setFromPoints(i);r.scale(1024/n.width,1024/n.height,1),c.push(r)})),r=A.a.mergeBufferGeometries(c),a([Object(i.jsx)("lineSegments",{geometry:r,children:Object(i.jsx)("meshBasicMaterial",{color:14343392,side:H.DoubleSide,depthWrite:!1})},0)]);case 7:case"end":return e.stop()}}),e)})))()}),[t]);var h=Object(_.i)((function(e){var t=(new H.Box3).setFromObject(e).getSize(new H.Vector3);e.position.set(0,0,0),e.translateX(-t.x/2),e.translateY(-t.y/2),e.children.forEach((function(e){var t,n=e.geometry.getAttribute("position");t=n.array.map((function(e,t){return t%3===2?function(e,t){if(!j.vertices)return 0;var n=Math.floor(e/10.24)+G*(99-Math.floor(t/10.24));return n<0||j.vertices.length<=n?0:j.vertices[n].z}(n.array[t-2],n.array[t-1])+2:e})),e.geometry.setAttribute("position",new H.BufferAttribute(new Float32Array(t),3))})),m(!0)}),[r,j.vertices]);return Object(i.jsx)("group",{ref:h,visible:d,children:r})}function X(e){var t=e.url,n=Object(v.a)(e,["url"]),c=Object(o.useContext)(M),r=Object(_.g)(H.TextureLoader,t);return Object(i.jsx)("mesh",{geometry:c.geometry,children:Object(i.jsx)("meshBasicMaterial",{map:r,transparent:!0,color:16777215,opacity:n.opacity?n.opacity:.5})})}var V=function(e){var t=e.def,n=e.basePath;return Object(v.a)(e,["def","basePath"]),n&&(t.path=n?new URL(t.path,n).toString():t.path),"svg"===t.format?Object(i.jsx)(Y,{url:t.path}):"png"===t.format?Object(i.jsx)(o.Suspense,{fallback:null,children:Object(i.jsx)(X,{url:t.path,opacity:.5})}):void 0},J=Object(r.b)("div").withConfig({displayName:"Building___StyledDiv",componentId:"sc-1nrpc7o-0"})(["",""],(function(e){return e._css})),K=Object(r.b)("div").withConfig({displayName:"Building___StyledDiv2",componentId:"sc-1nrpc7o-1"})(["",""],(function(e){return e._css2})),Q=Object(r.b)("div").withConfig({displayName:"Building___StyledDiv3",componentId:"sc-1nrpc7o-2"})(["",""],(function(e){return e._css3}));function Z(e){var t=e.item;Object(v.a)(e,["item"]);return Object(i.jsxs)(J,{style:{minWidth:"200px"},_css:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))",borderWidth:"1px",borderRadius:"0.25rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem"}],children:[Object(i.jsx)(K,{_css2:[{fontSize:"0.75rem",lineHeight:"1rem"}],children:t.type}),Object(i.jsx)("div",{children:t.name}),Object(i.jsx)(Q,{_css3:[{marginTop:"0.75rem",fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:"\u30af\u30ea\u30c3\u30af\u3067\u62e1\u5927"})]})}var $=function(e){var t=e.base,n=e.z,c=e.depth,r=e.onPointerDown,a=Object(v.a)(e,["base","z","depth","onPointerDown"]),s=Object(o.useContext)(ee).model,l=Object(o.useMemo)((function(){return new H.Shape}),[]),d=t[0][0],b=t[0][1],p=k(s,d,b);l.moveTo(0,0),t.slice().reverse().forEach((function(e){var t=k(s,e[0],e[1]);l.lineTo(t.x-p.x,t.y-p.y)}));var m=Object(o.useMemo)((function(){var e={steps:1,depth:c||50,bevelEnabled:!1};return new H.ExtrudeBufferGeometry(l,e)}),[l,c]),j=Object(o.useState)(!1),h=Object(u.a)(j,2),f=h[0],g=h[1],x=15856628,O=6710886;return Object(o.useEffect)((function(){document.body.style.cursor=f?"pointer":"auto"}),[f]),Object(i.jsxs)("mesh",{position:[p.x,p.y,n],geometry:m,onClick:a.onClick,onPointerDown:r,onPointerOver:function(e){e.stopPropagation(),g(!0)},onPointerOut:function(e){return g(!1)},children:[Object(i.jsx)("meshLambertMaterial",{color:f?O:x}),Object(i.jsxs)("lineSegments",{children:[Object(i.jsx)("edgesGeometry",{attach:"geometry",args:[m,45]}),Object(i.jsx)("lineBasicMaterial",{color:13421772,attach:"material"})]}),Object(i.jsx)(w.a,{style:{pointerEvents:"none"},children:f&&Object(i.jsx)(Z,{item:{name:a.name,type:a.type}})})]})},ee=Object(o.createContext)();function te(e){Object.assign({},e);return Object(i.jsx)(w.c,{makeDefault:!0,up:[0,0,1],position:[0,-960,480],fov:60,aspect:window.innerWidth/window.innerHeight,near:1,far:2048})}function ne(){return(ne=Object(p.a)(b.a.mark((function e(t,n){var i,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=[],!t.terrain||!t.terrain.path){e.next=8;break}return t.terrain.path=n?new URL(t.terrain.path,n).toString():t.terrain.path,e.next=5,y.a.get(t.terrain.path).then((function(e){return e.data})).catch((function(){return i}));case 5:t.terrain.data=e.sent,e.next=10;break;case 8:t.terrain=t.terrain||{},t.terrain.data=i;case 10:if(c={routes:[],buildings:[]},!t.building||!t.building.path){e.next=18;break}return t.building.path=n?new URL(t.building.path,n).toString():t.building.path,e.next=15,y.a.get(t.building.path).then((function(e){return e.data})).catch((function(){return c}));case 15:t.building.data=e.sent,e.next=20;break;case 18:t.building=t.building||{},t.building.data=c;case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie=function(e){var t=e.model,n=e.basePath,c=(Object(v.a)(e,["model","basePath"]),Object(o.useState)([])),r=Object(u.a)(c,2),a=r[0],s=r[1],l=Object(o.useState)([]),d=Object(u.a)(l,2),b=d[0],p=d[1];Object(o.useEffect)((function(){(function(e,t){return ne.apply(this,arguments)})(t,n).then((function(e){s(e.terrain.data),p(e.building.data.buildings)}))}),[t,n]);var m=Object(j.d)(h),x=Object(u.a)(m,1)[0],O=Object(j.d)(f),y=Object(u.a)(O,2)[1],I=Object(j.d)(g),S=Object(u.a)(I,2)[1];return Object(i.jsxs)(_.a,{colorManagement:!1,pixelRatio:Math.min(2,window.devicePixelRatio),gl:{powerPreference:"default",antialias:!1},children:[Object(i.jsx)(te,{}),Object(i.jsx)("ambientLight",{args:[16777215,1]}),Object(i.jsx)("pointLight",{position:[10,10,10]}),Object(i.jsxs)(j.a,{value:Object(j.e)(),children:[Object(i.jsx)(ee.Provider,{value:{model:t},children:Object(i.jsxs)(L,{levelmap:a,children:[Object.values(t.modules).reduce((function(e,t){return e.concat(t.layers)}),[]).map((function(e){return x[e.id]&&x[e.id].enabled?Object(i.jsx)(V,{def:e,basePath:n},e.id):null})),b.map((function(e){return Object(i.jsx)($,{base:e.base,z:e.z,depth:e.depth,name:e.name,type:e.type,onPointerDown:function(t){t.stopPropagation(),y(e),S(e)}},e.id)}))]})}),")"]}),Object(i.jsx)(w.b,{target:[0,0,0],minDistance:100,maxDistance:1500,maxPolarAngle:Math.PI/2-.1})]})},ce=n(27),re=Object(r.b)("div").withConfig({displayName:"Sidenav___StyledDiv",componentId:"sc-9e2epx-0"})(["",""],(function(e){return e._css})),oe=Object(r.b)("div").withConfig({displayName:"Sidenav___StyledDiv2",componentId:"sc-9e2epx-1"})(["",""],(function(e){return e._css2})),ae=Object(r.b)("div").withConfig({displayName:"Sidenav___StyledDiv3",componentId:"sc-9e2epx-2"})(["",""],(function(e){return e._css3})),se=Object(r.b)("div").withConfig({displayName:"Sidenav___StyledDiv4",componentId:"sc-9e2epx-3"})(["",""],(function(e){return e._css4})),le=Object(r.b)("button").withConfig({displayName:"Sidenav___StyledButton",componentId:"sc-9e2epx-4"})(["",""],(function(e){return e._css5}));var de=function(e){var t=e.communityURL;return Object(v.a)(e,["communityURL"]),Object(i.jsxs)(re,{_css:[{position:"fixed",bottom:"1rem",left:"1rem",display:"flex",alignItems:"center",height:"2.5rem"}],children:[Object(i.jsx)(oe,{_css2:[{marginRight:"0.75rem",display:"flex",alignItems:"center"}],children:Object(i.jsx)("a",{href:"https://beta.owntwin.com/docs/about",target:"_blank",rel:"noreferrer",children:Object(i.jsx)("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",children:Object(i.jsx)("path",{fill:"#000000",d:ce.e})})})}),!!t&&Object(i.jsx)(ae,{_css3:[{marginRight:"0.75rem",display:"flex",alignItems:"center"}],children:Object(i.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:Object(i.jsx)("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",children:Object(i.jsx)("path",{fill:"#000000",d:ce.a})})})}),Object(i.jsx)(se,{_css4:[{display:"flex",alignItems:"center"}],children:Object(i.jsx)(le,{onClick:function(){document.body.requestFullscreen()},_css5:[{":focus":{outline:"2px solid transparent",outlineOffset:"2px"}}],children:Object(i.jsx)("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",children:Object(i.jsx)("path",{fill:"#000000",d:ce.d})})})})]})},be=n(60);function ue(e,t){return e&&e[t]?encodeURIComponent(e[t]):null}var pe=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv",componentId:"sc-1teqlu0-0"})(["",""],(function(e){return e._css})),me=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv2",componentId:"sc-1teqlu0-1"})(["",""],(function(e){return e._css2})),je=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv3",componentId:"sc-1teqlu0-2"})(["",""],(function(e){return e._css3})),he=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv4",componentId:"sc-1teqlu0-3"})(["",""],(function(e){return e._css4})),fe=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv5",componentId:"sc-1teqlu0-4"})(["",""],(function(e){return e._css5})),ge=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv6",componentId:"sc-1teqlu0-5"})(["",""],(function(e){return e._css6})),xe=Object(r.b)("svg").withConfig({displayName:"ItemInfo___StyledSvg",componentId:"sc-1teqlu0-6"})(["",""],(function(e){return e._css7})),Oe=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv7",componentId:"sc-1teqlu0-7"})(["",""],(function(e){return e._css8})),ye=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv8",componentId:"sc-1teqlu0-8"})(["",""],(function(e){return e._css9})),ve=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv9",componentId:"sc-1teqlu0-9"})(["",""],(function(e){return e._css10})),_e=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv10",componentId:"sc-1teqlu0-10"})(["",""],(function(e){return e._css11})),we=Object(r.b)("pre").withConfig({displayName:"ItemInfo___StyledPre",componentId:"sc-1teqlu0-11"})(["",""],(function(e){return e._css12})),Ie=Object(r.b)("span").withConfig({displayName:"ItemInfo___StyledSpan",componentId:"sc-1teqlu0-12"})(["",""],(function(e){return e._css13})),Se=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv11",componentId:"sc-1teqlu0-13"})(["",""],(function(e){return e._css14})),Ce=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv12",componentId:"sc-1teqlu0-14"})(["",""],(function(e){return e._css15})),De=Object(r.b)("pre").withConfig({displayName:"ItemInfo___StyledPre2",componentId:"sc-1teqlu0-15"})(["",""],(function(e){return e._css16})),Ne=Object(r.b)("span").withConfig({displayName:"ItemInfo___StyledSpan2",componentId:"sc-1teqlu0-16"})(["",""],(function(e){return e._css17})),Be=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv13",componentId:"sc-1teqlu0-17"})(["",""],(function(e){return e._css18})),ke=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv14",componentId:"sc-1teqlu0-18"})(["",""],(function(e){return e._css19})),Pe=Object(r.b)("a").withConfig({displayName:"ItemInfo___StyledA",componentId:"sc-1teqlu0-19"})(["",""],(function(e){return e._css20})),qe=Object(r.b)("svg").withConfig({displayName:"ItemInfo___StyledSvg2",componentId:"sc-1teqlu0-20"})(["",""],(function(e){return e._css21})),Re=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv15",componentId:"sc-1teqlu0-21"})(["",""],(function(e){return e._css22})),Me=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv16",componentId:"sc-1teqlu0-22"})(["",""],(function(e){return e._css23})),ze=Object(r.b)("span").withConfig({displayName:"ItemInfo___StyledSpan3",componentId:"sc-1teqlu0-23"})(["",""],(function(e){return e._css24})),Te=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv17",componentId:"sc-1teqlu0-24"})(["",""],(function(e){return e._css25})),Le=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv18",componentId:"sc-1teqlu0-25"})(["",""],(function(e){return e._css26})),Ee=Object(r.b)("input").withConfig({displayName:"ItemInfo___StyledInput",componentId:"sc-1teqlu0-26"})(["",""],(function(e){return e._css27})),Ae=Object(r.b)("span").withConfig({displayName:"ItemInfo___StyledSpan4",componentId:"sc-1teqlu0-27"})(["",""],(function(e){return e._css28})),He=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv19",componentId:"sc-1teqlu0-28"})(["",""],(function(e){return e._css29})),Ge=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv20",componentId:"sc-1teqlu0-29"})(["",""],(function(e){return e._css30})),We=Object(r.b)("span").withConfig({displayName:"ItemInfo___StyledSpan5",componentId:"sc-1teqlu0-30"})(["",""],(function(e){return e._css31})),Ue=Object(r.b)("span").withConfig({displayName:"ItemInfo___StyledSpan6",componentId:"sc-1teqlu0-31"})(["",""],(function(e){return e._css32}));function Fe(e){var t=e.module,n=e.isOpen,c=(Object(v.a)(e,["module","isOpen"]),Object(o.useState)(n||!1)),r=Object(u.a)(c,2),a=r[0],s=r[1],l=Object(o.useState)(!1),d=Object(u.a)(l,2),b=d[0],p=d[1],m=Object(j.d)(h),g=Object(u.a)(m,2),x=g[0],O=g[1],y=Object(j.d)(f),_=Object(u.a)(y,1)[0],w=t.layers,I=t.actions||[],S=[];return Object(i.jsxs)(pe,{_css:[{borderBottomWidth:"1px"}],children:[Object(i.jsx)(me,{onClick:function(e){s(!a)},_css2:[{paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",cursor:"pointer",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(219, 234, 254, var(--tw-bg-opacity))"},display:"flex",flexDirection:"column"}],children:Object(i.jsxs)(je,{_css3:[{display:"flex",alignItems:"center"}],children:[Object(i.jsx)(he,{_css4:[{flexGrow:"1"}],children:t.name}),Object(i.jsx)(fe,{_css5:[{display:"flex",alignItems:"center"}],children:Object(i.jsx)(ge,{onClick:function(e){a?(e.stopPropagation(),p(!b)):p(!0)},_css6:[{borderRadius:"0.25rem",padding:"0.25rem",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(191, 219, 254, var(--tw-bg-opacity))"}}],children:Object(i.jsx)(xe,{style:{width:"18px",height:"18px"},viewBox:"0 0 24 24",_css7:[{fill:"currentColor","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:Object(i.jsx)("path",{d:ce.f})})})})]})}),a&&Object(i.jsxs)(Oe,{_css8:[{paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingBottom:"0.75rem",fontSize:"0.875rem",lineHeight:"1.25rem"}],children:[b&&Object(i.jsxs)(ye,{_css9:[{marginBottom:"0.5rem",marginTop:"0.25rem"}],children:[Object(i.jsx)(ve,{_css10:[{marginTop:"0.25rem",marginBottom:"0.25rem"}],children:"\u8aac\u660e"}),Object(i.jsx)(_e,{_css11:[{padding:"0.5rem",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-bg-opacity":"1",backgroundColor:"rgba(243, 244, 246, var(--tw-bg-opacity))",borderRadius:"0.25rem"}],children:Object(i.jsx)(we,{_css12:[{overflowWrap:"break-word",whiteSpace:"pre-wrap"}],children:t.description||Object(i.jsx)(Ie,{_css13:[{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:"\u672a\u767b\u9332"})})}),Object(i.jsx)(Se,{_css14:[{marginTop:"0.5rem",marginBottom:"0.25rem"}],children:"\u5229\u7528\u6761\u4ef6"}),Object(i.jsx)(Ce,{_css15:[{padding:"0.5rem",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-bg-opacity":"1",backgroundColor:"rgba(243, 244, 246, var(--tw-bg-opacity))",borderRadius:"0.25rem"}],children:Object(i.jsx)(De,{_css16:[{overflowWrap:"break-word",whiteSpace:"pre-wrap"}],children:t.license||Object(i.jsx)(Ne,{_css17:[{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:"\u672a\u767b\u9332"})})})]}),Object(i.jsxs)(Be,{_css18:[{marginBottom:"0.5rem"}],children:[Object(i.jsx)(ke,{_css19:[{marginTop:"0.25rem",marginBottom:"0.25rem"}],children:"\u30a2\u30af\u30b7\u30e7\u30f3"}),Object(i.jsx)("ul",{children:I.length>0?I.map((function(e,t){var n=[];return e.href||n.push("href"),e.params&&e.params.forEach((function(e){var t=Object(u.a)(e,2),i=(t[0],t[1]);null!==ue(_,i)||n.push(i)})),Object(i.jsxs)("li",{children:[Object(i.jsxs)(Pe,{href:function(){var t=e.params?e.params.map((function(e){var t=Object(u.a)(e,2),n=t[0],i=t[1];return"".concat(n,"=").concat(ue(_,i)||"")})):[];return"".concat(e.href,"?").concat(e.default_param?"".concat(e.default_param,"&"):"").concat(t.join("&"))}(),onClick:function(e){if(n.length>0)return e.preventDefault(),!1},target:"_blank",rel:"noreferrer",_css20:[{display:"flex",alignItems:"center",cursor:"pointer",":hover":{"--tw-text-opacity":"1",color:"rgba(31, 41, 55, var(--tw-text-opacity))"}}],children:[Object(i.jsx)(qe,{style:{width:"14px",height:"14px"},viewBox:"0 0 24 24",_css21:[{fill:"currentColor","--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",marginRight:"0.125rem"}],children:Object(i.jsx)("path",{d:ce.i})}),Object(i.jsx)(Re,{_css22:[n.length>0?{textDecoration:"line-through"}:null],children:e.text})]}),n.length>0&&Object(i.jsxs)(Me,{_css23:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(107, 114, 128, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",borderRadius:"0.25rem",paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.125rem",paddingBottom:"0.125rem",marginBottom:"0.125rem",fontSize:"0.75rem",lineHeight:"1rem"}],children:["\u60c5\u5831\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044:"," ",Object(i.jsx)("code",{children:n.join(", ")})]})]},t)})):Object(i.jsx)("li",{children:Object(i.jsx)(ze,{_css24:[{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:"\u672a\u767b\u9332"})})})]}),Object(i.jsxs)(Te,{_css25:[{marginBottom:"0.5rem"}],children:[Object(i.jsx)(Le,{_css26:[{marginTop:"0.25rem",marginBottom:"0.25rem"}],children:"\u30ec\u30a4\u30e4\u30fc"}),Object(i.jsx)("ul",{children:w.length>0?w.map((function(e,t){return Object(i.jsxs)("li",{children:[Object(i.jsx)(Ee,{type:"checkbox",checked:x[e.id].enabled,onChange:function(t){O((function(t){return t[e.id].enabled=!t[e.id].enabled,Object.assign({},t)}))},_css27:[{marginRight:"0.25rem"}]}),e.name]},t)})):Object(i.jsx)("li",{children:Object(i.jsx)(Ae,{_css28:[{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:"\u672a\u767b\u9332"})})})]}),Object(i.jsxs)(He,{_css29:[{marginBottom:"0.5rem"}],children:[Object(i.jsx)(Ge,{_css30:[{marginTop:"0.25rem",marginBottom:"0.25rem"}],children:"\u30d5\u30a3\u30eb\u30bf\u30fc"}),Object(i.jsx)("ul",{children:S.length>0?S.map((function(e,t){return Object(i.jsx)("li",{children:Object(i.jsx)(We,{_css31:[{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:e.name})},t)})):Object(i.jsx)("li",{children:Object(i.jsx)(Ue,{_css32:[{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:"\u672a\u767b\u9332"})})})]})]})]})}var Ye=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv21",componentId:"sc-1teqlu0-32"})(["",""],(function(e){return e._css33})),Xe=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv22",componentId:"sc-1teqlu0-33"})(["",""],(function(e){return e._css34})),Ve=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv23",componentId:"sc-1teqlu0-34"})(["",""],(function(e){return e._css35})),Je=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv24",componentId:"sc-1teqlu0-35"})(["",""],(function(e){return e._css36})),Ke=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv25",componentId:"sc-1teqlu0-36"})(["",""],(function(e){return e._css37})),Qe=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv26",componentId:"sc-1teqlu0-37"})(["",""],(function(e){return e._css38})),Ze=Object(r.b)("svg").withConfig({displayName:"ItemInfo___StyledSvg3",componentId:"sc-1teqlu0-38"})(["",""],(function(e){return e._css39})),$e=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv27",componentId:"sc-1teqlu0-39"})(["",""],(function(e){return e._css40})),et=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv28",componentId:"sc-1teqlu0-40"})(["",""],(function(e){return e._css41})),tt=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv29",componentId:"sc-1teqlu0-41"})(["",""],(function(e){return e._css42})),nt=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv30",componentId:"sc-1teqlu0-42"})(["",""],(function(e){return e._css43})),it=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv31",componentId:"sc-1teqlu0-43"})(["",""],(function(e){return e._css44})),ct=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv32",componentId:"sc-1teqlu0-44"})(["",""],(function(e){return e._css45}));var rt=function(e){var t=e.name,n=e.type,c=e.iri,r=e.item,a=e.modules,s=e.isOpen,l=e.back,d=Object(v.a)(e,["name","type","iri","item","modules","isOpen","back"]),b=Object(o.useState)(s||!1),p=Object(u.a)(b,2),m=p[0],j=p[1],h=Object(o.useState)(!1),f=Object(u.a)(h,2),g=f[0],x=f[1],O=r.description||null;return Object(i.jsxs)(Ye,{style:Object(be.a)(Object(be.a)({},d.style),{},{maxHeight:"40rem",zIndex:"20000000"}),_css33:[{position:"fixed",top:"1rem",left:"1rem",display:"flex",flexDirection:"column","--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))","--tw-shadow":"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",borderRadius:"0.25rem",right:"1rem","@media (min-width: 640px)":{right:"auto",width:"18rem"}},m?{bottom:"5rem"}:{bottom:"auto"}],children:[Object(i.jsxs)("div",{children:[l,Object(i.jsxs)(Xe,{_css34:[l?{borderTopWidth:"1px"}:null,{paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem",borderRadius:"0.25rem","--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))"}],children:[Object(i.jsx)(Ve,{_css35:[{fontSize:"0.75rem",lineHeight:"1rem"}],children:n}),Object(i.jsx)("div",{children:t}),Object(i.jsx)(Je,{_css36:[{fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))",wordBreak:"break-all"}],children:c||"\u672a\u767b\u9332"})]})]}),Object(i.jsx)(Ke,{onClick:function(){j(!m),!g&&x(!0)},_css37:[{borderTopWidth:"1px",display:"flex",justifyContent:"center",cursor:"pointer",paddingTop:"0.25rem",paddingBottom:"0.25rem",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(243, 244, 246, var(--tw-bg-opacity))"}}],children:Object(i.jsxs)(Qe,{_css38:[{fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgba(31, 41, 55, var(--tw-text-opacity))",display:"flex",alignItems:"center"}],children:[Object(i.jsx)(Ze,{style:{width:"18px",height:"18px"},viewBox:"0 0 24 24",_css39:[{fill:"currentColor","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:Object(i.jsx)("path",{d:m?ce.h:ce.g})}),!g&&Object(i.jsx)("div",{children:"\u30af\u30ea\u30c3\u30af\u3067\u958b\u304f/\u9589\u3058\u308b"})]})}),Object(i.jsxs)($e,{_css40:[m?{display:"block"}:{display:"none"},{flexGrow:"1",overflowY:"scroll"}],children:[Object(i.jsx)(et,{_css41:[{marginTop:"0px",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgba(31, 41, 55, var(--tw-text-opacity))"}],children:"\u30a4\u30f3\u30d5\u30a9\u30e1\u30fc\u30b7\u30e7\u30f3"}),Object(i.jsx)(tt,{_css42:[{borderWidth:"1px",borderRadius:"0.125rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem",margin:"0.5rem",marginTop:"0px"}],children:Object(i.jsx)(nt,{_css43:[{fontSize:"0.875rem",lineHeight:"1.25rem"},!O&&{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:O||"\u672a\u767b\u9332"})}),Object(i.jsxs)(it,{_css44:[{paddingTop:"0.5rem",paddingBottom:"0.5rem"}],children:[Object(i.jsx)(ct,{_css45:[{paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",borderBottomWidth:"1px",fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgba(31, 41, 55, var(--tw-text-opacity))"}],children:"\u30e2\u30b8\u30e5\u30fc\u30eb"}),Object.entries(a).map((function(e){var t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(i.jsx)(Fe,{module:c},n)}))]})]})]})},ot=Object(r.b)("div").withConfig({displayName:"Clock___StyledDiv",componentId:"x8e724-0"})(["",""],(function(e){return e._css})),at=Object(r.b)("div").withConfig({displayName:"Clock___StyledDiv2",componentId:"x8e724-1"})(["",""],(function(e){return e._css2}));var st=function(e){Object.assign({},e);var t=Object(o.useState)(),n=Object(u.a)(t,2),c=n[0],r=n[1];function a(){var e=(new Date).toLocaleString("ja-JP",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"});r(e)}return Object(o.useEffect)((function(){a();var e=setInterval((function(){return a()}),3e4);return function(){clearInterval(e)}})),Object(i.jsx)(ot,{_css:[{display:"flex",alignItems:"center"}],children:Object(i.jsx)(at,{_css2:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))","--tw-shadow":"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",borderRadius:"0.25rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem",userSelect:"none"}],children:c})})};function lt(e){Object.assign({},e);return Object(i.jsx)(w.c,{makeDefault:!0,up:[0,0,1],position:[0,-400,200],fov:60,aspect:window.innerWidth/window.innerHeight,near:1,far:2048})}function dt(e){var t=e.width,n=e.height,c=e.color;Object(v.a)(e,["width","height","color"]);return Object(i.jsxs)("mesh",{children:[Object(i.jsx)("planeBufferGeometry",{args:[t,n]}),Object(i.jsx)("meshBasicMaterial",{color:c||15856629,polygonOffset:!0,polygonOffsetFactor:1})]})}function bt(e){var t=e.model,n=e.base,c=e.depth,r=e.floor,a=e.floors,s=(Object(v.a)(e,["model","base","depth","floor","floors"]),250),l=250,d=Object(j.d)(f),b=Object(u.a)(d,2),p=b[0],m=b[1],h=Object(o.useMemo)((function(){return new H.Shape}),[]),g=n[0][0],x=n[0][1],O=R(t,g,x,s,l);h.moveTo(0,0),n.forEach((function(e){var n=R(t,e[0],e[1],s,l);h.lineTo(n.x-O.x,n.y-O.y)}));var y=Object(o.useMemo)((function(){var e={steps:1,depth:.2*(c||50),bevelEnabled:!1};return new H.ExtrudeBufferGeometry(h,e)}),[h,c]),I=r||1,S=.2*(c||50)/I,C=a||{},D=Object(o.useMemo)((function(){return new H.ShapeBufferGeometry(h)}),[h]),N=[],B=Object(o.useState)(null),k=Object(u.a)(B,2),P=k[0],q=k[1],M=Object(o.useState)(null),z=Object(u.a)(M,2),T=z[0],L=z[1],E=Object(o.useState)(null),A=Object(u.a)(E,2),G=A[0],W=A[1],U=Object(o.useState)(null),F=Object(u.a)(U,2),Y=F[0],X=F[1];Object(o.useEffect)((function(){p.id!==Y&&X(null)}),[p.id,Y]),Object(o.useEffect)((function(){document.body.style.cursor=T||G?"pointer":"auto"}),[T,G]);for(var V=function(e){var n=C["".concat(e+1)]||{texture:null,anchors:[]};n.n="".concat(e+1);var c=n.anchors.map((function(n,c){var r=R(t,n.position.lng,n.position.lat,s,l);return Object(i.jsxs)("mesh",{position:[r.x-O.x,r.y-O.y,S/2],userData:{data:n},visible:null===P||P===e+1,children:[Object(i.jsx)("sphereBufferGeometry",{args:[.1,20,20]}),Object(i.jsx)("meshBasicMaterial",{color:2201331}),Object(i.jsxs)("mesh",{name:"hitbox",visible:null===P||P===e+1,onPointerOver:function(t){t.stopPropagation(),P===e+1&&W(n.id)},onPointerOut:function(e){e.stopPropagation(),G===n.id&&W(null)},onPointerDown:function(t){P===e+1&&!G!==n.id&&(t.stopPropagation(),m(n),X(n.id))},children:[Object(i.jsx)("sphereBufferGeometry",{args:[1,20,20]}),Object(i.jsx)("meshBasicMaterial",{visible:G===n.id||Y===n.id,color:2201331,opacity:.5,transparent:!0})]}),Object(i.jsx)(w.a,{style:{pointerEvents:"none"},children:Object(i.jsx)("div",{style:{display:null===P||P===e+1?"block":"none",fontSize:"0.75rem",fontWeight:G===n.id||Y===n.id?"bold":null,width:"10rem"},children:n.name})})]},c)})),r=Object(i.jsxs)("mesh",{"position-z":S*e,geometry:D,userData:{metadata:n},onPointerDown:function(t){G||(P===e+1?(t.stopPropagation(),q(null)):null===P&&(t.stopPropagation(),q(e+1)))},onPointerOver:function(t){null!==P&&P!==e+1||(t.stopPropagation(),L(e+1))},onPointerOut:function(t){null!==P&&P!==e+1||(t.stopPropagation(),L(null))},visible:null===P||P===e+1,children:[Object(i.jsx)("meshBasicMaterial",{color:T===e+1?11184810:15856628,side:H.DoubleSide,visible:null===P||P===e+1}),Object(i.jsxs)("lineSegments",{children:[Object(i.jsx)("edgesGeometry",{attach:"geometry",args:[D]}),Object(i.jsx)("lineBasicMaterial",{color:13421772,attach:"material"})]}),Object(i.jsx)("group",{name:"anchors",children:c})]},e);N.push(r)},J=0;J<I;J++)V(J);var K=Object(_.i)((function(e){var t=(new H.Box3).setFromObject(e),n=t.getSize(new H.Vector3),i=Math.min(218/n.x,218/n.y);e.scale.set(i,i,i);var c=t.getCenter(new H.Vector3);e.translateX(-c.x*i),e.translateY(-c.y*i)}),[]);return Object(i.jsxs)("mesh",{ref:K,position:[0,0,0],geometry:y,children:[Object(i.jsx)("meshLambertMaterial",{wireframe:!0,visible:!1}),Object(i.jsxs)("lineSegments",{children:[Object(i.jsx)("edgesGeometry",{attach:"geometry",args:[y,45]}),Object(i.jsx)("lineBasicMaterial",{color:13421772,attach:"material"})]}),Object(i.jsx)("group",{name:"floors",children:N})]})}var ut=function(e){var t,n=e.model,c=e.type,r=e.entity;return Object(v.a)(e,["model","type","entity"]),t&&(t=null),r&&"building"===c&&(t=Object(i.jsx)(bt,{model:n,base:r.base,depth:r.depth,floor:r.floor,floors:r.floors},r.id)),Object(i.jsxs)(_.a,{colorManagement:!1,pixelRatio:Math.min(2,window.devicePixelRatio),gl:{powerPreference:"default",antialias:!1},children:[Object(i.jsx)(lt,{}),Object(i.jsx)("ambientLight",{args:[16777215,1]}),Object(i.jsx)("pointLight",{position:[10,10,10]}),Object(i.jsx)(dt,{width:250,height:250}),Object(i.jsx)(j.a,{value:Object(j.e)(),children:t}),Object(i.jsx)(w.b,{target:[0,0,0],minDistance:100,maxDistance:500,maxPolarAngle:Math.PI/2-.1})]})},pt=(n(123),{id:null,name:null,type:null,iri:null,url:null,community:null,description:null,bbox:{minlng:139.647216796875,minlat:35.550105335885505,maxlng:139.658203125,maxlat:35.55904339525895},canvas:{width:1024,height:1024},terrain:null,building:null,modules:{}});function mt(){return jt.apply(this,arguments)}function jt(){return(jt=Object(p.a)(b.a.mark((function e(){var t,n,i,c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new URL(window.location),(r=new URLSearchParams(c.search)).has("twin")?(n=r.get("twin"),i=new URL("./twin.json",n)):(n=null,i="./twin.json"),e.next=5,y.a.get(i).then((function(e){return e.data})).catch((function(){return pt}));case 5:return(t=e.sent)._basePath=n,r.has("no-terrain")&&(t.terrain=null),t.bbox={minlng:t.bbox[0],minlat:t.bbox[1],maxlng:t.bbox[2],maxlat:t.bbox[3]},e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ht=Object(r.b)("div").withConfig({displayName:"App___StyledDiv",componentId:"v4ni6-0"})(["",""],(function(e){return e._css})),ft=Object(r.b)("div").withConfig({displayName:"App___StyledDiv2",componentId:"v4ni6-1"})(["",""],(function(e){return e._css2})),gt=Object(r.b)("div").withConfig({displayName:"App___StyledDiv3",componentId:"v4ni6-2"})(["",""],(function(e){return e._css3})),xt=Object(r.b)("div").withConfig({displayName:"App___StyledDiv4",componentId:"v4ni6-3"})(["",""],(function(e){return e._css4})),Ot=Object(r.b)("div").withConfig({displayName:"App___StyledDiv5",componentId:"v4ni6-4"})(["",""],(function(e){return e._css5})),yt=Object(r.b)("div").withConfig({displayName:"App___StyledDiv6",componentId:"v4ni6-5"})(["",""],(function(e){return e._css6})),vt=Object(r.b)("div").withConfig({displayName:"App___StyledDiv7",componentId:"v4ni6-6"})(["",""],(function(e){return e._css7})),_t=Object(r.b)("div").withConfig({displayName:"App___StyledDiv8",componentId:"v4ni6-7"})(["",""],(function(e){return e._css8})),wt=Object(r.b)("a").withConfig({displayName:"App___StyledA",componentId:"v4ni6-8"})(["",""],(function(e){return e._css9})),It=Object(r.b)("div").withConfig({displayName:"App___StyledDiv9",componentId:"v4ni6-9"})(["",""],(function(e){return e._css10}));var St=function(){var e=Object(o.useState)({id:null,name:null,type:null,iri:null,description:null,modules:[]}),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(o.useState)(!1),a=Object(u.a)(r,2),s=a[0],l=a[1],d=Object(j.d)(h),O=Object(u.a)(d,2)[1],y=Object(j.d)(f),v=Object(u.a)(y,2),_=v[0],w=v[1],I=Object(j.d)(g),S=Object(u.a)(I,2),C=S[0],D=S[1],N=Object(o.useState)({}),B=Object(u.a)(N,2),k=B[0],P=B[1],q=Object(o.useState)(!1),R=Object(u.a)(q,2),M=R[0],z=R[1],T=Object(j.d)(x),L=Object(u.a)(T,2),E=L[0],A=L[1];Object(o.useEffect)((function(){Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt();case 2:t=e.sent,c(t),l(!0);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(o.useEffect)((function(){E&&z(!0)}),[E]),Object(o.useEffect)((function(){O((function(){return Object.values(n.modules).reduce((function(e,t){return e.concat(t.layers)}),[]).reduce((function(e,t){return e["".concat(t.id)]={enabled:t.enabled},e}),{})}))}),[O,n.modules]),Object(o.useEffect)((function(){!_&&n&&n.id&&w(n),_&&P({name:_.name,type:_.type_label||_.type,iri:_.iri,description:_.description})}),[_,w,n]);var H=Object(o.useRef)(null);return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(ht,{style:{display:C?"none":"block"},_css:[{position:"absolute",top:"0px",bottom:"0px",left:"0px",right:"0px"}],children:s&&Object(i.jsx)(ie,{model:n,basePath:n._basePath})}),Object(i.jsx)(m.a,{nodeRef:H,in:!!C,timeout:1,children:function(e){return Object(i.jsx)(ft,{ref:H,className:"detail-view",_css2:[{position:"absolute",top:"0px",bottom:"0px",left:"0px",right:"0px"},["entering","entered"].includes(e)?{display:"block"}:{display:"none"}],children:Object(i.jsx)("div",{style:{width:"100%",height:"100%",display:"entered"===e?"block":"none"},children:s&&Object(i.jsx)(ut,{model:n,type:"building",entity:C})})})}}),s&&Object(i.jsx)(rt,{name:k.name,type:k.type,iri:k.iri,item:k,modules:n.modules,back:C&&Object(i.jsxs)(gt,{onClick:function(){C.id===_.id?(D(null),w(null)):w(C)},_css3:[{fontSize:"0.875rem",lineHeight:"1.25rem","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center","--tw-bg-opacity":"1",backgroundColor:"rgba(249, 250, 251, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(243, 244, 246, var(--tw-bg-opacity))"}}],children:[Object(i.jsx)(xt,{_css4:[{marginRight:"0.25rem"}],children:Object(i.jsx)("svg",{style:{width:"18px",height:"18px"},viewBox:"0 0 24 24",children:Object(i.jsx)("path",{fill:"#888",d:ce.b})})}),Object(i.jsx)("div",{children:"\u623b\u308b"})]})}),Object(i.jsxs)(Ot,{id:"debug",_css5:[{borderTopLeftRadius:"0.375rem",borderTopRightRadius:"0.375rem","--tw-bg-opacity":"1",backgroundColor:"rgba(31, 41, 55, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",position:"fixed",bottom:"0px",left:"0px",right:"0px",height:"12rem",padding:"1rem",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-shadow":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},M?{display:"block"}:{display:"none"}],children:[Object(i.jsx)(yt,{onClick:function(){z(!1),A("")},_css6:[{position:"absolute",top:"1rem",right:"1rem",cursor:"pointer"}],children:Object(i.jsx)("svg",{style:{width:"18px",height:"18px"},viewBox:"0 0 24 24",children:Object(i.jsx)("path",{fill:"#eee",d:ce.c})})}),Object(i.jsx)(vt,{_css7:[{overflowY:"scroll",width:"100%",height:"100%"}],children:E})]}),Object(i.jsx)(_t,{_css8:[{position:"absolute",top:"1rem",left:"auto",right:"1rem",display:"none","@media (min-width: 640px)":{display:"block"}}],children:Object(i.jsx)(st,{})}),s&&Object(i.jsx)(de,{communityURL:n.community}),Object(i.jsx)(wt,{href:"//beta.owntwin.com",_css9:[{cursor:"pointer"}],children:Object(i.jsx)(It,{className:"logo",_css10:[{position:"absolute",bottom:"1rem",left:"auto",right:"1rem",opacity:"0.75",fontWeight:"700","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgba(107, 114, 128, var(--tw-bg-opacity))",borderRadius:"0.25rem",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem"}],children:Object(i.jsx)("div",{children:"OwnTwin"})})})]})};function Ct(){var e=Object(c.a)(["\n      @keyframes spin {\n          to { \n            transform: rotate(360deg);\n          }\n        }\n      @keyframes ping {\n          75%, 100% { \n            transform: scale(2); opacity: 0;\n          }\n        }\n      @keyframes pulse {\n          50% { \n            opacity: .5;\n          }\n        }\n      @keyframes bounce {\n          0%, 100% { \n            transform: translateY(-25%); animationTimingFunction: cubic-bezier(0.8,0,1,1);\n          }\n        \n          50% { \n            transform: none; animationTimingFunction: cubic-bezier(0,0,0.2,1);\n          }\n        }\n* {\n    --tw-ring-inset: var(--tw-empty,/*!*/ /*!*/);\n    --tw-ring-offset-width: 0px;\n    --tw-ring-offset-color: #fff;\n    --tw-ring-color: rgba(59, 130, 246, 0.5);\n    --tw-ring-offset-shadow: 0 0 #0000;\n    --tw-ring-shadow: 0 0 #0000;\n  }\n* {\n  --tw-shadow: 0 0 #0000; }\n"]);return Ct=function(){return e},e}var Dt=Object(r.a)(Ct());l.a.render(Object(i.jsxs)(a.a.StrictMode,{children:[Object(i.jsx)(Dt,{}),Object(i.jsx)(j.b,{children:Object(i.jsx)(St,{})})]}),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.88a8858d.chunk.js.map