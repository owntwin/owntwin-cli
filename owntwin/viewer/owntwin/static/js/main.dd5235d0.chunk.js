(this.webpackJsonpowntwin=this.webpackJsonpowntwin||[]).push([[0],{123:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var i=n(2),r=n(71),c=n(4),o=(n(91),n(1)),a=n.n(o),s=n(26),l=n.n(s),d=n(16),b=n.n(d),p=n(6),u=n(24),m=n(130),j=n(18),f=Object(j.c)({}),h=Object(j.c)(null),g=Object(j.c)(null),x=Object(j.c)(null),O=n(41),y=n.n(O),v=n(22),_=n(11),w=n(30),I=n(17),S=n(75),C=new(n.n(S).a),D=156543.03392804097,N=20037508.342789244;function k(e,t,n){var i=e*N/180,r=Math.log(Math.tan((90+t)*Math.PI/360))/(Math.PI/180);r=r*N/180;var c=D/Math.pow(2,n);return[(i+N)/c,(r+N)/c]}function B(e,t,n,i,r){i=i||e.canvas.width,r=r||e.canvas.height;var c=k(e.bbox.minlng,e.bbox.minlat,18),o=Object(p.a)(c,2),a=o[0],s=o[1],l=k(t,n,18),d=Object(p.a)(l,2),b=function(e,t,n){var i=C.xyz([e.bbox.minlng,e.bbox.minlat,e.bbox.maxlng,e.bbox.maxlat],18,!0),r=(i.maxX-i.minX+1)*C.size,c=(i.maxY-i.minY+1)*C.size;return[t*e.canvas.width/r-e.canvas.width/2,n*e.canvas.height/c-e.canvas.height/2]}(e,d[0]-a,d[1]-s),u=Object(p.a)(b,2);return{x:u[0],y:u[1]}}function P(e,t,n){var i=function(e,t,n){var i=C.xyz([e.bbox.minlng,e.bbox.minlat,e.bbox.maxlng,e.bbox.maxlat],18,!0),r=(i.maxX-i.minX+1)*C.size,c=(i.maxY-i.minY+1)*C.size;return[(t+e.canvas.width/2)*(r/e.canvas.width),(n+e.canvas.height/2)*(c/e.canvas.height)]}(e,t,n),r=Object(p.a)(i,2);t=r[0],n=r[1];var c=k(e.bbox.minlng,e.bbox.minlat,18),o=Object(p.a)(c,2),a=function(e,t,n){var i=D/Math.pow(2,n),r=(t*i-N)/N*180;return[(e*i-N)/N*180,r=180/Math.PI*(2*Math.atan(Math.exp(r*Math.PI/180))-Math.PI/2)]}(o[0]+t,o[1]+n,18),s=Object(p.a)(a,2);return{lng:s[0],lat:s[1]}}function q(e){return 1e4*e}function R(e,t,n,i,r){i=i||e.canvas.width,r=r||e.canvas.height;var c=i/(q(e.bbox.maxlng)-q(e.bbox.minlng)),o=r/(q(e.bbox.maxlat)-q(e.bbox.minlat));return{x:(q(t)-q(e.bbox.minlng))*c-i/2,y:(q(n)-q(e.bbox.minlat))*o-r/2}}var M=Object(o.createContext)(),z=100;function T(e){var t=e.width,n=e.height,r=e.color,c=(Object(v.a)(e,["width","height","color"]),Object(o.useContext)(ee).model),a=Object(o.useState)([]),s=Object(p.a)(a,2)[1],l=Object(j.d)(x),d=Object(p.a)(l,2),b=d[0],u=d[1];return Object(o.useEffect)((function(){b||s([])}),[b]),Object(i.jsxs)("mesh",{onDoubleClick:function(e){if(e.shiftKey&&(e.stopPropagation(),e.intersections.length>0)){var t=e.intersections[0].point,n=P(c,t.x,t.y);s((function(e){var t=[].concat(Object(I.a)(e),["[".concat(n.lng,", ").concat(n.lat,"]")]);return u("[".concat(t.join(", "),"]")),t}))}},children:[Object(i.jsx)("planeBufferGeometry",{args:[t,n]}),Object(i.jsx)("meshBasicMaterial",{color:r||15856629,polygonOffset:!0,polygonOffsetFactor:1})]})}var L=function(e){var t=e.levelmap,n=Object(v.a)(e,["levelmap"]),r=Object(o.useState)(null),c=Object(p.a)(r,2),a=c[0],s=c[1],l=Object(_.i)((function(e){for(var n=0;n<t.length;n++){var i=t[n],r=i[0]+z*(99-i[1]);e.vertices[r].z=2*i[2]}e.verticesNeedUpdate=!0,s(Array.from(e.vertices))}),[t]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(T,{width:1024,height:1024}),Object(i.jsxs)("mesh",{children:[Object(i.jsx)("planeGeometry",{ref:l,args:[1024,1024,99,99]}),Object(i.jsx)("meshBasicMaterial",{color:16316922})]}),Object(i.jsx)(M.Provider,{value:{geometry:l.current,vertices:a},children:n.children})]})},E=n(79),A=n(80),H=n(0),G=100,W=new E.a;function U(e){return F.apply(this,arguments)}function F(){return(F=Object(u.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){return new Promise((function(e){W.load(t,e)}))},e.next=3,n().then((function(e){for(var t=e.xml.viewBox.baseVal.width,n=e.xml.viewBox.baseVal.height,i=e.paths,r=[],c=0;c<i.length;c++){i[c].toShapes(!0).forEach((function(e){var i=e.getPoints();i=i.map((function(e){var i=e.x;i>=t&&(i=t-1);var r=n-e.y;return r<0&&(r=0),r>=n&&(r=n-1),e.x=i,e.y=r,e})),r.push(i)}))}return{pathPoints:r,width:t,height:n}})).catch((function(e){console.error(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){var t=e.url,n=(Object(v.a)(e,["url"]),Object(o.useState)([])),r=Object(p.a)(n,2),c=r[0],a=r[1],s=Object(o.useState)(!1),l=Object(p.a)(s,2),d=l[0],m=l[1],j=Object(o.useContext)(M);Object(o.useEffect)((function(){Object(u.a)(b.a.mark((function e(){var n,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t);case 2:n=e.sent,r=[],n.pathPoints.forEach((function(e,t){var i=[];e.forEach((function(t,n){n>0&&(i.push(e[n-1]),i.push(t))}));var c=(new H.BufferGeometry).setFromPoints(i);c.scale(1024/n.width,1024/n.height,1),r.push(c)})),c=A.a.mergeBufferGeometries(r),a([Object(i.jsx)("lineSegments",{geometry:c,children:Object(i.jsx)("meshBasicMaterial",{color:14343392,side:H.DoubleSide,depthWrite:!1})},0)]);case 7:case"end":return e.stop()}}),e)})))()}),[t]);var f=Object(_.i)((function(e){var t=(new H.Box3).setFromObject(e).getSize(new H.Vector3);e.position.set(0,0,0),e.translateX(-t.x/2),e.translateY(-t.y/2),e.children.forEach((function(e){var t,n=e.geometry.getAttribute("position");t=n.array.map((function(e,t){return t%3===2?function(e,t){if(!j.vertices)return 0;var n=Math.floor(e/10.24)+G*(99-Math.floor(t/10.24));return n<0||j.vertices.length<=n?0:j.vertices[n].z}(n.array[t-2],n.array[t-1])+2:e})),e.geometry.setAttribute("position",new H.BufferAttribute(new Float32Array(t),3))})),m(!0)}),[c,j.vertices]);return Object(i.jsx)("group",{ref:f,visible:d,children:c})}function X(e){var t=e.url,n=Object(v.a)(e,["url"]),r=Object(o.useContext)(M),c=Object(_.g)(H.TextureLoader,t);return Object(i.jsx)("mesh",{geometry:r.geometry,children:Object(i.jsx)("meshBasicMaterial",{map:c,transparent:!0,color:16777215,opacity:n.opacity?n.opacity:.5})})}var V=function(e){var t=e.def,n=e.basePath;return Object(v.a)(e,["def","basePath"]),n&&(t.path=n?new URL(t.path,n).toString():t.path),"svg"===t.format?Object(i.jsx)(Y,{url:t.path}):"png"===t.format?Object(i.jsx)(o.Suspense,{fallback:null,children:Object(i.jsx)(X,{url:t.path,opacity:.5})}):void 0},J=Object(c.b)("div").withConfig({displayName:"Building___StyledDiv",componentId:"sc-1nrpc7o-0"})(["",""],(function(e){return e._css})),K=Object(c.b)("div").withConfig({displayName:"Building___StyledDiv2",componentId:"sc-1nrpc7o-1"})(["",""],(function(e){return e._css2})),Q=Object(c.b)("div").withConfig({displayName:"Building___StyledDiv3",componentId:"sc-1nrpc7o-2"})(["",""],(function(e){return e._css3}));function Z(e){var t=e.item;Object(v.a)(e,["item"]);return Object(i.jsxs)(J,{style:{minWidth:"200px"},_css:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))",borderWidth:"1px",borderRadius:"0.25rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem"}],children:[Object(i.jsx)(K,{_css2:[{fontSize:"0.75rem",lineHeight:"1rem"}],children:t.type}),Object(i.jsx)("div",{children:t.name}),Object(i.jsx)(Q,{_css3:[{marginTop:"0.75rem",fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:"\u30af\u30ea\u30c3\u30af\u3067\u62e1\u5927"})]})}var $=function(e){var t=e.base,n=e.z,r=e.depth,c=e.onPointerDown,a=Object(v.a)(e,["base","z","depth","onPointerDown"]),s=Object(o.useContext)(ee).model,l=t[0][0],d=t[0][1],b=B(s,l,d),u=Object(o.useMemo)((function(){var e=new H.Shape;e.moveTo(0,0),t.slice().reverse().forEach((function(t){var n=B(s,t[0],t[1]);e.lineTo(n.x-b.x,n.y-b.y)}));var n={steps:1,depth:r||50,bevelEnabled:!1};return new H.ExtrudeBufferGeometry(e,n)}),[s,t,b.x,b.y,r]),m=Object(o.useState)(!1),j=Object(p.a)(m,2),f=j[0],h=j[1],g=15856628,x=6710886;return Object(o.useEffect)((function(){document.body.style.cursor=f?"pointer":"auto"}),[f]),Object(i.jsxs)("mesh",{position:[b.x,b.y,n],geometry:u,onClick:a.onClick,onPointerDown:c,onPointerOver:function(e){e.stopPropagation(),h(!0)},onPointerOut:function(e){return h(!1)},children:[Object(i.jsx)("meshLambertMaterial",{color:f?x:g}),Object(i.jsxs)("lineSegments",{children:[Object(i.jsx)("edgesGeometry",{attach:"geometry",args:[u,45]}),Object(i.jsx)("lineBasicMaterial",{color:13421772,attach:"material"})]}),Object(i.jsx)(w.a,{style:{pointerEvents:"none"},children:f&&Object(i.jsx)(Z,{item:{name:a.name,type:a.type}})})]})},ee=Object(o.createContext)();function te(e){Object.assign({},e);return Object(i.jsx)(w.c,{makeDefault:!0,up:[0,0,1],position:[0,-960,480],fov:60,aspect:window.innerWidth/window.innerHeight,near:1,far:2048})}function ne(){return(ne=Object(u.a)(b.a.mark((function e(t,n){var i,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=[],!t.terrain||!t.terrain.path){e.next=8;break}return t.terrain.path=n?new URL(t.terrain.path,n).toString():t.terrain.path,e.next=5,y.a.get(t.terrain.path).then((function(e){return e.data})).catch((function(){return i}));case 5:t.terrain.data=e.sent,e.next=10;break;case 8:t.terrain=t.terrain||{},t.terrain.data=i;case 10:if(r={routes:[],buildings:[]},!t.building||!t.building.path){e.next=18;break}return t.building.path=n?new URL(t.building.path,n).toString():t.building.path,e.next=15,y.a.get(t.building.path).then((function(e){return e.data})).catch((function(){return r}));case 15:t.building.data=e.sent,e.next=20;break;case 18:t.building=t.building||{},t.building.data=r;case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie=function(e){var t=e.model,n=e.basePath,r=(Object(v.a)(e,["model","basePath"]),Object(o.useState)([])),c=Object(p.a)(r,2),a=c[0],s=c[1],l=Object(o.useState)([]),d=Object(p.a)(l,2),b=d[0],u=d[1];Object(o.useEffect)((function(){(function(e,t){return ne.apply(this,arguments)})(t,n).then((function(e){s(e.terrain.data),u(e.building.data.buildings)}))}),[t,n]);var m=Object(j.d)(f),x=Object(p.a)(m,1)[0],O=Object(j.d)(h),y=Object(p.a)(O,2)[1],I=Object(j.d)(g),S=Object(p.a)(I,2)[1];return Object(i.jsxs)(_.a,{id:"model-view-canvas",colorManagement:!1,pixelRatio:Math.min(2,window.devicePixelRatio),gl:{powerPreference:"default",antialias:!1},children:[Object(i.jsx)(te,{}),Object(i.jsx)("ambientLight",{args:[16777215,1]}),Object(i.jsx)("pointLight",{position:[10,10,10]}),Object(i.jsxs)(j.a,{value:Object(j.e)(),children:[Object(i.jsx)(ee.Provider,{value:{model:t},children:Object(i.jsxs)(L,{levelmap:a,children:[Object.values(t.modules).reduce((function(e,t){return e.concat(t.definition.layers||[])}),[]).map((function(e){return x[e.id]&&x[e.id].enabled?Object(i.jsx)(V,{def:e,basePath:n},e.id):null})),b.map((function(e){return Object(i.jsx)($,{base:e.base,z:e.z,depth:e.depth,name:e.name,type:e.type,onPointerDown:function(t){t.stopPropagation(),y(e),S(e)}},e.id)}))]})}),")"]}),Object(i.jsx)(w.b,{target:[0,0,0],minDistance:100,maxDistance:1500,maxPolarAngle:Math.PI/2-.1})]})},re=n(27),ce=Object(c.b)("div").withConfig({displayName:"Sidenav___StyledDiv",componentId:"sc-9e2epx-0"})(["",""],(function(e){return e._css})),oe=Object(c.b)("div").withConfig({displayName:"Sidenav___StyledDiv2",componentId:"sc-9e2epx-1"})(["",""],(function(e){return e._css2})),ae=Object(c.b)("div").withConfig({displayName:"Sidenav___StyledDiv3",componentId:"sc-9e2epx-2"})(["",""],(function(e){return e._css3})),se=Object(c.b)("div").withConfig({displayName:"Sidenav___StyledDiv4",componentId:"sc-9e2epx-3"})(["",""],(function(e){return e._css4})),le=Object(c.b)("button").withConfig({displayName:"Sidenav___StyledButton",componentId:"sc-9e2epx-4"})(["",""],(function(e){return e._css5}));var de=function(e){var t=e.communityURL;return Object(v.a)(e,["communityURL"]),Object(i.jsxs)(ce,{_css:[{position:"fixed",bottom:"1rem",left:"1rem",display:"flex",alignItems:"center",height:"2.5rem"}],children:[Object(i.jsx)(oe,{_css2:[{marginRight:"0.75rem",display:"flex",alignItems:"center"}],children:Object(i.jsx)("a",{href:"https://beta.owntwin.com/docs/about",target:"_blank",rel:"noreferrer",children:Object(i.jsx)("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",children:Object(i.jsx)("path",{fill:"#000000",d:re.e})})})}),!!t&&Object(i.jsx)(ae,{_css3:[{marginRight:"0.75rem",display:"flex",alignItems:"center"}],children:Object(i.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:Object(i.jsx)("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",children:Object(i.jsx)("path",{fill:"#000000",d:re.a})})})}),Object(i.jsx)(se,{_css4:[{display:"flex",alignItems:"center"}],children:Object(i.jsx)(le,{onClick:function(){(document.body.requestFullscreen||document.body.webkitRequestFullscreen).call(document.body)},_css5:[{":focus":{outline:"2px solid transparent",outlineOffset:"2px"}}],children:Object(i.jsx)("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",children:Object(i.jsx)("path",{fill:"#000000",d:re.d})})})})]})},be=n(60);function pe(e,t){return 2===t.split(":",2).length?e&&e.properties&&e.properties[t]?encodeURIComponent(e.properties[t]):null:e&&e[t]?encodeURIComponent(e[t]):null}var ue=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv",componentId:"sc-1teqlu0-0"})(["",""],(function(e){return e._css})),me=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv2",componentId:"sc-1teqlu0-1"})(["",""],(function(e){return e._css2})),je=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv3",componentId:"sc-1teqlu0-2"})(["",""],(function(e){return e._css3})),fe=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv4",componentId:"sc-1teqlu0-3"})(["",""],(function(e){return e._css4})),he=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv5",componentId:"sc-1teqlu0-4"})(["",""],(function(e){return e._css5})),ge=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv6",componentId:"sc-1teqlu0-5"})(["",""],(function(e){return e._css6})),xe=Object(c.b)("svg").withConfig({displayName:"ItemInfo___StyledSvg",componentId:"sc-1teqlu0-6"})(["",""],(function(e){return e._css7})),Oe=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv7",componentId:"sc-1teqlu0-7"})(["",""],(function(e){return e._css8})),ye=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv8",componentId:"sc-1teqlu0-8"})(["",""],(function(e){return e._css9})),ve=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv9",componentId:"sc-1teqlu0-9"})(["",""],(function(e){return e._css10})),_e=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv10",componentId:"sc-1teqlu0-10"})(["",""],(function(e){return e._css11})),we=Object(c.b)("pre").withConfig({displayName:"ItemInfo___StyledPre",componentId:"sc-1teqlu0-11"})(["",""],(function(e){return e._css12})),Ie=Object(c.b)("span").withConfig({displayName:"ItemInfo___StyledSpan",componentId:"sc-1teqlu0-12"})(["",""],(function(e){return e._css13})),Se=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv11",componentId:"sc-1teqlu0-13"})(["",""],(function(e){return e._css14})),Ce=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv12",componentId:"sc-1teqlu0-14"})(["",""],(function(e){return e._css15})),De=Object(c.b)("pre").withConfig({displayName:"ItemInfo___StyledPre2",componentId:"sc-1teqlu0-15"})(["",""],(function(e){return e._css16})),Ne=Object(c.b)("span").withConfig({displayName:"ItemInfo___StyledSpan2",componentId:"sc-1teqlu0-16"})(["",""],(function(e){return e._css17})),ke=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv13",componentId:"sc-1teqlu0-17"})(["",""],(function(e){return e._css18})),Be=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv14",componentId:"sc-1teqlu0-18"})(["",""],(function(e){return e._css19})),Pe=Object(c.b)("a").withConfig({displayName:"ItemInfo___StyledA",componentId:"sc-1teqlu0-19"})(["",""],(function(e){return e._css20})),qe=Object(c.b)("svg").withConfig({displayName:"ItemInfo___StyledSvg2",componentId:"sc-1teqlu0-20"})(["",""],(function(e){return e._css21})),Re=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv15",componentId:"sc-1teqlu0-21"})(["",""],(function(e){return e._css22})),Me=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv16",componentId:"sc-1teqlu0-22"})(["",""],(function(e){return e._css23})),ze=Object(c.b)("span").withConfig({displayName:"ItemInfo___StyledSpan3",componentId:"sc-1teqlu0-23"})(["",""],(function(e){return e._css24})),Te=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv17",componentId:"sc-1teqlu0-24"})(["",""],(function(e){return e._css25})),Le=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv18",componentId:"sc-1teqlu0-25"})(["",""],(function(e){return e._css26})),Ee=Object(c.b)("input").withConfig({displayName:"ItemInfo___StyledInput",componentId:"sc-1teqlu0-26"})(["",""],(function(e){return e._css27})),Ae=Object(c.b)("span").withConfig({displayName:"ItemInfo___StyledSpan4",componentId:"sc-1teqlu0-27"})(["",""],(function(e){return e._css28})),He=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv19",componentId:"sc-1teqlu0-28"})(["",""],(function(e){return e._css29})),Ge=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv20",componentId:"sc-1teqlu0-29"})(["",""],(function(e){return e._css30})),We=Object(c.b)("span").withConfig({displayName:"ItemInfo___StyledSpan5",componentId:"sc-1teqlu0-30"})(["",""],(function(e){return e._css31})),Ue=Object(c.b)("span").withConfig({displayName:"ItemInfo___StyledSpan6",componentId:"sc-1teqlu0-31"})(["",""],(function(e){return e._css32}));function Fe(e){var t=e.id,n=e.module,r=e.properties,c=e.isOpen,a=(Object(v.a)(e,["id","module","properties","isOpen"]),Object(o.useState)(c||!1)),s=Object(p.a)(a,2),l=s[0],d=s[1],b=Object(o.useState)(!1),u=Object(p.a)(b,2),m=u[0],g=u[1],x=Object(j.d)(f),O=Object(p.a)(x,2),y=O[0],_=O[1],w=Object(j.d)(h),I=Object(p.a)(w,1)[0],S=n.definition,C=S.layers,D=S.actions||[],N=[];return r=r||{},Object(i.jsxs)(ue,{_css:[{borderBottomWidth:"1px"}],children:[Object(i.jsx)(me,{onClick:function(e){d(!l)},_css2:[{paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",cursor:"pointer",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(219, 234, 254, var(--tw-bg-opacity))"},display:"flex",flexDirection:"column"}],children:Object(i.jsxs)(je,{_css3:[{display:"flex",alignItems:"center"}],children:[Object(i.jsx)(fe,{_css4:[{flexGrow:"1"}],children:S.name}),Object(i.jsx)(he,{_css5:[{display:"flex",alignItems:"center"}],children:Object(i.jsx)(ge,{onClick:function(e){l?(e.stopPropagation(),g(!m)):g(!0)},_css6:[{borderRadius:"0.25rem",padding:"0.25rem",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(191, 219, 254, var(--tw-bg-opacity))"}}],children:Object(i.jsx)(xe,{style:{width:"18px",height:"18px"},viewBox:"0 0 24 24",_css7:[{fill:"currentColor","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:Object(i.jsx)("path",{d:re.f})})})})]})}),l&&Object(i.jsxs)(Oe,{_css8:[{paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingBottom:"0.75rem",fontSize:"0.875rem",lineHeight:"1.25rem"}],children:[m&&Object(i.jsxs)(ye,{_css9:[{marginBottom:"0.5rem",marginTop:"0.25rem"}],children:[Object(i.jsx)(ve,{_css10:[{marginTop:"0.25rem",marginBottom:"0.25rem"}],children:"\u8aac\u660e"}),Object(i.jsx)(_e,{_css11:[{padding:"0.5rem",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-bg-opacity":"1",backgroundColor:"rgba(243, 244, 246, var(--tw-bg-opacity))",borderRadius:"0.25rem"}],children:Object(i.jsx)(we,{_css12:[{overflowWrap:"break-word",whiteSpace:"pre-wrap"}],children:S.description||Object(i.jsx)(Ie,{_css13:[{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:"\u672a\u767b\u9332"})})}),Object(i.jsx)(Se,{_css14:[{marginTop:"0.5rem",marginBottom:"0.25rem"}],children:"\u5229\u7528\u6761\u4ef6"}),Object(i.jsx)(Ce,{_css15:[{padding:"0.5rem",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-bg-opacity":"1",backgroundColor:"rgba(243, 244, 246, var(--tw-bg-opacity))",borderRadius:"0.25rem"}],children:Object(i.jsx)(De,{_css16:[{overflowWrap:"break-word",whiteSpace:"pre-wrap"}],children:S.license||Object(i.jsx)(Ne,{_css17:[{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:"\u672a\u767b\u9332"})})})]}),Object(i.jsxs)(ke,{_css18:[{marginBottom:"0.5rem"}],children:[Object(i.jsx)(Be,{_css19:[{marginTop:"0.25rem",marginBottom:"0.25rem"}],children:"\u30a2\u30af\u30b7\u30e7\u30f3"}),Object(i.jsx)("ul",{children:D.length>0?D.map((function(e,n){var c=function(n){return r["".concat(t,":actions.").concat(e.id,".").concat(n)]||e[n]||null},o=[];return c("href")||o.push("href"),e.fields&&e.fields.forEach((function(e){null!==pe(I,e)||o.push(e)})),Object(i.jsxs)("li",{children:[Object(i.jsxs)(Pe,{href:function(){var t=e.fields?e.fields.map((function(e){var t=c("fields.assign_to");if(!t)return"";var n=t[e],i=pe(I,e);return n&&i?"".concat(n,"=").concat(i):""})):[];return"".concat(c("href"),"?").concat(e.default_param?"".concat(e.default_param,"&"):"").concat(t.join("&"))}(),onClick:function(e){if(o.length>0)return e.preventDefault(),!1},target:"_blank",rel:"noreferrer",_css20:[{display:"flex",alignItems:"center",cursor:"pointer",":hover":{"--tw-text-opacity":"1",color:"rgba(31, 41, 55, var(--tw-text-opacity))"}}],children:[Object(i.jsx)(qe,{style:{width:"14px",height:"14px"},viewBox:"0 0 24 24",_css21:[{fill:"currentColor","--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",marginRight:"0.125rem"}],children:Object(i.jsx)("path",{d:re.i})}),Object(i.jsx)(Re,{_css22:[o.length>0?{textDecoration:"line-through"}:null],children:e.text})]}),o.length>0&&Object(i.jsxs)(Me,{_css23:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(107, 114, 128, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",borderRadius:"0.25rem",paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.125rem",paddingBottom:"0.125rem",marginBottom:"0.125rem",fontSize:"0.75rem",lineHeight:"1rem"}],children:["\u60c5\u5831\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044:"," ",Object(i.jsx)("code",{children:o.join(", ")})]})]},n)})):Object(i.jsx)("li",{children:Object(i.jsx)(ze,{_css24:[{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:"\u672a\u767b\u9332"})})})]}),Object(i.jsxs)(Te,{_css25:[{marginBottom:"0.5rem"}],children:[Object(i.jsx)(Le,{_css26:[{marginTop:"0.25rem",marginBottom:"0.25rem"}],children:"\u30ec\u30a4\u30e4\u30fc"}),Object(i.jsx)("ul",{children:C.length>0?C.map((function(e,t){return Object(i.jsxs)("li",{children:[Object(i.jsx)(Ee,{type:"checkbox",checked:y[e.id].enabled,onChange:function(t){_((function(t){return t[e.id].enabled=!t[e.id].enabled,Object.assign({},t)}))},_css27:[{marginRight:"0.25rem"}]}),e.name]},t)})):Object(i.jsx)("li",{children:Object(i.jsx)(Ae,{_css28:[{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:"\u672a\u767b\u9332"})})})]}),Object(i.jsxs)(He,{_css29:[{marginBottom:"0.5rem"}],children:[Object(i.jsx)(Ge,{_css30:[{marginTop:"0.25rem",marginBottom:"0.25rem"}],children:"\u30d5\u30a3\u30eb\u30bf\u30fc"}),Object(i.jsx)("ul",{children:N.length>0?N.map((function(e,t){return Object(i.jsx)("li",{children:Object(i.jsx)(We,{_css31:[{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:e.name})},t)})):Object(i.jsx)("li",{children:Object(i.jsx)(Ue,{_css32:[{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:"\u672a\u767b\u9332"})})})]})]})]})}var Ye=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv21",componentId:"sc-1teqlu0-32"})(["",""],(function(e){return e._css33})),Xe=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv22",componentId:"sc-1teqlu0-33"})(["",""],(function(e){return e._css34})),Ve=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv23",componentId:"sc-1teqlu0-34"})(["",""],(function(e){return e._css35})),Je=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv24",componentId:"sc-1teqlu0-35"})(["",""],(function(e){return e._css36})),Ke=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv25",componentId:"sc-1teqlu0-36"})(["",""],(function(e){return e._css37})),Qe=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv26",componentId:"sc-1teqlu0-37"})(["",""],(function(e){return e._css38})),Ze=Object(c.b)("svg").withConfig({displayName:"ItemInfo___StyledSvg3",componentId:"sc-1teqlu0-38"})(["",""],(function(e){return e._css39})),$e=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv27",componentId:"sc-1teqlu0-39"})(["",""],(function(e){return e._css40})),et=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv28",componentId:"sc-1teqlu0-40"})(["",""],(function(e){return e._css41})),tt=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv29",componentId:"sc-1teqlu0-41"})(["",""],(function(e){return e._css42})),nt=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv30",componentId:"sc-1teqlu0-42"})(["",""],(function(e){return e._css43})),it=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv31",componentId:"sc-1teqlu0-43"})(["",""],(function(e){return e._css44})),rt=Object(c.b)("div").withConfig({displayName:"ItemInfo___StyledDiv32",componentId:"sc-1teqlu0-44"})(["",""],(function(e){return e._css45}));var ct=function(e){var t=e.name,n=e.type,r=e.iri,c=e.item,a=e.modules,s=e.properties,l=e.isOpen,d=e.back,b=Object(v.a)(e,["name","type","iri","item","modules","properties","isOpen","back"]),u=Object(o.useState)(l||!1),m=Object(p.a)(u,2),j=m[0],f=m[1],h=Object(o.useState)(!1),g=Object(p.a)(h,2),x=g[0],O=g[1],y=c.description||null;return Object(i.jsxs)(Ye,{style:Object(be.a)(Object(be.a)({},b.style),{},{maxHeight:"40rem",zIndex:"20000000"}),_css33:[{position:"fixed",top:"1rem",left:"1rem",display:"flex",flexDirection:"column","--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))","--tw-shadow":"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",borderRadius:"0.25rem",right:"1rem","@media (min-width: 640px)":{right:"auto",width:"18rem"}},j?{bottom:"5rem"}:{bottom:"auto"}],children:[Object(i.jsxs)("div",{children:[d,Object(i.jsxs)(Xe,{_css34:[d?{borderTopWidth:"1px"}:null,{paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem",borderRadius:"0.25rem","--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))"}],children:[Object(i.jsx)(Ve,{_css35:[{fontSize:"0.75rem",lineHeight:"1rem"}],children:n}),Object(i.jsx)("div",{children:t}),Object(i.jsx)(Je,{_css36:[{fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))",wordBreak:"break-all"}],children:r||"\u672a\u767b\u9332"})]})]}),Object(i.jsx)(Ke,{onClick:function(){f(!j),!x&&O(!0)},_css37:[{borderTopWidth:"1px",display:"flex",justifyContent:"center",cursor:"pointer",paddingTop:"0.25rem",paddingBottom:"0.25rem",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(243, 244, 246, var(--tw-bg-opacity))"}}],children:Object(i.jsxs)(Qe,{_css38:[{fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgba(31, 41, 55, var(--tw-text-opacity))",display:"flex",alignItems:"center"}],children:[Object(i.jsx)(Ze,{style:{width:"18px",height:"18px"},viewBox:"0 0 24 24",_css39:[{fill:"currentColor","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:Object(i.jsx)("path",{d:j?re.h:re.g})}),!x&&Object(i.jsx)("div",{children:"\u30af\u30ea\u30c3\u30af\u3067\u958b\u304f/\u9589\u3058\u308b"})]})}),Object(i.jsxs)($e,{_css40:[j?{display:"block"}:{display:"none"},{flexGrow:"1",overflowY:"scroll"}],children:[Object(i.jsx)(et,{_css41:[{marginTop:"0px",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgba(31, 41, 55, var(--tw-text-opacity))"}],children:"\u30a4\u30f3\u30d5\u30a9\u30e1\u30fc\u30b7\u30e7\u30f3"}),Object(i.jsx)(tt,{_css42:[{borderWidth:"1px",borderRadius:"0.125rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem",margin:"0.5rem",marginTop:"0px"}],children:Object(i.jsx)(nt,{_css43:[{fontSize:"0.875rem",lineHeight:"1.25rem"},!y&&{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:y||"\u672a\u767b\u9332"})}),Object(i.jsxs)(it,{_css44:[{paddingTop:"0.5rem",paddingBottom:"0.5rem"}],children:[Object(i.jsx)(rt,{_css45:[{paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",borderBottomWidth:"1px",fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgba(31, 41, 55, var(--tw-text-opacity))"}],children:"\u30e2\u30b8\u30e5\u30fc\u30eb"}),Object.entries(a).map((function(e){var t=Object(p.a)(e,2),n=t[0],r=t[1];return Object(i.jsx)(Fe,{id:n,module:r,properties:s},n)}))]})]})]})},ot=Object(c.b)("div").withConfig({displayName:"Clock___StyledDiv",componentId:"x8e724-0"})(["",""],(function(e){return e._css})),at=Object(c.b)("div").withConfig({displayName:"Clock___StyledDiv2",componentId:"x8e724-1"})(["",""],(function(e){return e._css2}));var st=function(e){Object.assign({},e);var t=Object(o.useState)(),n=Object(p.a)(t,2),r=n[0],c=n[1];function a(){var e=(new Date).toLocaleString("ja-JP",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"});c(e)}return Object(o.useEffect)((function(){a();var e=setInterval((function(){return a()}),3e4);return function(){clearInterval(e)}})),Object(i.jsx)(ot,{_css:[{display:"flex",alignItems:"center"}],children:Object(i.jsx)(at,{_css2:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))","--tw-shadow":"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",borderRadius:"0.25rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem",userSelect:"none"}],children:r})})};function lt(e){Object.assign({},e);return Object(i.jsx)(w.c,{makeDefault:!0,up:[0,0,1],position:[0,-400,200],fov:60,aspect:window.innerWidth/window.innerHeight,near:1,far:2048})}function dt(e){var t=e.width,n=e.height,r=e.color;Object(v.a)(e,["width","height","color"]);return Object(i.jsxs)("mesh",{children:[Object(i.jsx)("planeBufferGeometry",{args:[t,n]}),Object(i.jsx)("meshBasicMaterial",{color:r||15856629,polygonOffset:!0,polygonOffsetFactor:1})]})}function bt(e){var t=e.model,n=e.base,r=e.depth,c=e.floor,a=e.floors,s=(Object(v.a)(e,["model","base","depth","floor","floors"]),250),l=250,d=Object(j.d)(h),b=Object(p.a)(d,2),u=b[0],m=b[1],f=n[0][0],g=n[0][1],x=R(t,f,g,s,l),O=Object(o.useMemo)((function(){var e=new H.Shape;return e.moveTo(0,0),n.forEach((function(n){var i=R(t,n[0],n[1],s,l);e.lineTo(i.x-x.x,i.y-x.y)})),e}),[n,t,x.x,x.y]),y=Object(o.useMemo)((function(){var e={steps:1,depth:.2*(r||50),bevelEnabled:!1};return new H.ExtrudeBufferGeometry(O,e)}),[O,r]),I=c||1,S=.2*(r||50)/I,C=a||{},D=Object(o.useMemo)((function(){return new H.ShapeBufferGeometry(O)}),[O]),N=[],k=Object(o.useState)(null),B=Object(p.a)(k,2),P=B[0],q=B[1],M=Object(o.useState)(null),z=Object(p.a)(M,2),T=z[0],L=z[1],E=Object(o.useState)(null),A=Object(p.a)(E,2),G=A[0],W=A[1],U=Object(o.useState)(null),F=Object(p.a)(U,2),Y=F[0],X=F[1];Object(o.useEffect)((function(){u.id!==Y&&X(null)}),[u.id,Y]),Object(o.useEffect)((function(){document.body.style.cursor=T||G?"pointer":"auto"}),[T,G]);for(var V=function(e){var n=C["".concat(e+1)]||{texture:null,anchors:[]};n.n="".concat(e+1);var r=n.anchors.map((function(n,r){var c=R(t,n.position.lng,n.position.lat,s,l);return Object(i.jsxs)("mesh",{position:[c.x-x.x,c.y-x.y,S/2],userData:{data:n},visible:null===P||P===e+1,children:[Object(i.jsx)("sphereBufferGeometry",{args:[.1,20,20]}),Object(i.jsx)("meshBasicMaterial",{color:2201331}),Object(i.jsxs)("mesh",{name:"hitbox",visible:null===P||P===e+1,onPointerOver:function(t){t.stopPropagation(),P===e+1&&W(n.id)},onPointerOut:function(e){e.stopPropagation(),G===n.id&&W(null)},onPointerDown:function(t){P===e+1&&!G!==n.id&&(t.stopPropagation(),m(n),X(n.id))},children:[Object(i.jsx)("sphereBufferGeometry",{args:[1,20,20]}),Object(i.jsx)("meshBasicMaterial",{visible:G===n.id||Y===n.id,color:2201331,opacity:.5,transparent:!0})]}),Object(i.jsx)(w.a,{style:{pointerEvents:"none"},children:Object(i.jsx)("div",{style:{display:null===P||P===e+1?"block":"none",fontSize:"0.75rem",fontWeight:G===n.id||Y===n.id?"bold":null,width:"10rem"},children:n.name})})]},r)})),c=Object(i.jsxs)("mesh",{"position-z":S*e,geometry:D,userData:{metadata:n},onPointerDown:function(t){G||(P===e+1?(t.stopPropagation(),q(null)):null===P&&(t.stopPropagation(),q(e+1)))},onPointerOver:function(t){null!==P&&P!==e+1||(t.stopPropagation(),L(e+1))},onPointerOut:function(t){null!==P&&P!==e+1||(t.stopPropagation(),L(null))},visible:null===P||P===e+1,children:[Object(i.jsx)("meshBasicMaterial",{color:T===e+1?11184810:15856628,side:H.DoubleSide,visible:null===P||P===e+1}),Object(i.jsxs)("lineSegments",{children:[Object(i.jsx)("edgesGeometry",{attach:"geometry",args:[D]}),Object(i.jsx)("lineBasicMaterial",{color:13421772,attach:"material"})]}),Object(i.jsx)("group",{name:"anchors",children:r})]},e);N.push(c)},J=0;J<I;J++)V(J);var K=Object(_.i)((function(e){var t=(new H.Box3).setFromObject(e),n=t.getSize(new H.Vector3),i=Math.min(218/n.x,218/n.y);e.scale.set(i,i,i);var r=t.getCenter(new H.Vector3);e.translateX(-r.x*i),e.translateY(-r.y*i)}),[]);return Object(i.jsxs)("mesh",{ref:K,position:[0,0,0],geometry:y,children:[Object(i.jsx)("meshLambertMaterial",{wireframe:!0,visible:!1}),Object(i.jsxs)("lineSegments",{children:[Object(i.jsx)("edgesGeometry",{attach:"geometry",args:[y,45]}),Object(i.jsx)("lineBasicMaterial",{color:13421772,attach:"material"})]}),Object(i.jsx)("group",{name:"floors",children:N})]})}var pt=function(e){var t,n=e.model,r=e.type,c=e.entity;return Object(v.a)(e,["model","type","entity"]),t&&(t=null),c&&"building"===r&&(t=Object(i.jsx)(bt,{model:n,base:c.base,depth:c.depth,floor:c.floor,floors:c.floors},c.id)),Object(i.jsxs)(_.a,{id:"detail-view-canvas",colorManagement:!1,pixelRatio:Math.min(2,window.devicePixelRatio),gl:{powerPreference:"default",antialias:!1},children:[Object(i.jsx)(lt,{}),Object(i.jsx)("ambientLight",{args:[16777215,1]}),Object(i.jsx)("pointLight",{position:[10,10,10]}),Object(i.jsx)(dt,{width:250,height:250}),Object(i.jsx)(j.a,{value:Object(j.e)(),children:t}),Object(i.jsx)(w.b,{target:[0,0,0],minDistance:100,maxDistance:500,maxPolarAngle:Math.PI/2-.1})]})},ut=(n(123),{id:null,name:null,type:null,iri:null,url:null,community:null,description:null,bbox:{minlng:139.647216796875,minlat:35.550105335885505,maxlng:139.658203125,maxlat:35.55904339525895},canvas:{width:1024,height:1024},terrain:null,building:null,modules:{}});function mt(){return jt.apply(this,arguments)}function jt(){return(jt=Object(u.a)(b.a.mark((function e(){var t,n,i,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URL(window.location),(c=new URLSearchParams(r.search)).has("twin")?(n=c.get("twin"),i=new URL("./twin.json",n)):(n=null,i="./twin.json"),e.next=5,y.a.get(i).then((function(e){return e.data})).catch((function(){return ut}));case 5:return(t=e.sent)._basePath=n,c.has("no-terrain")&&(t.terrain=null),t.bbox={minlng:t.bbox[0],minlat:t.bbox[1],maxlng:t.bbox[2],maxlat:t.bbox[3]},e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ft=Object(c.b)("div").withConfig({displayName:"App___StyledDiv",componentId:"v4ni6-0"})(["",""],(function(e){return e._css})),ht=Object(c.b)("div").withConfig({displayName:"App___StyledDiv2",componentId:"v4ni6-1"})(["",""],(function(e){return e._css2})),gt=Object(c.b)("div").withConfig({displayName:"App___StyledDiv3",componentId:"v4ni6-2"})(["",""],(function(e){return e._css3}));function xt(){var e=Object(o.useState)(!1),t=Object(p.a)(e,2),n=t[0],r=t[1],c=Object(j.d)(x),a=Object(p.a)(c,2),s=a[0],l=a[1];return Object(o.useEffect)((function(){s&&r(!0)}),[s]),Object(i.jsxs)(ft,{id:"debug",_css:[{borderTopLeftRadius:"0.375rem",borderTopRightRadius:"0.375rem","--tw-bg-opacity":"1",backgroundColor:"rgba(31, 41, 55, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",position:"fixed",bottom:"0px",left:"0px",right:"0px",height:"12rem",padding:"1rem",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-shadow":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},n?{display:"block"}:{display:"none"}],children:[Object(i.jsx)(ht,{onClick:function(){r(!1),l("")},_css2:[{position:"absolute",top:"1rem",right:"1rem",cursor:"pointer"}],children:Object(i.jsx)("svg",{style:{width:"18px",height:"18px"},viewBox:"0 0 24 24",children:Object(i.jsx)("path",{fill:"#eee",d:re.c})})}),Object(i.jsx)(gt,{_css3:[{overflowY:"scroll",width:"100%",height:"100%"}],children:s})]})}var Ot=Object(c.b)("div").withConfig({displayName:"App___StyledDiv4",componentId:"v4ni6-3"})(["",""],(function(e){return e._css4})),yt=Object(c.b)("div").withConfig({displayName:"App___StyledDiv5",componentId:"v4ni6-4"})(["",""],(function(e){return e._css5})),vt=Object(c.b)("div").withConfig({displayName:"App___StyledDiv6",componentId:"v4ni6-5"})(["",""],(function(e){return e._css6})),_t=Object(c.b)("div").withConfig({displayName:"App___StyledDiv7",componentId:"v4ni6-6"})(["",""],(function(e){return e._css7})),wt=Object(c.b)("div").withConfig({displayName:"App___StyledDiv8",componentId:"v4ni6-7"})(["",""],(function(e){return e._css8})),It=Object(c.b)("div").withConfig({displayName:"App___StyledDiv9",componentId:"v4ni6-8"})(["",""],(function(e){return e._css9})),St=Object(c.b)("div").withConfig({displayName:"App___StyledDiv10",componentId:"v4ni6-9"})(["",""],(function(e){return e._css10})),Ct=Object(c.b)("div").withConfig({displayName:"App___StyledDiv11",componentId:"v4ni6-10"})(["",""],(function(e){return e._css11})),Dt=Object(c.b)("a").withConfig({displayName:"App___StyledA",componentId:"v4ni6-11"})(["",""],(function(e){return e._css12})),Nt=Object(c.b)("div").withConfig({displayName:"App___StyledDiv12",componentId:"v4ni6-12"})(["",""],(function(e){return e._css13}));var kt=function(){var e=Object(o.useState)({id:null,name:null,type:null,iri:null,description:null,modules:[]}),t=Object(p.a)(e,2),n=t[0],r=t[1],c=Object(o.useState)(!1),a=Object(p.a)(c,2),s=a[0],l=a[1],d=Object(j.d)(f),x=Object(p.a)(d,2)[1],O=Object(j.d)(h),y=Object(p.a)(O,2),v=y[0],_=y[1],w=Object(j.d)(g),I=Object(p.a)(w,2),S=I[0],C=I[1],D=Object(o.useState)({}),N=Object(p.a)(D,2),k=N[0],B=N[1];Object(o.useEffect)((function(){Object(u.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt();case 2:t=e.sent,r(t),l(!0);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(o.useEffect)((function(){x((function(){var e={};return Object.entries(n.modules).forEach((function(t){var i=Object(p.a)(t,2),r=i[0];(i[1].definition.layers||[]).forEach((function(t){e["".concat(t.id)]={enabled:n.properties["".concat(r,":layers.").concat(t.id,".enabled")]||!1}}))})),e}))}),[x,n.modules,n.properties]),Object(o.useEffect)((function(){!v&&n&&n.id&&_(n),v&&B({name:v.name,type:v.type_label||v.type,iri:v.iri,description:v.description})}),[v,_,n]);var P=Object(o.useRef)(null);return Object(i.jsxs)(Ot,{className:"App",id:"App",_css4:[{position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px"}],children:[Object(i.jsx)(yt,{_css5:[{position:"absolute",top:"0px",bottom:"0px",left:"0px",right:"0px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-text-opacity":"1",color:"rgba(156, 163, 175, var(--tw-text-opacity))",pointerEvents:"none"},S?{display:"none"}:{display:"flex"}],children:Object(i.jsx)("div",{children:"\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408\u306f\u518d\u8aad\u307f\u8fbc\u307f"})}),Object(i.jsx)(vt,{_css6:[{position:"absolute",top:"0px",bottom:"0px",left:"0px",right:"0px"},S?{display:"none"}:{display:"block"}],children:s&&Object(i.jsx)(ie,{model:n,basePath:n._basePath})}),Object(i.jsx)(m.a,{nodeRef:P,in:!!S,timeout:1,children:function(e){return Object(i.jsx)(_t,{ref:P,className:"detail-view",_css7:[{position:"absolute",top:"0px",bottom:"0px",left:"0px",right:"0px"},["entering","entered"].includes(e)?{display:"block"}:{display:"none"}],children:Object(i.jsx)(wt,{_css8:[{width:"100%",height:"100%"},"entered"===e?{display:"block"}:{display:"none"}],children:s&&Object(i.jsx)(pt,{model:n,type:"building",entity:S})})})}}),s&&Object(i.jsx)(ct,{name:k.name,type:k.type,iri:k.iri,item:k,modules:n.modules,properties:n.properties,back:S&&Object(i.jsxs)(It,{onClick:function(e){e.stopPropagation(),S.id===v.id?(C(null),_(null)):_(S)},_css9:[{fontSize:"0.875rem",lineHeight:"1.25rem","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center","--tw-bg-opacity":"1",backgroundColor:"rgba(249, 250, 251, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(243, 244, 246, var(--tw-bg-opacity))"}}],children:[Object(i.jsx)(St,{_css10:[{marginRight:"0.25rem"}],children:Object(i.jsx)("svg",{style:{width:"18px",height:"18px"},viewBox:"0 0 24 24",children:Object(i.jsx)("path",{fill:"#888",d:re.b})})}),Object(i.jsx)("div",{children:"\u623b\u308b"})]})}),Object(i.jsx)(xt,{}),Object(i.jsx)(Ct,{_css11:[{position:"absolute",top:"1rem",left:"auto",right:"1rem",display:"none","@media (min-width: 640px)":{display:"block"}}],children:Object(i.jsx)(st,{})}),s&&Object(i.jsx)(de,{communityURL:n.community}),Object(i.jsx)(Dt,{href:"//beta.owntwin.com",_css12:[{cursor:"pointer"}],children:Object(i.jsx)(Nt,{className:"logo",_css13:[{position:"absolute",bottom:"1rem",left:"auto",right:"1rem",opacity:"0.75",fontWeight:"700","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgba(107, 114, 128, var(--tw-bg-opacity))",borderRadius:"0.25rem",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem"}],children:Object(i.jsx)("div",{children:"OwnTwin"})})})]})};function Bt(){var e=Object(r.a)(["\n      @keyframes spin {\n          to { \n            transform: rotate(360deg);\n          }\n        }\n      @keyframes ping {\n          75%, 100% { \n            transform: scale(2); opacity: 0;\n          }\n        }\n      @keyframes pulse {\n          50% { \n            opacity: .5;\n          }\n        }\n      @keyframes bounce {\n          0%, 100% { \n            transform: translateY(-25%); animationTimingFunction: cubic-bezier(0.8,0,1,1);\n          }\n        \n          50% { \n            transform: none; animationTimingFunction: cubic-bezier(0,0,0.2,1);\n          }\n        }\n* {\n    --tw-ring-inset: var(--tw-empty,/*!*/ /*!*/);\n    --tw-ring-offset-width: 0px;\n    --tw-ring-offset-color: #fff;\n    --tw-ring-color: rgba(59, 130, 246, 0.5);\n    --tw-ring-offset-shadow: 0 0 #0000;\n    --tw-ring-shadow: 0 0 #0000;\n  }\n* {\n  --tw-shadow: 0 0 #0000; }\n"]);return Bt=function(){return e},e}var Pt=Object(c.a)(Bt());l.a.render(Object(i.jsxs)(a.a.StrictMode,{children:[Object(i.jsx)(Pt,{}),Object(i.jsx)(j.b,{children:Object(i.jsx)(kt,{})})]}),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.dd5235d0.chunk.js.map