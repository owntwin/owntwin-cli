(this.webpackJsonpowntwin=this.webpackJsonpowntwin||[]).push([[0],{142:function(t,e){},144:function(t,e){},187:function(t,e){},190:function(t,e,n){},194:function(t,e,n){"use strict";n.r(e);var i=n(99),r=n(3),o=n(2),c=n.n(o),a=n(24),s=n.n(a),l=n(18),d=n.n(l),b=n(10),p=n(20),u=n(199),m=n(14),j=Object(m.a)({}),f=Object(m.a)(null),h=Object(m.a)(null),g=Object(m.a)(null),y=Object(m.a)(!1),x=n(26),O=n.n(x),v=n(13),w=n(16),_=n(201),I=n(200),S=n(17),C=n(4),k=n(103),N=new(n.n(k).a),D=156543.03392804097,B=20037508.342789244,R=1024,z=1024,P=100;function E(t,e,n){var i=t*B/180,r=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);r=r*B/180;var o=D/Math.pow(2,n);return[(i+B)/o,(r+B)/o]}function M(t,e,n,i,r){i=i||R,r=r||z;var o=E(t.minlng,t.minlat,18),c=Object(b.a)(o,2),a=c[0],s=c[1],l=E(e,n,18),d=Object(b.a)(l,2),p=function(t,e,n){var i=N.xyz([t.minlng,t.minlat,t.maxlng,t.maxlat],18,!0),r=(i.maxX-i.minX+1)*N.size,o=(i.maxY-i.minY+1)*N.size;return[e*R/r-R/2,n*z/o-z/2]}(t,d[0]-a,d[1]-s),u=Object(b.a)(p,2);return{x:u[0],y:u[1]}}function q(t,e,n){var i=function(t,e,n){var i=N.xyz([t.minlng,t.minlat,t.maxlng,t.maxlat],18,!0),r=(i.maxX-i.minX+1)*N.size,o=(i.maxY-i.minY+1)*N.size;return[(e+R/2)*(r/R),(n+z/2)*(o/z)]}(t,e,n),r=Object(b.a)(i,2);e=r[0],n=r[1];var o=E(t.minlng,t.minlat,18),c=Object(b.a)(o,2),a=function(t,e,n){var i=D/Math.pow(2,n),r=(e*i-B)/B*180;return[(t*i-B)/B*180,r=180/Math.PI*(2*Math.atan(Math.exp(r*Math.PI/180))-Math.PI/2)]}(c[0]+e,c[1]+n,18),s=Object(b.a)(a,2);return{lng:s[0],lat:s[1]}}function L(t){return 1e4*t}function T(t,e,n,i,r){r=r||z;var o=(i=i||R)/(L(t.maxlng)-L(t.minlng)),c=r/(L(t.maxlat)-L(t.minlat));return{x:(L(e)-L(t.minlng))*o-i/2,y:(L(n)-L(t.minlat))*c-r/2}}function A(t,e,n){if(!t.vertices)return 0;var i=Math.floor(e/(R/P))+P*(P-1-Math.floor(n/(z/P)));return i<0||t.vertices.length<=i?0:t.vertices[3*i+2]}var H=n(0),F=Object(o.createContext)(),G=P;function W(t){var e=t.width,n=t.height,i=t.color,r=(Object(v.a)(t,["width","height","color"]),Object(o.useContext)(Xt).model),c=Object(o.useState)([]),a=Object(b.a)(c,2)[1],s=Object(m.b)(g),l=Object(b.a)(s,2),d=l[0],p=l[1];return Object(o.useEffect)((function(){d||a([])}),[d]),Object(H.jsxs)("mesh",{onDoubleClick:function(t){if(t.shiftKey&&(t.stopPropagation(),t.intersections.length>0)){var e=t.intersections[0].point,n=q(r.bbox,e.x,e.y);a((function(t){var e=[].concat(Object(S.a)(t),["[".concat(n.lng,", ").concat(n.lat,"]")]);return p("[".concat(e.join(", "),"]")),e}))}},children:[Object(H.jsx)("planeGeometry",{args:[e,n]}),Object(H.jsx)("meshBasicMaterial",{color:i||15856629,polygonOffset:!0,polygonOffsetFactor:1})]})}var V=function(t){var e=t.levelmap,n=t.zoom,i=t.width,r=t.height,c=Object(v.a)(t,["levelmap","zoom","width","height"]),a=Object(o.useState)(null),s=Object(b.a)(a,2),l=s[0],d=s[1],p=Object(o.useRef)();return Object(o.useLayoutEffect)((function(){var t=p.current.getAttribute("position");e.forEach((function(e){var i=e[0]+G*(G-1-e[1]);t.array[3*i+2]=e[2]*n})),p.current.setAttribute("position",new C.BufferAttribute(new Float32Array(t.array),3)),d(Array.from(t.array))}),[e,n]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(W,{width:i,height:r}),Object(H.jsxs)("mesh",{children:[Object(H.jsx)("planeGeometry",{ref:p,args:[i,r,G-1,G-1]}),Object(H.jsx)("meshBasicMaterial",{color:16316922})]}),Object(H.jsx)(F.Provider,{value:{geometry:p.current,vertices:l},children:c.children})]})};var U=function(t){var e=t.url,n=Object(v.a)(t,["url"]),i=Object(o.useContext)(F),r=Object(w.c)(C.TextureLoader,e);return Object(H.jsx)("mesh",{geometry:i.geometry,children:Object(H.jsx)("meshBasicMaterial",{map:r,transparent:!0,color:16777215,opacity:n.opacity?n.opacity:.5})})},Y=n(107),X=n(57),J=R,K=z,Q=P,Z=new Y.a;function $(t){return tt.apply(this,arguments)}function tt(){return(tt=Object(p.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){return new Promise((function(t){Z.load(e,t)}))},t.next=3,n().then((function(t){for(var e=t.xml.viewBox.baseVal.width,n=t.xml.viewBox.baseVal.height,i=t.paths,r=[],o=0;o<i.length;o++){i[o].toShapes(!0).forEach((function(t){var i=t.getPoints();i=i.map((function(t){var i=t.x;i>=e&&(i=e-1);var r=n-t.y;return r<0&&(r=0),r>=n&&(r=n-1),t.x=i,t.y=r,t})),r.push(i)}))}return{pathPoints:r,width:e,height:n}})).catch((function(t){console.error(t)}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var et=function(t){var e=t.url,n=(Object(v.a)(t,["url"]),Object(o.useState)([])),i=Object(b.a)(n,2),r=i[0],c=i[1],a=Object(o.useState)(!1),s=Object(b.a)(a,2),l=s[0],u=s[1],m=Object(o.useContext)(F);Object(o.useEffect)((function(){Object(p.a)(d.a.mark((function t(){var n,i,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(e);case 2:n=t.sent,i=[],n.pathPoints.forEach((function(t,e){var r=[];t.forEach((function(e,n){n>0&&(r.push(t[n-1]),r.push(e))}));var o=(new C.BufferGeometry).setFromPoints(r);o.scale(J/n.width,K/n.height,1),i.push(o)})),r=X.a.mergeBufferGeometries(i),c([Object(H.jsx)("lineSegments",{geometry:r,children:Object(H.jsx)("meshBasicMaterial",{color:14343392,side:C.DoubleSide,depthWrite:!1})},0)]);case 7:case"end":return t.stop()}}),t)})))()}),[e]);var j=Object(o.useRef)();return Object(o.useLayoutEffect)((function(){var t=(new C.Box3).setFromObject(j.current).getSize(new C.Vector3);j.current.position.set(0,0,0),j.current.translateX(-t.x/2),j.current.translateY(-t.y/2),j.current.children.forEach((function(t){var e,n=t.geometry.getAttribute("position");e=n.array.map((function(t,e){return e%3===2?function(t,e){if(!m.vertices)return 0;var n=Math.floor(t/(J/Q))+Q*(Q-1-Math.floor(e/(K/Q)));return n<0||m.vertices.length<=n?0:m.vertices[3*n+2]}(n.array[e-2],n.array[e-1])+2:t})),t.geometry.setAttribute("position",new C.BufferAttribute(new Float32Array(e),3))})),u(!0)}),[r,m.vertices]),Object(H.jsx)("group",{ref:j,visible:l,children:r})};var nt=function(t){var e=t.url,n=t.clip,i=void 0===n||n,r=Object(v.a)(t,["url","clip"]),c=Object(o.useContext)(F),a=Object(o.useContext)(Xt).model,s=Object(o.useState)(null),l=Object(b.a)(s,2),u=l[0],m=l[1];Object(o.useEffect)((function(){e&&Object(p.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get(e).then((function(t){return t.data}));case 2:n=t.sent,m(n);case 4:case"end":return t.stop()}}),t)})))()}),[e]);var j=Object(o.useMemo)((function(){if(u){var t=[];return u.features.forEach((function(e){var n=e.geometry.coordinates[0][0][0],r=e.geometry.coordinates[0][0][1],o=M(a.bbox,n,r);if(!i||!(o.x<-R/2||R/2<=o.x||o.y<-z/2||z/2<=o.y)){var s=function(t){var e=t.coordinates,n=t.bbox,i=t.terrain,r=Object(v.a)(t,["coordinates","bbox","terrain"]).height/2,o=(e=e[0])[0][0],c=e[0][1],a=M(n,o,c),s=A(i,a.x+512,a.y+512)||0,l=new C.Shape;l.moveTo(0,0),e.slice().reverse().forEach((function(t){var e=M(n,t[0],t[1]);l.lineTo(e.x-a.x,e.y-a.y)}));var d={steps:1,depth:r||10,bevelEnabled:!1},b=new C.ExtrudeBufferGeometry(l,d);return b.translate(a.x,a.y,s),b}({coordinates:e.geometry.coordinates,bbox:a.bbox,height:e.properties.attributes.measuredHeight,terrain:c});t.push(s)}})),X.a.mergeBufferGeometries(t,!1)}}),[u,a.bbox,c,i]);return Object(H.jsxs)(H.Fragment,{children:["geom && (",Object(H.jsx)("mesh",{geometry:j,children:Object(H.jsx)("meshBasicMaterial",{color:13751771,transparent:!0,opacity:r.opacity||.5})}),")"]})},it=n(198);function rt(t){var e=t.position,n=t.label,i=void 0===n?null:n,r=t.labelVisibility,c=void 0===r?"auto":r,a=t.height,s=void 0===a?256:a,l=Object(v.a)(t,["position","label","labelVisibility","height"]),d=Object(o.useRef)(null),p=Object(m.b)(y),u=Object(b.a)(p,1)[0];return Object(o.useLayoutEffect)((function(){d.current.rotateX(Math.PI/2),d.current.translate(0,0,s/2)}),[s]),Object(H.jsxs)("mesh",{position:e,children:[Object(H.jsx)("cylinderBufferGeometry",{ref:d,args:[5,5,s,8]}),Object(H.jsx)("meshBasicMaterial",{color:l.color||2201331,opacity:.5,transparent:!0}),Object(H.jsx)(it.a,{style:{pointerEvents:"none"},children:Object(H.jsx)("div",{style:{display:"always"===c||u?"block":"none",fontSize:"0.75rem",fontWeight:"normal",width:"10rem",color:"rgb(156 163 175)"},children:i})})]})}var ot=n(108);function ct(t){var e=t.coordinates,n=t.bbox,i=t.terrain,r=t.label,o=void 0===r?null:r,c=t.labelVisibility,a=void 0===c?"auto":c,s=t.clip,l=void 0===s||s,d=t.size,b=void 0===d?{}:d,p=Object(v.a)(t,["coordinates","bbox","terrain","label","labelVisibility","clip","size"]),u=M(n,parseFloat(e[0]),parseFloat(e[1])),m=A(i,u.x+512,u.y+512)||0;return l&&(u.x<-R/2||R/2<=u.x||u.y<-z/2||z/2<=u.y)?Object(H.jsx)(H.Fragment,{}):Object(H.jsx)(rt,{position:[u.x,u.y,m],label:o,labelVisibility:a,height:b.height,color:p.color})}function at(t){var e=t.url,n=t.clip,i=void 0===n||n,r=Object(v.a)(t,["url","clip"]),c=Object(o.useContext)(F),a=Object(o.useContext)(Xt).model,s=Object(o.useState)(null),l=Object(b.a)(s,2),u=l[0],m=l[1];return Object(o.useEffect)((function(){e&&Object(p.a)(d.a.mark((function t(){var n,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get(e).then((function(t){return t.data}));case 2:n=t.sent,i=Object(ot.a)(n,{columns:!0,skip_empty_lines:!0}),m(i);case 5:case"end":return t.stop()}}),t)})))()}),[e]),Object(H.jsx)("group",{opacity:r.opacity?r.opacity:.5,children:u&&a&&c&&u.map((function(t){return Object(H.jsx)(ct,{clip:i,coordinates:[t[r.keys.lng],t[r.keys.lat]],bbox:a.bbox,terrain:c,label:t[r.keys.label],labelVisibility:r.labelVisibility,color:r.color,size:r.size})}))})}var st=function(t){var e=t.def,n=t.basePath;return Object(v.a)(t,["def","basePath"]),n&&(e.path=n?new URL(e.path,n).toString():e.path),"svg"===e.format?Object(H.jsx)(et,{url:e.path}):"png"===e.format?Object(H.jsx)(o.Suspense,{fallback:null,children:Object(H.jsx)(U,{url:e.path,opacity:.5})}):"geojson"===e.format?Object(H.jsx)(nt,{url:e.path,opacity:.5}):"csv"===e.format?Object(H.jsx)(at,{url:e.path,keys:e.keys,color:e.color,labelVisibility:e.labelVisibility,size:e.size,opacity:.5}):void 0},lt=Object(r.b)("div").withConfig({displayName:"Building___StyledDiv",componentId:"sc-1nrpc7o-0"})(["",""],(function(t){return t._css})),dt=Object(r.b)("div").withConfig({displayName:"Building___StyledDiv2",componentId:"sc-1nrpc7o-1"})(["",""],(function(t){return t._css2})),bt=Object(r.b)("div").withConfig({displayName:"Building___StyledDiv3",componentId:"sc-1nrpc7o-2"})(["",""],(function(t){return t._css3}));function pt(t){var e=t.item;Object(v.a)(t,["item"]);return Object(H.jsxs)(lt,{style:{minWidth:"200px"},_css:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))",borderWidth:"1px",borderRadius:"0.25rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem"}],children:[Object(H.jsx)(dt,{_css2:[{fontSize:"0.75rem",lineHeight:"1rem"}],children:e.type}),Object(H.jsx)("div",{children:e.name}),Object(H.jsx)(bt,{_css3:[{marginTop:"0.75rem",fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:"\u30af\u30ea\u30c3\u30af\u3067\u62e1\u5927"})]})}var ut=function(t){var e=t.base,n=t.z,i=t.depth,r=t.onPointerDown,c=Object(v.a)(t,["base","z","depth","onPointerDown"]),a=Object(o.useContext)(Xt).model,s=e[0][0],l=e[0][1],d=M(a.bbox,s,l),p=Object(o.useMemo)((function(){var t=new C.Shape;t.moveTo(0,0),e.slice().reverse().forEach((function(e){var n=M(a.bbox,e[0],e[1]);t.lineTo(n.x-d.x,n.y-d.y)}));var n={steps:1,depth:i||50,bevelEnabled:!1};return new C.ExtrudeBufferGeometry(t,n)}),[a,e,d.x,d.y,i]),u=Object(o.useState)(!1),m=Object(b.a)(u,2),j=m[0],f=m[1],h=15856628,g=6710886;return Object(o.useEffect)((function(){document.body.style.cursor=j?"pointer":"auto"}),[j]),Object(H.jsxs)("mesh",{position:[d.x,d.y,n],geometry:p,onClick:c.onClick,onPointerDown:r,onPointerOver:function(t){t.stopPropagation(),f(!0)},onPointerOut:function(t){return f(!1)},children:[Object(H.jsx)("meshLambertMaterial",{color:j?g:h}),Object(H.jsxs)("lineSegments",{children:[Object(H.jsx)("edgesGeometry",{attach:"geometry",args:[p,45]}),Object(H.jsx)("lineBasicMaterial",{color:13421772,attach:"material"})]}),Object(H.jsx)(it.a,{style:{pointerEvents:"none"},children:j&&Object(H.jsx)(pt,{item:{name:c.name,type:c.type}})})]})},mt=n(11),jt=n(19),ft=Object(r.b)("div").withConfig({displayName:"Comment___StyledDiv",componentId:"mdyp4b-0"})(["",""],(function(t){return t._css})),ht=Object(r.b)("div").withConfig({displayName:"Comment___StyledDiv2",componentId:"mdyp4b-1"})(["",""],(function(t){return t._css2})),gt=Object(r.b)("div").withConfig({displayName:"Comment___StyledDiv3",componentId:"mdyp4b-2"})(["",""],(function(t){return t._css3})),yt=Object(r.b)("svg").withConfig({displayName:"Comment___StyledSvg",componentId:"mdyp4b-3"})(["",""],(function(t){return t._css4})),xt=Object(r.b)("polygon").withConfig({displayName:"Comment___StyledPolygon",componentId:"mdyp4b-4"})(["",""],(function(t){return t._css5}));var Ot=Object(r.b)("div").withConfig({displayName:"Comment___StyledDiv4",componentId:"mdyp4b-5"})(["",""],(function(t){return t._css6})),vt=Object(r.b)("div").withConfig({displayName:"Comment___StyledDiv5",componentId:"mdyp4b-6"})(["",""],(function(t){return t._css7})),wt=Object(r.b)("div").withConfig({displayName:"Comment___StyledDiv6",componentId:"mdyp4b-7"})(["",""],(function(t){return t._css8})),_t=Object(r.b)("div").withConfig({displayName:"Comment___StyledDiv7",componentId:"mdyp4b-8"})(["",""],(function(t){return t._css9})),It=Object(r.b)("svg").withConfig({displayName:"Comment___StyledSvg2",componentId:"mdyp4b-9"})(["",""],(function(t){return t._css10})),St=Object(r.b)("div").withConfig({displayName:"Comment___StyledDiv8",componentId:"mdyp4b-10"})(["",""],(function(t){return t._css11})),Ct=Object(r.b)("svg").withConfig({displayName:"Comment___StyledSvg3",componentId:"mdyp4b-11"})(["",""],(function(t){return t._css12})),kt=Object(r.b)("svg").withConfig({displayName:"Comment___StyledSvg4",componentId:"mdyp4b-12"})(["",""],(function(t){return t._css13})),Nt=Object(r.b)("polygon").withConfig({displayName:"Comment___StyledPolygon2",componentId:"mdyp4b-13"})(["",""],(function(t){return t._css14}));function Dt(t){var e=t.position;t.base,t.z,t.depth,t.onPointerDown,Object(v.a)(t,["position","base","z","depth","onPointerDown"]);return Object(H.jsx)(it.a,{position:e,style:{transform:"translate3d(-50%,-100%,0)"},distanceFactor:1e3,children:Object(H.jsxs)(Ot,{_css6:[{position:"relative"}],children:[Object(H.jsx)(vt,{style:{},_css7:[{borderRadius:"0.25rem","--tw-bg-opacity":"0.5",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem"}],children:Object(H.jsxs)(wt,{_css8:[{fontSize:"0.75rem",lineHeight:"1rem",display:"flex",justifyContent:"center",alignItems:"center"}],children:[Object(H.jsx)(_t,{_css9:[{display:"flex",justifyContent:"center",alignItems:"center",width:"1.25rem",height:"1.25rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))"}],children:Object(H.jsx)(It,{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",_css10:[{fill:"currentColor"}],children:Object(H.jsx)("path",{d:jt.l})})}),Object(H.jsx)(St,{_css11:[{display:"flex",justifyContent:"center",alignItems:"center",width:"1.25rem",height:"1.25rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))"}],children:Object(H.jsx)(Ct,{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",_css12:[{fill:"currentColor"}],children:Object(H.jsx)("path",{d:jt.e})})})]})}),Object(H.jsx)(kt,{x:"0px",y:"0px",viewBox:"0 0 255 255",_css13:[{position:"absolute","--tw-text-opacity":"0.5",color:"rgba(75, 85, 99, var(--tw-text-opacity))",height:"0.5rem",width:"100%",left:"0px",top:"100%"}],children:Object(H.jsx)(Nt,{points:"0,0 127.5,127.5 255,0",_css14:[{fill:"currentColor"}]})})]})})}var Bt=function(t){var e=t.position,n=t.content,i=void 0===n?null:n;return t.z,t.depth,t.onPointerDown,Object(v.a)(t,["position","content","z","depth","onPointerDown"]),e=new C.Vector3(e.x,e.y,e.z),Object(H.jsx)(it.a,{position:e,style:{transform:"translate3d(-50%,-100%,0)"},distanceFactor:1e3,children:Object(H.jsxs)(ft,{_css:[{position:"relative"}],children:[Object(H.jsx)(ht,{style:{minWidth:"32px",width:"max-content",maxWidth:"180px"},_css2:[{borderRadius:"0.25rem","--tw-bg-opacity":"0.5",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem"}],children:Object(H.jsx)(gt,{_css3:[{fontSize:"0.75rem",lineHeight:"1rem"}],children:i})}),Object(H.jsx)(yt,{x:"0px",y:"0px",viewBox:"0 0 255 255",_css4:[{position:"absolute","--tw-text-opacity":"0.5",color:"rgba(75, 85, 99, var(--tw-text-opacity))",height:"0.5rem",width:"100%",left:"0px",top:"100%"}],children:Object(H.jsx)(xt,{points:"0,0 127.5,127.5 255,0",_css5:[{fill:"currentColor"}]})})]})})},Rt=n(110),zt=n.n(Rt),Pt=n(111),Et=n.n(Pt),Mt=n(112),qt=n.n(Mt),Lt=window.location.pathname.match(/^\/twin\/([^/]*)\/?/),Tt=Lt&&Lt.length>1?Lt[1]:"nowhere",At=qt()("http://localhost:3003",{transports:["websocket","polling"]}),Ht=zt()();Ht.configure(Et()(At));var Ft={position:null,content:null},Gt=Object(m.a)(!0),Wt=Object(m.a)("DISCONNECTED"),Vt=Object(m.a)(Ft),Ut=Object(m.a)(Array.from([]));function Yt(t){Object.assign({},t);var e=Object(m.b)(Ut),n=Object(b.a)(e,1)[0],i=Object(m.b)(Vt),r=Object(b.a)(i,2),c=r[0],a=r[1],s=Object(w.d)(),l=s.scene,d=s.raycaster,p=Object(m.b)(Gt),u=Object(b.a)(p,2),j=u[0],f=u[1],h=Object(m.b)(Wt),g=Object(b.a)(h,2)[1];return Object(o.useEffect)((function(){Ht.service("subscription").create({uid:Tt}).catch((function(t){}))}),[]),Object(o.useEffect)((function(){j&&Ht.io.connect()}),[j]),Object(o.useEffect)((function(){return Ht.io.on("reconnect",(function(t){f(!0),g("CONNECTED")})),Ht.io.on("connect_error",(function(t){f(!1),g("ERROR")})),function(){Ht.io.off("connect_error")}}),[f,g]),j&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("mesh",{onPointerMissed:function(){if(d&&l){var t=d.intersectObjects(l.children);if(t.length>0){var e=t[0];a(Object(mt.a)(Object(mt.a)({},c),{},{position:e.point}))}else a(Ft)}}}),!!c.position&&Object(H.jsx)(Dt,{position:c.position}),n.map((function(t,e){return Object(H.jsx)(Bt,{position:t.position,content:t.content},e)}))]})}var Xt=Object(o.createContext)();function Jt(t){Object.assign({},t);return Object(H.jsx)(_.a,{makeDefault:!0,up:[0,0,1],position:[0,-960,480],fov:60,aspect:window.innerWidth/window.innerHeight,near:1,far:2048})}function Kt(t){Object.assign({},t);var e=Object(m.b)(y),n=Object(b.a)(e,2)[1],i=Object(w.d)().camera;return Object(H.jsx)(I.a,{target:[0,0,0],minDistance:100,maxDistance:1500,maxPolarAngle:Math.PI/2-.1,onEnd:function(){var t=Math.pow(i.position.x,2)+Math.pow(i.position.y,2)+Math.pow(i.position.z,2);n(t<4e5)}})}function Qt(){return(Qt=Object(p.a)(d.a.mark((function t(e,n){var i,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=[],!e.terrain||!e.terrain.path){t.next=8;break}return e.terrain.path=n?new URL(e.terrain.path,n).toString():e.terrain.path,t.next=5,O.a.get(e.terrain.path).then((function(t){return t.data})).catch((function(){return i}));case 5:e.terrain.data=t.sent,t.next=10;break;case 8:e.terrain=e.terrain||{},e.terrain.data=i;case 10:if(r={routes:[],buildings:[]},!e.building||!e.building.path){t.next=18;break}return e.building.path=n?new URL(e.building.path,n).toString():e.building.path,t.next=15,O.a.get(e.building.path).then((function(t){return t.data})).catch((function(){return r}));case 15:e.building.data=t.sent,t.next=20;break;case 18:e.building=e.building||{},e.building.data=r;case 20:return t.abrupt("return",e);case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Zt=function(t){var e=t.model,n=t.basePath,i=(Object(v.a)(t,["model","basePath"]),Object(o.useState)([])),r=Object(b.a)(i,2),c=r[0],a=r[1],s=Object(o.useState)([]),l=Object(b.a)(s,2),d=l[0],p=l[1];Object(o.useEffect)((function(){(function(t,e){return Qt.apply(this,arguments)})(e,n).then((function(t){a(t.terrain.data),p(t.building.data.buildings)}))}),[e,n]);var u=Object(m.b)(j),g=Object(b.a)(u,1)[0],y=Object(m.b)(f),x=Object(b.a)(y,2)[1],O=Object(m.b)(h),_=Object(b.a)(O,2)[1];return Object(H.jsxs)(w.a,{id:"model-view-canvas",linear:!0,dpr:Math.min(2,window.devicePixelRatio),gl:{powerPreference:"default",antialias:!1},children:[Object(H.jsx)(Jt,{}),Object(H.jsx)("ambientLight",{args:[16777215,1]}),Object(H.jsx)("pointLight",{position:[10,10,10]}),Object(H.jsx)(Xt.Provider,{value:{model:e},children:Object(H.jsxs)(V,{levelmap:c,zoom:2,width:1024,height:1024,children:[Object.values(e.modules).reduce((function(t,e){return t.concat(e.definition.layers||[])}),[]).map((function(t){return g[t.id]&&g[t.id].enabled?Object(H.jsx)(st,{def:t,basePath:n},t.id):null})),d.map((function(t){return Object(H.jsx)(ut,{base:t.base,z:t.z,depth:t.depth,name:t.name,type:t.type,onPointerDown:function(e){e.stopPropagation(),x(t),_(t)}},t.id)})),Object(H.jsx)(Yt,{})]})}),")",Object(H.jsx)(Kt,{})]})},$t=Object(r.b)("div").withConfig({displayName:"Input___StyledDiv",componentId:"i9ux08-0"})(["",""],(function(t){return t._css})),te=Object(r.b)("input").withConfig({displayName:"Input___StyledInput",componentId:"i9ux08-1"})(["",""],(function(t){return t._css2})),ee=Object(r.b)("div").withConfig({displayName:"Input___StyledDiv2",componentId:"i9ux08-2"})(["",""],(function(t){return t._css3})),ne=Object(r.b)("button").withConfig({displayName:"Input___StyledButton",componentId:"i9ux08-3"})(["",""],(function(t){return t._css4})),ie=Object(r.b)("svg").withConfig({displayName:"Input___StyledSvg",componentId:"i9ux08-4"})(["",""],(function(t){return t._css5}));var re=function(t){Object.assign({},t);var e=Object(o.useState)(""),n=Object(b.a)(e,2),i=n[0],r=n[1],c=Object(o.useRef)(),a=Object(m.b)(Vt),s=Object(b.a)(a,2),l=s[0],d=s[1],p=Object(m.b)(Ut),u=Object(b.a)(p,2)[1],j=Object(m.b)(Gt),f=Object(b.a)(j,1)[0],h=Object(m.b)(Wt),g=Object(b.a)(h,2)[1];Object(o.useEffect)((function(){return c.current.focus()}),[l]),Object(o.useEffect)((function(){Ht.service("discuss").on("created",(function(t){u((function(e){return[].concat(Object(S.a)(e),[t])}))}))}),[u]);var y=function(){if(l.position){var t=Object(mt.a)(Object(mt.a)({},l),{},{content:i,twinId:Tt});Ht.service("discuss").create(t).catch((function(t){console.log("err",t),g("ERROR")})),d(Ft),r("")}};return f&&Object(H.jsxs)($t,{_css:[{position:"relative",width:"100%","@media (min-width: 768px)":{width:"32rem"}}],children:[Object(H.jsx)(te,{ref:c,type:"text",placeholder:"\u5834\u6240\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3057\u3066\u30b3\u30e1\u30f3\u30c8...",value:i,onChange:function(t){return r(t.target.value)},onKeyPress:function(t){"Enter"===t.key&&(t.preventDefault(),y())},_css2:[{width:"100%",height:"2.5rem",paddingLeft:"1.5rem",paddingRight:"1.5rem",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-text-opacity":"1",color:"rgba(55, 65, 81, var(--tw-text-opacity))","::placeholder":{"--tw-placeholder-opacity":"1",color:"rgba(156, 163, 175, var(--tw-placeholder-opacity))"},"--tw-bg-opacity":"1",backgroundColor:"rgba(249, 250, 251, var(--tw-bg-opacity))",appearance:"none",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgba(229, 231, 235, var(--tw-border-opacity))",borderRadius:"0.5rem",":focus":{"--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))",outline:"2px solid transparent",outlineOffset:"2px","--tw-border-opacity":"1",borderColor:"rgba(139, 92, 246, var(--tw-border-opacity))"}}]}),Object(H.jsx)(ee,{_css3:[{position:"absolute",top:"0px",bottom:"0px",right:"0px",display:"flex",justifyContent:"center",alignItems:"center",width:"2.5rem",height:"2.5rem"}],children:Object(H.jsx)(ne,{onClick:function(){y()},_css4:[{display:"flex",justifyContent:"center",alignItems:"center",width:"1.25rem",height:"1.25rem","--tw-text-opacity":"1",color:"rgba(209, 213, 219, var(--tw-text-opacity))",":hover":{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}}],children:Object(H.jsx)(ie,{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",_css5:[{fill:"currentColor"}],children:Object(H.jsx)("path",{d:jt.m})})})})]})},oe=Object(r.b)("button").withConfig({displayName:"Sidenav___StyledButton",componentId:"sc-9e2epx-0"})(["",""],(function(t){return t._css})),ce=Object(r.b)("span").withConfig({displayName:"Sidenav___StyledSpan",componentId:"sc-9e2epx-1"})(["",""],(function(t){return t._css2})),ae=Object(r.b)("span").withConfig({displayName:"Sidenav___StyledSpan2",componentId:"sc-9e2epx-2"})(["",""],(function(t){return t._css3}));function se(t){var e=t.width,n=t.height,i=(Object(v.a)(t,["width","height"]),Object(m.b)(Gt)),r=Object(b.a)(i,2),c=r[0],a=r[1],s=Object(m.b)(Wt),l=Object(b.a)(s,1)[0];Object(o.useEffect)((function(){}),[c]);return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(oe,{onClick:function(){return a(!c)},_css:[{":focus":{outline:"2px solid transparent",outlineOffset:"2px"}}],children:Object(H.jsx)("svg",{style:{width:e,height:n},viewBox:"0 0 24 24",children:Object(H.jsx)("path",{fill:"#000000",d:jt.d})})}),(c||"ERROR"===l)&&Object(H.jsx)(ce,{_css2:[{display:"flex",position:"absolute",height:"0.75rem",width:"0.75rem",top:"0px",right:"0px",marginTop:"-0.25rem",marginRight:"-0.25rem"}],children:Object(H.jsx)(ae,{_css3:[{position:"absolute",display:"inline-flex",height:"100%",width:"100%",borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgba(96, 165, 250, var(--tw-bg-opacity))",opacity:"0.75"},{CONNECTED:{"--tw-bg-opacity":"1",backgroundColor:"rgba(96, 165, 250, var(--tw-bg-opacity))"},ERROR:{"--tw-bg-opacity":"1",backgroundColor:"rgba(248, 113, 113, var(--tw-bg-opacity))"}}[l]]})})]})}var le=Object(r.b)("div").withConfig({displayName:"Sidenav___StyledDiv",componentId:"sc-9e2epx-3"})(["",""],(function(t){return t._css4})),de=Object(r.b)("div").withConfig({displayName:"Sidenav___StyledDiv2",componentId:"sc-9e2epx-4"})(["",""],(function(t){return t._css5})),be=Object(r.b)("div").withConfig({displayName:"Sidenav___StyledDiv3",componentId:"sc-9e2epx-5"})(["",""],(function(t){return t._css6})),pe=Object(r.b)("div").withConfig({displayName:"Sidenav___StyledDiv4",componentId:"sc-9e2epx-6"})(["",""],(function(t){return t._css7})),ue=Object(r.b)("button").withConfig({displayName:"Sidenav___StyledButton2",componentId:"sc-9e2epx-7"})(["",""],(function(t){return t._css8})),me=Object(r.b)("div").withConfig({displayName:"Sidenav___StyledDiv5",componentId:"sc-9e2epx-8"})(["",""],(function(t){return t._css9})),je=Object(r.b)("div").withConfig({displayName:"Sidenav___StyledDiv6",componentId:"sc-9e2epx-9"})(["",""],(function(t){return t._css10}));var fe=function(t){var e=t.communityURL;return Object(v.a)(t,["communityURL"]),Object(H.jsxs)(le,{_css4:[{position:"fixed",bottom:"1rem",left:"1rem",display:"flex",alignItems:"center",height:"2.5rem"}],children:[Object(H.jsx)(de,{_css5:[{display:"flex",alignItems:"center"}],children:Object(H.jsx)("a",{href:"https://beta.owntwin.com/docs/about",target:"_blank",rel:"noreferrer",children:Object(H.jsx)("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",children:Object(H.jsx)("path",{fill:"#000000",d:jt.g})})})}),!!e&&Object(H.jsx)(be,{_css6:[{marginLeft:"0.75rem",display:"flex",alignItems:"center"}],children:Object(H.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",children:Object(H.jsx)("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",children:Object(H.jsx)("path",{fill:"#000000",d:jt.a})})})}),Object(H.jsx)(pe,{_css7:[{marginLeft:"0.75rem",display:"flex",alignItems:"center"}],children:Object(H.jsx)(ue,{onClick:function(){(document.body.requestFullscreen||document.body.webkitRequestFullscreen).call(document.body)},_css8:[{":focus":{outline:"2px solid transparent",outlineOffset:"2px"}}],children:Object(H.jsx)("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",children:Object(H.jsx)("path",{fill:"#000000",d:jt.f})})})}),Object(H.jsx)(me,{_css9:[{marginLeft:"0.75rem",display:"flex",alignItems:"center",position:"relative"}],children:Object(H.jsx)(se,{width:"24px",height:"24px"})}),Object(H.jsx)(je,{_css10:[{marginLeft:"0.75rem",display:"flex",alignItems:"center"}],children:Object(H.jsx)(re,{})})]})};function he(t,e){return 2===e.split(":",2).length?t&&t.properties&&t.properties[e]?encodeURIComponent(t.properties[e]):null:t&&t[e]?encodeURIComponent(t[e]):null}var ge=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv",componentId:"sc-1teqlu0-0"})(["",""],(function(t){return t._css})),ye=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv2",componentId:"sc-1teqlu0-1"})(["",""],(function(t){return t._css2})),xe=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv3",componentId:"sc-1teqlu0-2"})(["",""],(function(t){return t._css3})),Oe=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv4",componentId:"sc-1teqlu0-3"})(["",""],(function(t){return t._css4})),ve=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv5",componentId:"sc-1teqlu0-4"})(["",""],(function(t){return t._css5})),we=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv6",componentId:"sc-1teqlu0-5"})(["",""],(function(t){return t._css6})),_e=Object(r.b)("svg").withConfig({displayName:"ItemInfo___StyledSvg",componentId:"sc-1teqlu0-6"})(["",""],(function(t){return t._css7})),Ie=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv7",componentId:"sc-1teqlu0-7"})(["",""],(function(t){return t._css8})),Se=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv8",componentId:"sc-1teqlu0-8"})(["",""],(function(t){return t._css9})),Ce=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv9",componentId:"sc-1teqlu0-9"})(["",""],(function(t){return t._css10})),ke=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv10",componentId:"sc-1teqlu0-10"})(["",""],(function(t){return t._css11})),Ne=Object(r.b)("pre").withConfig({displayName:"ItemInfo___StyledPre",componentId:"sc-1teqlu0-11"})(["",""],(function(t){return t._css12})),De=Object(r.b)("span").withConfig({displayName:"ItemInfo___StyledSpan",componentId:"sc-1teqlu0-12"})(["",""],(function(t){return t._css13})),Be=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv11",componentId:"sc-1teqlu0-13"})(["",""],(function(t){return t._css14})),Re=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv12",componentId:"sc-1teqlu0-14"})(["",""],(function(t){return t._css15})),ze=Object(r.b)("pre").withConfig({displayName:"ItemInfo___StyledPre2",componentId:"sc-1teqlu0-15"})(["",""],(function(t){return t._css16})),Pe=Object(r.b)("span").withConfig({displayName:"ItemInfo___StyledSpan2",componentId:"sc-1teqlu0-16"})(["",""],(function(t){return t._css17})),Ee=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv13",componentId:"sc-1teqlu0-17"})(["",""],(function(t){return t._css18})),Me=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv14",componentId:"sc-1teqlu0-18"})(["",""],(function(t){return t._css19})),qe=Object(r.b)("a").withConfig({displayName:"ItemInfo___StyledA",componentId:"sc-1teqlu0-19"})(["",""],(function(t){return t._css20})),Le=Object(r.b)("svg").withConfig({displayName:"ItemInfo___StyledSvg2",componentId:"sc-1teqlu0-20"})(["",""],(function(t){return t._css21})),Te=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv15",componentId:"sc-1teqlu0-21"})(["",""],(function(t){return t._css22})),Ae=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv16",componentId:"sc-1teqlu0-22"})(["",""],(function(t){return t._css23})),He=Object(r.b)("span").withConfig({displayName:"ItemInfo___StyledSpan3",componentId:"sc-1teqlu0-23"})(["",""],(function(t){return t._css24})),Fe=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv17",componentId:"sc-1teqlu0-24"})(["",""],(function(t){return t._css25})),Ge=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv18",componentId:"sc-1teqlu0-25"})(["",""],(function(t){return t._css26})),We=Object(r.b)("input").withConfig({displayName:"ItemInfo___StyledInput",componentId:"sc-1teqlu0-26"})(["",""],(function(t){return t._css27})),Ve=Object(r.b)("span").withConfig({displayName:"ItemInfo___StyledSpan4",componentId:"sc-1teqlu0-27"})(["",""],(function(t){return t._css28})),Ue=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv19",componentId:"sc-1teqlu0-28"})(["",""],(function(t){return t._css29})),Ye=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv20",componentId:"sc-1teqlu0-29"})(["",""],(function(t){return t._css30})),Xe=Object(r.b)("span").withConfig({displayName:"ItemInfo___StyledSpan5",componentId:"sc-1teqlu0-30"})(["",""],(function(t){return t._css31})),Je=Object(r.b)("span").withConfig({displayName:"ItemInfo___StyledSpan6",componentId:"sc-1teqlu0-31"})(["",""],(function(t){return t._css32}));function Ke(t){var e=t.id,n=t.module,i=t.properties,r=t.isOpen,c=(Object(v.a)(t,["id","module","properties","isOpen"]),Object(o.useState)(r||!1)),a=Object(b.a)(c,2),s=a[0],l=a[1],d=Object(o.useState)(!1),p=Object(b.a)(d,2),u=p[0],h=p[1],g=Object(m.b)(j),y=Object(b.a)(g,2),x=y[0],O=y[1],w=Object(m.b)(f),_=Object(b.a)(w,1)[0],I=n.definition,S=I.layers,C=I.actions||[],k=[];return i=i||{},Object(H.jsxs)(ge,{_css:[{borderBottomWidth:"1px"}],children:[Object(H.jsx)(ye,{onClick:function(t){l(!s)},_css2:[{paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",cursor:"pointer",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(219, 234, 254, var(--tw-bg-opacity))"},display:"flex",flexDirection:"column"}],children:Object(H.jsxs)(xe,{_css3:[{display:"flex",alignItems:"center"}],children:[Object(H.jsx)(Oe,{_css4:[{flexGrow:"1"}],children:I.name}),Object(H.jsx)(ve,{_css5:[{display:"flex",alignItems:"center"}],children:Object(H.jsx)(we,{onClick:function(t){s?(t.stopPropagation(),h(!u)):h(!0)},_css6:[{borderRadius:"0.25rem",padding:"0.25rem",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(191, 219, 254, var(--tw-bg-opacity))"}}],children:Object(H.jsx)(_e,{style:{width:"18px",height:"18px"},viewBox:"0 0 24 24",_css7:[{fill:"currentColor","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:Object(H.jsx)("path",{d:jt.h})})})})]})}),s&&Object(H.jsxs)(Ie,{_css8:[{paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingBottom:"0.75rem",fontSize:"0.875rem",lineHeight:"1.25rem"}],children:[u&&Object(H.jsxs)(Se,{_css9:[{marginBottom:"0.5rem",marginTop:"0.25rem"}],children:[Object(H.jsx)(Ce,{_css10:[{marginTop:"0.25rem",marginBottom:"0.25rem"}],children:"\u8aac\u660e"}),Object(H.jsx)(ke,{_css11:[{padding:"0.5rem",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-bg-opacity":"1",backgroundColor:"rgba(243, 244, 246, var(--tw-bg-opacity))",borderRadius:"0.25rem"}],children:Object(H.jsx)(Ne,{_css12:[{overflowWrap:"break-word",whiteSpace:"pre-wrap"}],children:I.description||Object(H.jsx)(De,{_css13:[{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:"\u672a\u767b\u9332"})})}),Object(H.jsx)(Be,{_css14:[{marginTop:"0.5rem",marginBottom:"0.25rem"}],children:"\u5229\u7528\u6761\u4ef6"}),Object(H.jsx)(Re,{_css15:[{padding:"0.5rem",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-bg-opacity":"1",backgroundColor:"rgba(243, 244, 246, var(--tw-bg-opacity))",borderRadius:"0.25rem"}],children:Object(H.jsx)(ze,{_css16:[{overflowWrap:"break-word",whiteSpace:"pre-wrap"}],children:I.license||Object(H.jsx)(Pe,{_css17:[{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:"\u672a\u767b\u9332"})})})]}),Object(H.jsxs)(Ee,{_css18:[{marginBottom:"0.5rem"}],children:[Object(H.jsx)(Me,{_css19:[{marginTop:"0.25rem",marginBottom:"0.25rem"}],children:"\u30a2\u30af\u30b7\u30e7\u30f3"}),Object(H.jsx)("ul",{children:C.length>0?C.map((function(t,n){var r=function(n){return i["".concat(e,":actions.").concat(t.id,".").concat(n)]||t[n]||null},o=[];return r("href")||o.push("href"),t.fields&&t.fields.forEach((function(t){null!==he(_,t)||o.push(t)})),Object(H.jsxs)("li",{children:[Object(H.jsxs)(qe,{href:function(){var e=t.fields?t.fields.map((function(t){var e=r("fields.assign_to");if(!e)return"";var n=e[t],i=he(_,t);return n&&i?"".concat(n,"=").concat(i):""})):[];return"".concat(r("href"),"?").concat(t.default_param?"".concat(t.default_param,"&"):"").concat(e.join("&"))}(),onClick:function(t){if(o.length>0)return t.preventDefault(),!1},target:"_blank",rel:"noreferrer",_css20:[{display:"flex",alignItems:"center",cursor:"pointer",":hover":{"--tw-text-opacity":"1",color:"rgba(31, 41, 55, var(--tw-text-opacity))"}}],children:[Object(H.jsx)(Le,{style:{width:"14px",height:"14px"},viewBox:"0 0 24 24",_css21:[{fill:"currentColor","--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",marginRight:"0.125rem"}],children:Object(H.jsx)("path",{d:jt.k})}),Object(H.jsx)(Te,{_css22:[o.length>0?{textDecoration:"line-through"}:null],children:t.text})]}),o.length>0&&Object(H.jsxs)(Ae,{_css23:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(107, 114, 128, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",borderRadius:"0.25rem",paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.125rem",paddingBottom:"0.125rem",marginBottom:"0.125rem",fontSize:"0.75rem",lineHeight:"1rem"}],children:["\u60c5\u5831\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044:"," ",Object(H.jsx)("code",{children:o.join(", ")})]})]},n)})):Object(H.jsx)("li",{children:Object(H.jsx)(He,{_css24:[{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:"\u672a\u767b\u9332"})})})]}),Object(H.jsxs)(Fe,{_css25:[{marginBottom:"0.5rem"}],children:[Object(H.jsx)(Ge,{_css26:[{marginTop:"0.25rem",marginBottom:"0.25rem"}],children:"\u30ec\u30a4\u30e4\u30fc"}),Object(H.jsx)("ul",{children:S.length>0?S.map((function(t,e){return Object(H.jsxs)("li",{children:[Object(H.jsx)(We,{type:"checkbox",checked:x[t.id].enabled,onChange:function(e){O((function(e){return e[t.id].enabled=!e[t.id].enabled,Object.assign({},e)}))},_css27:[{marginRight:"0.25rem"}]}),t.name]},e)})):Object(H.jsx)("li",{children:Object(H.jsx)(Ve,{_css28:[{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:"\u672a\u767b\u9332"})})})]}),Object(H.jsxs)(Ue,{_css29:[{marginBottom:"0.5rem"}],children:[Object(H.jsx)(Ye,{_css30:[{marginTop:"0.25rem",marginBottom:"0.25rem"}],children:"\u30d5\u30a3\u30eb\u30bf\u30fc"}),Object(H.jsx)("ul",{children:k.length>0?k.map((function(t,e){return Object(H.jsx)("li",{children:Object(H.jsx)(Xe,{_css31:[{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:t.name})},e)})):Object(H.jsx)("li",{children:Object(H.jsx)(Je,{_css32:[{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:"\u672a\u767b\u9332"})})})]})]})]})}var Qe=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv21",componentId:"sc-1teqlu0-32"})(["",""],(function(t){return t._css33})),Ze=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv22",componentId:"sc-1teqlu0-33"})(["",""],(function(t){return t._css34})),$e=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv23",componentId:"sc-1teqlu0-34"})(["",""],(function(t){return t._css35})),tn=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv24",componentId:"sc-1teqlu0-35"})(["",""],(function(t){return t._css36})),en=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv25",componentId:"sc-1teqlu0-36"})(["",""],(function(t){return t._css37})),nn=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv26",componentId:"sc-1teqlu0-37"})(["",""],(function(t){return t._css38})),rn=Object(r.b)("svg").withConfig({displayName:"ItemInfo___StyledSvg3",componentId:"sc-1teqlu0-38"})(["",""],(function(t){return t._css39})),on=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv27",componentId:"sc-1teqlu0-39"})(["",""],(function(t){return t._css40})),cn=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv28",componentId:"sc-1teqlu0-40"})(["",""],(function(t){return t._css41})),an=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv29",componentId:"sc-1teqlu0-41"})(["",""],(function(t){return t._css42})),sn=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv30",componentId:"sc-1teqlu0-42"})(["",""],(function(t){return t._css43})),ln=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv31",componentId:"sc-1teqlu0-43"})(["",""],(function(t){return t._css44})),dn=Object(r.b)("div").withConfig({displayName:"ItemInfo___StyledDiv32",componentId:"sc-1teqlu0-44"})(["",""],(function(t){return t._css45}));var bn=function(t){var e=t.name,n=t.type,i=t.iri,r=t.item,c=t.modules,a=t.properties,s=t.isOpen,l=t.back,d=Object(v.a)(t,["name","type","iri","item","modules","properties","isOpen","back"]),p=Object(o.useState)(s||!1),u=Object(b.a)(p,2),m=u[0],j=u[1],f=Object(o.useState)(!1),h=Object(b.a)(f,2),g=h[0],y=h[1],x=r.description||null;return Object(H.jsxs)(Qe,{style:Object(mt.a)(Object(mt.a)({},d.style),{},{maxHeight:"40rem",zIndex:"20000000"}),_css33:[{position:"fixed",top:"1rem",left:"1rem",display:"flex",flexDirection:"column","--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))","--tw-shadow":"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",borderRadius:"0.25rem",right:"1rem","@media (min-width: 640px)":{right:"auto",width:"18rem"}},m?{bottom:"5rem"}:{bottom:"auto"}],children:[Object(H.jsxs)("div",{children:[l,Object(H.jsxs)(Ze,{_css34:[l?{borderTopWidth:"1px"}:null,{paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem",borderRadius:"0.25rem","--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))"}],children:[Object(H.jsx)($e,{_css35:[{fontSize:"0.75rem",lineHeight:"1rem"}],children:n}),Object(H.jsx)("div",{children:e}),Object(H.jsx)(tn,{_css36:[{fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))",wordBreak:"break-all"}],children:i||"\u672a\u767b\u9332"})]})]}),Object(H.jsx)(en,{onClick:function(){j(!m),!g&&y(!0)},_css37:[{borderTopWidth:"1px",display:"flex",justifyContent:"center",cursor:"pointer",paddingTop:"0.25rem",paddingBottom:"0.25rem",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(243, 244, 246, var(--tw-bg-opacity))"}}],children:Object(H.jsxs)(nn,{_css38:[{fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgba(31, 41, 55, var(--tw-text-opacity))",display:"flex",alignItems:"center"}],children:[Object(H.jsx)(rn,{style:{width:"18px",height:"18px"},viewBox:"0 0 24 24",_css39:[{fill:"currentColor","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:Object(H.jsx)("path",{d:m?jt.j:jt.i})}),!g&&Object(H.jsx)("div",{children:"\u30af\u30ea\u30c3\u30af\u3067\u958b\u304f/\u9589\u3058\u308b"})]})}),Object(H.jsxs)(on,{_css40:[m?{display:"block"}:{display:"none"},{flexGrow:"1",overflowY:"scroll"}],children:[Object(H.jsx)(cn,{_css41:[{marginTop:"0px",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgba(31, 41, 55, var(--tw-text-opacity))"}],children:"\u30a4\u30f3\u30d5\u30a9\u30e1\u30fc\u30b7\u30e7\u30f3"}),Object(H.jsx)(an,{_css42:[{borderWidth:"1px",borderRadius:"0.125rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem",margin:"0.5rem",marginTop:"0px"}],children:Object(H.jsx)(sn,{_css43:[{fontSize:"0.875rem",lineHeight:"1.25rem"},!x&&{"--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}],children:x||"\u672a\u767b\u9332"})}),Object(H.jsxs)(ln,{_css44:[{paddingTop:"0.5rem",paddingBottom:"0.5rem"}],children:[Object(H.jsx)(dn,{_css45:[{paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",borderBottomWidth:"1px",fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgba(31, 41, 55, var(--tw-text-opacity))"}],children:"\u30e2\u30b8\u30e5\u30fc\u30eb"}),Object.entries(c).map((function(t){var e=Object(b.a)(t,2),n=e[0],i=e[1];return Object(H.jsx)(Ke,{id:n,module:i,properties:a},n)}))]})]})]})},pn=Object(r.b)("div").withConfig({displayName:"Clock___StyledDiv",componentId:"x8e724-0"})(["",""],(function(t){return t._css})),un=Object(r.b)("div").withConfig({displayName:"Clock___StyledDiv2",componentId:"x8e724-1"})(["",""],(function(t){return t._css2}));var mn=function(t){Object.assign({},t);var e=Object(o.useState)(),n=Object(b.a)(e,2),i=n[0],r=n[1];function c(){var t=(new Date).toLocaleString("ja-JP",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"});r(t)}return Object(o.useEffect)((function(){c();var t=setInterval((function(){return c()}),3e4);return function(){clearInterval(t)}}),[]),Object(H.jsx)(pn,{_css:[{display:"flex",alignItems:"center"}],children:Object(H.jsx)(un,{_css2:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))","--tw-shadow":"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",borderRadius:"0.25rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem",userSelect:"none"}],children:i})})};function jn(t){Object.assign({},t);return Object(H.jsx)(_.a,{makeDefault:!0,up:[0,0,1],position:[0,-400,200],fov:60,aspect:window.innerWidth/window.innerHeight,near:1,far:2048})}function fn(t){var e=t.width,n=t.height,i=t.color;Object(v.a)(t,["width","height","color"]);return Object(H.jsxs)("mesh",{children:[Object(H.jsx)("planeBufferGeometry",{args:[e,n]}),Object(H.jsx)("meshBasicMaterial",{color:i||15856629,polygonOffset:!0,polygonOffsetFactor:1})]})}function hn(t){var e=t.model,n=t.base,i=t.depth,r=t.floor,c=t.floors,a=(Object(v.a)(t,["model","base","depth","floor","floors"]),250),s=250,l=Object(m.b)(f),d=Object(b.a)(l,2),p=d[0],u=d[1],j=n[0][0],h=n[0][1],g=T(e.bbox,j,h,a,s),y=Object(o.useMemo)((function(){var t=new C.Shape;return t.moveTo(0,0),n.forEach((function(n){var i=T(e.bbox,n[0],n[1],a,s);t.lineTo(i.x-g.x,i.y-g.y)})),t}),[n,e,g.x,g.y]),x=Object(o.useMemo)((function(){var t={steps:1,depth:.2*(i||50),bevelEnabled:!1};return new C.ExtrudeBufferGeometry(y,t)}),[y,i]),O=r||1,w=.2*(i||50)/O,_=c||{},I=Object(o.useMemo)((function(){return new C.ShapeBufferGeometry(y)}),[y]),S=[],k=Object(o.useState)(null),N=Object(b.a)(k,2),D=N[0],B=N[1],R=Object(o.useState)(null),z=Object(b.a)(R,2),P=z[0],E=z[1],M=Object(o.useState)(null),q=Object(b.a)(M,2),L=q[0],A=q[1],F=Object(o.useState)(null),G=Object(b.a)(F,2),W=G[0],V=G[1];Object(o.useEffect)((function(){p&&p.id!==W&&V(null)}),[p,W]),Object(o.useEffect)((function(){document.body.style.cursor=P||L?"pointer":"auto"}),[P,L]);for(var U=function(t){var n=_["".concat(t+1)]||{texture:null,anchors:[]};n.n="".concat(t+1);var i=n.anchors.map((function(n,i){var r=T(e.bbox,n.position.lng,n.position.lat,a,s);return Object(H.jsxs)("mesh",{position:[r.x-g.x,r.y-g.y,w/2],userData:{data:n},visible:null===D||D===t+1,children:[Object(H.jsx)("sphereBufferGeometry",{args:[.1,20,20]}),Object(H.jsx)("meshBasicMaterial",{color:2201331}),Object(H.jsxs)("mesh",{name:"hitbox",visible:null===D||D===t+1,onPointerOver:function(e){e.stopPropagation(),D===t+1&&A(n.id)},onPointerOut:function(t){t.stopPropagation(),L===n.id&&A(null)},onPointerDown:function(e){D===t+1&&!L!==n.id&&(e.stopPropagation(),u(n),V(n.id))},children:[Object(H.jsx)("sphereBufferGeometry",{args:[1,20,20]}),Object(H.jsx)("meshBasicMaterial",{visible:L===n.id||W===n.id,color:2201331,opacity:.5,transparent:!0})]}),Object(H.jsx)(it.a,{style:{pointerEvents:"none"},children:Object(H.jsx)("div",{style:{display:null===D||D===t+1?"block":"none",fontSize:"0.75rem",fontWeight:L===n.id||W===n.id?"bold":null,width:"10rem"},children:n.name})})]},i)})),r=Object(H.jsxs)("mesh",{"position-z":w*t,geometry:I,userData:{metadata:n},onPointerDown:function(e){L||(D===t+1?(e.stopPropagation(),B(null)):null===D&&(e.stopPropagation(),B(t+1)))},onPointerOver:function(e){null!==D&&D!==t+1||(e.stopPropagation(),E(t+1))},onPointerOut:function(e){null!==D&&D!==t+1||(e.stopPropagation(),E(null))},visible:null===D||D===t+1,children:[Object(H.jsx)("meshBasicMaterial",{color:P===t+1?11184810:15856628,side:C.DoubleSide,visible:null===D||D===t+1}),Object(H.jsxs)("lineSegments",{children:[Object(H.jsx)("edgesGeometry",{attach:"geometry",args:[I]}),Object(H.jsx)("lineBasicMaterial",{color:13421772,attach:"material"})]}),Object(H.jsx)("group",{name:"anchors",children:i})]},t);S.push(r)},Y=0;Y<O;Y++)U(Y);var X=Object(o.useRef)();return Object(o.useLayoutEffect)((function(){var t=(new C.Box3).setFromObject(X.current),e=t.getSize(new C.Vector3),n=Math.min(218/e.x,218/e.y);X.current.scale.set(n,n,n);var i=t.getCenter(new C.Vector3);X.current.translateX(-i.x*n),X.current.translateY(-i.y*n)}),[]),Object(H.jsxs)("mesh",{ref:X,position:[0,0,0],geometry:x,children:[Object(H.jsx)("meshLambertMaterial",{wireframe:!0,visible:!1}),Object(H.jsxs)("lineSegments",{children:[Object(H.jsx)("edgesGeometry",{attach:"geometry",args:[x,45]}),Object(H.jsx)("lineBasicMaterial",{color:13421772,attach:"material"})]}),Object(H.jsx)("group",{name:"floors",children:S})]})}var gn=function(t){var e,n=t.model,i=t.type,r=t.entity;return Object(v.a)(t,["model","type","entity"]),e&&(e=null),r&&"building"===i&&(e=Object(H.jsx)(hn,{model:n,base:r.base,depth:r.depth,floor:r.floor,floors:r.floors},r.id)),Object(H.jsxs)(w.a,{id:"detail-view-canvas",linear:!0,dpr:Math.min(2,window.devicePixelRatio),gl:{powerPreference:"default",antialias:!1},children:[Object(H.jsx)(jn,{}),Object(H.jsx)("ambientLight",{args:[16777215,1]}),Object(H.jsx)("pointLight",{position:[10,10,10]}),Object(H.jsx)(fn,{width:250,height:250}),e,Object(H.jsx)(I.a,{target:[0,0,0],minDistance:100,maxDistance:500,maxPolarAngle:Math.PI/2-.1})]})},yn=(n(190),{id:null,name:null,type:null,iri:null,url:null,community:null,description:null,bbox:{minlng:139.647216796875,minlat:35.550105335885505,maxlng:139.658203125,maxlat:35.55904339525895},canvas:{width:1024,height:1024},terrain:null,building:null,modules:{}});function xn(){return On.apply(this,arguments)}function On(){return(On=Object(p.a)(d.a.mark((function t(){var e,n,i,r,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new URL(window.location),(o=new URLSearchParams(r.search)).has("twin")?(n=o.get("twin"),i=new URL("./twin.json",n)):(n=null,i="./twin.json"),t.next=5,O.a.get(i).then((function(t){return t.data})).catch((function(){return yn}));case 5:return(e=t.sent)._basePath=n,o.has("no-terrain")&&(e.terrain=null),e.bbox={minlng:e.bbox[0],minlat:e.bbox[1],maxlng:e.bbox[2],maxlat:e.bbox[3]},t.abrupt("return",e);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var vn=Object(r.b)("div").withConfig({displayName:"App___StyledDiv",componentId:"v4ni6-0"})(["",""],(function(t){return t._css})),wn=Object(r.b)("div").withConfig({displayName:"App___StyledDiv2",componentId:"v4ni6-1"})(["",""],(function(t){return t._css2})),_n=Object(r.b)("div").withConfig({displayName:"App___StyledDiv3",componentId:"v4ni6-2"})(["",""],(function(t){return t._css3}));function In(){var t=Object(o.useState)(!1),e=Object(b.a)(t,2),n=e[0],i=e[1],r=Object(m.b)(g),c=Object(b.a)(r,2),a=c[0],s=c[1];return Object(o.useEffect)((function(){a&&i(!0)}),[a]),Object(H.jsxs)(vn,{id:"debug",_css:[{borderTopLeftRadius:"0.375rem",borderTopRightRadius:"0.375rem","--tw-bg-opacity":"1",backgroundColor:"rgba(31, 41, 55, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",position:"fixed",bottom:"0px",left:"0px",right:"0px",height:"12rem",padding:"1rem",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-shadow":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},n?{display:"block"}:{display:"none"}],children:[Object(H.jsx)(wn,{onClick:function(){i(!1),s("")},_css2:[{position:"absolute",top:"1rem",right:"1rem",cursor:"pointer"}],children:Object(H.jsx)("svg",{style:{width:"18px",height:"18px"},viewBox:"0 0 24 24",children:Object(H.jsx)("path",{fill:"#eee",d:jt.c})})}),Object(H.jsx)(_n,{_css3:[{overflowY:"scroll",width:"100%",height:"100%"}],children:a})]})}var Sn=Object(r.b)("div").withConfig({displayName:"App___StyledDiv4",componentId:"v4ni6-3"})(["",""],(function(t){return t._css4})),Cn=Object(r.b)("div").withConfig({displayName:"App___StyledDiv5",componentId:"v4ni6-4"})(["",""],(function(t){return t._css5})),kn=Object(r.b)("div").withConfig({displayName:"App___StyledDiv6",componentId:"v4ni6-5"})(["",""],(function(t){return t._css6})),Nn=Object(r.b)("div").withConfig({displayName:"App___StyledDiv7",componentId:"v4ni6-6"})(["",""],(function(t){return t._css7})),Dn=Object(r.b)("div").withConfig({displayName:"App___StyledDiv8",componentId:"v4ni6-7"})(["",""],(function(t){return t._css8})),Bn=Object(r.b)("div").withConfig({displayName:"App___StyledDiv9",componentId:"v4ni6-8"})(["",""],(function(t){return t._css9})),Rn=Object(r.b)("div").withConfig({displayName:"App___StyledDiv10",componentId:"v4ni6-9"})(["",""],(function(t){return t._css10})),zn=Object(r.b)("div").withConfig({displayName:"App___StyledDiv11",componentId:"v4ni6-10"})(["",""],(function(t){return t._css11})),Pn=Object(r.b)("a").withConfig({displayName:"App___StyledA",componentId:"v4ni6-11"})(["",""],(function(t){return t._css12})),En=Object(r.b)("div").withConfig({displayName:"App___StyledDiv12",componentId:"v4ni6-12"})(["",""],(function(t){return t._css13}));var Mn=function(){var t=Object(o.useState)({id:null,name:null,type:null,iri:null,description:null,modules:[]}),e=Object(b.a)(t,2),n=e[0],i=e[1],r=Object(o.useState)(!1),c=Object(b.a)(r,2),a=c[0],s=c[1],l=Object(m.b)(j),g=Object(b.a)(l,2)[1],y=Object(m.b)(f),x=Object(b.a)(y,2),O=x[0],v=x[1],w=Object(m.b)(h),_=Object(b.a)(w,2),I=_[0],S=_[1],C=Object(o.useState)({}),k=Object(b.a)(C,2),N=k[0],D=k[1];Object(o.useEffect)((function(){Object(p.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xn();case 2:e=t.sent,i(e),s(!0);case 5:case"end":return t.stop()}}),t)})))()}),[]),Object(o.useEffect)((function(){g((function(){var t={};return Object.entries(n.modules).forEach((function(e){var i=Object(b.a)(e,2),r=i[0];(i[1].definition.layers||[]).forEach((function(e){t["".concat(e.id)]={enabled:n.properties["".concat(r,":layers.").concat(e.id,".enabled")]||!1}}))})),t}))}),[g,n.modules,n.properties]),Object(o.useEffect)((function(){!O&&n&&n.id&&v(n),O&&D({name:O.name,type:O.type_label||O.type,iri:O.iri,description:O.description})}),[O,v,n]);var B=Object(o.useRef)(null);return Object(H.jsxs)(Sn,{className:"App",id:"App",_css4:[{position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px"}],children:[Object(H.jsx)(Cn,{_css5:[{position:"absolute",top:"0px",bottom:"0px",left:"0px",right:"0px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-text-opacity":"1",color:"rgba(156, 163, 175, var(--tw-text-opacity))",pointerEvents:"none"},I?{display:"none"}:{display:"flex"}],children:Object(H.jsx)("div",{children:"\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408\u306f\u518d\u8aad\u307f\u8fbc\u307f"})}),Object(H.jsx)(kn,{_css6:[{position:"absolute",top:"0px",bottom:"0px",left:"0px",right:"0px"},I?{display:"none"}:{display:"block"}],children:a&&Object(H.jsx)(Zt,{model:n,basePath:n._basePath})}),Object(H.jsx)(u.a,{nodeRef:B,in:!!I,timeout:1,children:function(t){return Object(H.jsx)(Nn,{ref:B,className:"detail-view",_css7:[{position:"absolute",top:"0px",bottom:"0px",left:"0px",right:"0px"},["entering","entered"].includes(t)?{display:"block"}:{display:"none"}],children:Object(H.jsx)(Dn,{_css8:[{width:"100%",height:"100%"},"entered"===t?{display:"block"}:{display:"none"}],children:a&&Object(H.jsx)(gn,{model:n,type:"building",entity:I})})})}}),a&&Object(H.jsx)(bn,{name:N.name,type:N.type,iri:N.iri,item:N,modules:n.modules,properties:n.properties,back:I&&Object(H.jsxs)(Bn,{onClick:function(t){t.stopPropagation(),I.id===O.id?(S(null),v(null)):v(I)},_css9:[{fontSize:"0.875rem",lineHeight:"1.25rem","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center","--tw-bg-opacity":"1",backgroundColor:"rgba(249, 250, 251, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(243, 244, 246, var(--tw-bg-opacity))"}}],children:[Object(H.jsx)(Rn,{_css10:[{marginRight:"0.25rem"}],children:Object(H.jsx)("svg",{style:{width:"18px",height:"18px"},viewBox:"0 0 24 24",children:Object(H.jsx)("path",{fill:"#888",d:jt.b})})}),Object(H.jsx)("div",{children:"\u623b\u308b"})]})}),Object(H.jsx)(In,{}),Object(H.jsx)(zn,{_css11:[{position:"absolute",top:"1rem",left:"auto",right:"1rem",display:"none","@media (min-width: 640px)":{display:"block"}}],children:Object(H.jsx)(mn,{})}),a&&Object(H.jsx)(fe,{communityURL:n.community}),Object(H.jsx)(Pn,{href:"//beta.owntwin.com",_css12:[{cursor:"pointer"}],children:Object(H.jsx)(En,{className:"logo",_css13:[{position:"absolute",bottom:"1rem",left:"auto",right:"1rem",opacity:"0.75",fontWeight:"700","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgba(107, 114, 128, var(--tw-bg-opacity))",borderRadius:"0.25rem",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem"}],children:Object(H.jsx)("div",{children:"OwnTwin"})})})]})};function qn(){var t=Object(i.a)(['*, ::before, ::after {\nbox-sizing: border-box;\nborder-width: 0;\nborder-style: solid;\n--tw-border-opacity: 1;\nborder-color: rgba(229, 231, 235, var(--tw-border-opacity));\n--tw-translate-x: 0;\n--tw-translate-y: 0;\n--tw-rotate: 0;\n--tw-skew-x: 0;\n--tw-skew-y: 0;\n--tw-scale-x: 1;\n--tw-scale-y: 1;\n--tw-transform: translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n--tw-ring-inset: var(--tw-empty,/*!*/ /*!*/);\n--tw-ring-offset-width: 0px;\n--tw-ring-offset-color: #fff;\n--tw-ring-color: rgba(59, 130, 246, 0.5);\n--tw-ring-offset-shadow: 0 0 #0000;\n--tw-ring-shadow: 0 0 #0000;\n--tw-shadow: 0 0 #0000;\n--tw-blur: var(--tw-empty,/*!*/ /*!*/);\n--tw-brightness: var(--tw-empty,/*!*/ /*!*/);\n--tw-contrast: var(--tw-empty,/*!*/ /*!*/);\n--tw-grayscale: var(--tw-empty,/*!*/ /*!*/);\n--tw-hue-rotate: var(--tw-empty,/*!*/ /*!*/);\n--tw-invert: var(--tw-empty,/*!*/ /*!*/);\n--tw-saturate: var(--tw-empty,/*!*/ /*!*/);\n--tw-sepia: var(--tw-empty,/*!*/ /*!*/);\n--tw-drop-shadow: var(--tw-empty,/*!*/ /*!*/);\n--tw-filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n--tw-backdrop-blur: var(--tw-empty,/*!*/ /*!*/);\n--tw-backdrop-brightness: var(--tw-empty,/*!*/ /*!*/);\n--tw-backdrop-contrast: var(--tw-empty,/*!*/ /*!*/);\n--tw-backdrop-grayscale: var(--tw-empty,/*!*/ /*!*/);\n--tw-backdrop-hue-rotate: var(--tw-empty,/*!*/ /*!*/);\n--tw-backdrop-invert: var(--tw-empty,/*!*/ /*!*/);\n--tw-backdrop-opacity: var(--tw-empty,/*!*/ /*!*/);\n--tw-backdrop-saturate: var(--tw-empty,/*!*/ /*!*/);\n--tw-backdrop-sepia: var(--tw-empty,/*!*/ /*!*/);\n--tw-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n        }\nhtml {\nline-height: 1.5;\n-webkit-text-size-adjust: 100%;\n-moz-tab-size: 4;\ntab-size: 4;\nfont-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n        }\nbody {\nmargin: 0;\nfont-family: inherit;\nline-height: inherit;\n        }\nhr {\nheight: 0;\ncolor: inherit;\nborder-top-width: 1px;\n        }\nabbr[title] {\ntext-decoration: underline dotted;\n        }\nb, strong {\nfont-weight: bolder;\n        }\ncode, kbd, samp, pre {\nfont-family: ui-monospace, SFMono-Regular, Consolas, \'Liberation Mono\', Menlo, monospace;\nfont-size: 1em;\n        }\nsmall {\nfont-size: 80%;\n        }\nsub, sup {\nfont-size: 75%;\nline-height: 0;\nposition: relative;\nvertical-align: baseline;\n        }\nsub {\nbottom: -0.25em;\n        }\nsup {\ntop: -0.5em;\n        }\ntable {\ntext-indent: 0;\nborder-color: inherit;\nborder-collapse: collapse;\n        }\nbutton, input, optgroup, select, textarea {\nfont-family: inherit;\nfont-size: 100%;\nline-height: inherit;\nmargin: 0;\npadding: 0;\ncolor: inherit;\n        }\nbutton, select {\ntext-transform: none;\n        }\nbutton, [type=\'button\'], [type=\'reset\'], [type=\'submit\'] {\n-webkit-appearance: button;\n        }\n::-moz-focus-inner {\nborder-style: none;\npadding: 0;\n        }\n:-moz-focusring {\noutline: 1px dotted ButtonText;\n        }\n:-moz-ui-invalid {\nbox-shadow: none;\n        }\nlegend {\npadding: 0;\n        }\nprogress {\nvertical-align: baseline;\n        }\n::-webkit-inner-spin-button, ::-webkit-outer-spin-button {\nheight: auto;\n        }\n[type=\'search\'] {\n-webkit-appearance: textfield;\noutline-offset: -2px;\n        }\n::-webkit-search-decoration {\n-webkit-appearance: none;\n        }\n::-webkit-file-upload-button {\n-webkit-appearance: button;\nfont: inherit;\n        }\nsummary {\ndisplay: list-item;\n        }\nblockquote, dl, dd, h1, h2, h3, h4, h5, h6, hr, figure, p, pre {\nmargin: 0;\n        }\nbutton {\nbackground-color: transparent;\nbackground-image: none;\n        }\nfieldset {\nmargin: 0;\npadding: 0;\n        }\nol, ul {\nlist-style: none;\nmargin: 0;\npadding: 0;\n        }\nimg {\nborder-style: solid;\n        }\ntextarea {\nresize: vertical;\n        }\ninput::placeholder, textarea::placeholder {\ncolor: #9ca3af;\n        }\nbutton, [role="button"] {\ncursor: pointer;\n        }\nh1, h2, h3, h4, h5, h6 {\nfont-size: inherit;\nfont-weight: inherit;\n        }\na {\ncolor: inherit;\ntext-decoration: inherit;\n        }\npre, code, kbd, samp {\nfont-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;\n        }\nimg, svg, video, canvas, audio, iframe, embed, object {\ndisplay: block;\nvertical-align: middle;\n        }\nimg, video {\nmax-width: 100%;\nheight: auto;\n        }\n[hidden] {\ndisplay: none;\n        }\n@keyframes spin {\nto {\ntransform: rotate(360deg);\n        }\n        }\n@keyframes ping {\n75%, 100% {\ntransform: scale(2);\nopacity: 0;\n        }\n        }\n@keyframes pulse {\n50% {\nopacity: .5;\n        }\n        }\n@keyframes bounce {\n0%, 100% {\ntransform: translateY(-25%);\nanimation-timing-function: cubic-bezier(0.8,0,1,1);\n        }\n50% {\ntransform: none;\nanimation-timing-function: cubic-bezier(0,0,0.2,1);\n        }\n        }']);return qn=function(){return t},t}var Ln=Object(r.a)(qn());s.a.render(Object(H.jsxs)(c.a.StrictMode,{children:[Object(H.jsx)(Ln,{}),Object(H.jsx)(Mn,{})]}),document.getElementById("root"))}},[[194,1,2]]]);
//# sourceMappingURL=main.edbe9546.chunk.js.map