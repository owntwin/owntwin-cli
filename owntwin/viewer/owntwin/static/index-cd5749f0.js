(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var b_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function QO(n){var e=n.default;if(typeof e=="function"){var t=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Pg={exports:{}},Ig={},ue={exports:{}},It={};var Mh=Symbol.for("react.element"),KO=Symbol.for("react.portal"),ek=Symbol.for("react.fragment"),tk=Symbol.for("react.strict_mode"),nk=Symbol.for("react.profiler"),rk=Symbol.for("react.provider"),ik=Symbol.for("react.context"),sk=Symbol.for("react.forward_ref"),ok=Symbol.for("react.suspense"),ak=Symbol.for("react.memo"),lk=Symbol.for("react.lazy"),e2=Symbol.iterator;function uk(n){return n===null||typeof n!="object"?null:(n=e2&&n[e2]||n["@@iterator"],typeof n=="function"?n:null)}var U3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H3=Object.assign,V3={};function oc(n,e,t){this.props=n,this.context=e,this.refs=V3,this.updater=t||U3}oc.prototype.isReactComponent={};oc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};oc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function W3(){}W3.prototype=oc.prototype;function Zx(n,e,t){this.props=n,this.context=e,this.refs=V3,this.updater=t||U3}var Qx=Zx.prototype=new W3;Qx.constructor=Zx;H3(Qx,oc.prototype);Qx.isPureReactComponent=!0;var t2=Array.isArray,G3=Object.prototype.hasOwnProperty,Kx={current:null},j3={key:!0,ref:!0,__self:!0,__source:!0};function $3(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)G3.call(e,r)&&!j3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Mh,type:n,key:s,ref:o,props:i,_owner:Kx.current}}function ck(n,e){return{$$typeof:Mh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function ew(n){return typeof n=="object"&&n!==null&&n.$$typeof===Mh}function fk(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var n2=/\/+/g;function $y(n,e){return typeof n=="object"&&n!==null&&n.key!=null?fk(""+n.key):e.toString(36)}function hm(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Mh:case KO:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+$y(o,0):r,t2(i)?(t="",n!=null&&(t=n.replace(n2,"$&/")+"/"),hm(i,e,t,"",function(u){return u})):i!=null&&(ew(i)&&(i=ck(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(n2,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",t2(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+$y(s,a);o+=hm(s,e,t,l,i)}else if(l=uk(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+$y(s,a++),o+=hm(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qd(n,e,t){if(n==null)return n;var r=[],i=0;return hm(n,r,"","",function(s){return e.call(t,s,i++)}),r}function hk(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ir={current:null},dm={transition:null},dk={ReactCurrentDispatcher:Ir,ReactCurrentBatchConfig:dm,ReactCurrentOwner:Kx};It.Children={map:qd,forEach:function(n,e,t){qd(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return qd(n,function(){e++}),e},toArray:function(n){return qd(n,function(e){return e})||[]},only:function(n){if(!ew(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};It.Component=oc;It.Fragment=ek;It.Profiler=nk;It.PureComponent=Zx;It.StrictMode=tk;It.Suspense=ok;It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dk;It.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=H3({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Kx.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)G3.call(e,l)&&!j3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Mh,type:n.type,key:i,ref:s,props:r,_owner:o}};It.createContext=function(n){return n={$$typeof:ik,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:rk,_context:n},n.Consumer=n};It.createElement=$3;It.createFactory=function(n){var e=$3.bind(null,n);return e.type=n,e};It.createRef=function(){return{current:null}};It.forwardRef=function(n){return{$$typeof:sk,render:n}};It.isValidElement=ew;It.lazy=function(n){return{$$typeof:lk,_payload:{_status:-1,_result:n},_init:hk}};It.memo=function(n,e){return{$$typeof:ak,type:n,compare:e===void 0?null:e}};It.startTransition=function(n){var e=dm.transition;dm.transition={};try{n()}finally{dm.transition=e}};It.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};It.useCallback=function(n,e){return Ir.current.useCallback(n,e)};It.useContext=function(n){return Ir.current.useContext(n)};It.useDebugValue=function(){};It.useDeferredValue=function(n){return Ir.current.useDeferredValue(n)};It.useEffect=function(n,e){return Ir.current.useEffect(n,e)};It.useId=function(){return Ir.current.useId()};It.useImperativeHandle=function(n,e,t){return Ir.current.useImperativeHandle(n,e,t)};It.useInsertionEffect=function(n,e){return Ir.current.useInsertionEffect(n,e)};It.useLayoutEffect=function(n,e){return Ir.current.useLayoutEffect(n,e)};It.useMemo=function(n,e){return Ir.current.useMemo(n,e)};It.useReducer=function(n,e,t){return Ir.current.useReducer(n,e,t)};It.useRef=function(n){return Ir.current.useRef(n)};It.useState=function(n){return Ir.current.useState(n)};It.useSyncExternalStore=function(n,e,t){return Ir.current.useSyncExternalStore(n,e,t)};It.useTransition=function(){return Ir.current.useTransition()};It.version="18.2.0";(function(n){n.exports=It})(ue);const Gi=Tg(ue.exports);var pk=ue.exports,mk=Symbol.for("react.element"),gk=Symbol.for("react.fragment"),yk=Object.prototype.hasOwnProperty,vk=pk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_k={key:!0,ref:!0,__self:!0,__source:!0};function q3(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yk.call(e,r)&&!_k.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:mk,type:n,key:s,ref:o,props:i,_owner:vk.current}}Ig.Fragment=gk;Ig.jsx=q3;Ig.jsxs=q3;(function(n){n.exports=Ig})(Pg);const Ki=Pg.exports.Fragment,oe=Pg.exports.jsx,it=Pg.exports.jsxs;var M_={},tw={exports:{}},ii={},X3={exports:{}},Y3={};(function(n){function e(D,q){var B=D.length;D.push(q);e:for(;0<B;){var G=B-1>>>1,N=D[G];if(0<i(N,q))D[G]=q,D[B]=N,B=G;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var q=D[0],B=D.pop();if(B!==q){D[0]=B;e:for(var G=0,N=D.length,U=N>>>1;G<U;){var k=2*(G+1)-1,W=D[k],V=k+1,J=D[V];if(0>i(W,B))V<N&&0>i(J,W)?(D[G]=J,D[V]=B,G=V):(D[G]=W,D[k]=B,G=k);else if(V<N&&0>i(J,B))D[G]=J,D[V]=B,G=V;else break e}}return q}function i(D,q){var B=D.sortIndex-q.sortIndex;return B!==0?B:D.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,d=null,p=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var q=t(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=D)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=t(u)}}function b(D){if(v=!1,w(D),!g)if(t(l)!==null)g=!0,X(A);else{var q=t(u);q!==null&&j(b,q.startTime-D)}}function A(D,q){g=!1,v&&(v=!1,_(M),M=-1),m=!0;var B=p;try{for(w(q),d=t(l);d!==null&&(!(d.expirationTime>q)||D&&!R());){var G=d.callback;if(typeof G=="function"){d.callback=null,p=d.priorityLevel;var N=G(d.expirationTime<=q);q=n.unstable_now(),typeof N=="function"?d.callback=N:d===t(l)&&r(l),w(q)}else r(l);d=t(l)}if(d!==null)var U=!0;else{var k=t(u);k!==null&&j(b,k.startTime-q),U=!1}return U}finally{d=null,p=B,m=!1}}var E=!1,C=null,M=-1,I=5,P=-1;function R(){return!(n.unstable_now()-P<I)}function O(){if(C!==null){var D=n.unstable_now();P=D;var q=!0;try{q=C(!0,D)}finally{q?F():(E=!1,C=null)}}else E=!1}var F;if(typeof x=="function")F=function(){x(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,$=H.port2;H.port1.onmessage=O,F=function(){$.postMessage(null)}}else F=function(){y(O,0)};function X(D){C=D,E||(E=!0,F())}function j(D,q){M=y(function(){D(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,X(A))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var B=p;p=q;try{return D()}finally{p=B}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=p;p=D;try{return q()}finally{p=B}},n.unstable_scheduleCallback=function(D,q,B){var G=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?G+B:G):B=G,D){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=B+N,D={id:f++,callback:q,priorityLevel:D,startTime:B,expirationTime:N,sortIndex:-1},B>G?(D.sortIndex=B,e(u,D),t(l)===null&&D===t(u)&&(v?(_(M),M=-1):v=!0,j(b,B-G))):(D.sortIndex=N,e(l,D),g||m||(g=!0,X(A))),D},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(D){var q=p;return function(){var B=p;p=q;try{return D.apply(this,arguments)}finally{p=B}}}})(Y3);(function(n){n.exports=Y3})(X3);var J3=ue.exports,ni=X3.exports;function Be(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z3=new Set,Tf={};function xl(n,e){Gu(n,e),Gu(n+"Capture",e)}function Gu(n,e){for(Tf[n]=e,n=0;n<e.length;n++)Z3.add(e[n])}var Ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),E_=Object.prototype.hasOwnProperty,xk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r2={},i2={};function wk(n){return E_.call(i2,n)?!0:E_.call(r2,n)?!1:xk.test(n)?i2[n]=!0:(r2[n]=!0,!1)}function Sk(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function bk(n,e,t,r){if(e===null||typeof e>"u"||Sk(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rr(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){sr[n]=new Rr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];sr[e]=new Rr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){sr[n]=new Rr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){sr[n]=new Rr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){sr[n]=new Rr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){sr[n]=new Rr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){sr[n]=new Rr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){sr[n]=new Rr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){sr[n]=new Rr(n,5,!1,n.toLowerCase(),null,!1,!1)});var nw=/[\-:]([a-z])/g;function rw(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(nw,rw);sr[e]=new Rr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(nw,rw);sr[e]=new Rr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(nw,rw);sr[e]=new Rr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){sr[n]=new Rr(n,1,!1,n.toLowerCase(),null,!1,!1)});sr.xlinkHref=new Rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){sr[n]=new Rr(n,1,!1,n.toLowerCase(),null,!0,!0)});function iw(n,e,t,r){var i=sr.hasOwnProperty(e)?sr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bk(e,t,i,r)&&(t=null),r||i===null?wk(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var io=J3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xd=Symbol.for("react.element"),yu=Symbol.for("react.portal"),vu=Symbol.for("react.fragment"),sw=Symbol.for("react.strict_mode"),C_=Symbol.for("react.profiler"),Q3=Symbol.for("react.provider"),K3=Symbol.for("react.context"),ow=Symbol.for("react.forward_ref"),A_=Symbol.for("react.suspense"),T_=Symbol.for("react.suspense_list"),aw=Symbol.for("react.memo"),Io=Symbol.for("react.lazy"),eA=Symbol.for("react.offscreen"),s2=Symbol.iterator;function Hc(n){return n===null||typeof n!="object"?null:(n=s2&&n[s2]||n["@@iterator"],typeof n=="function"?n:null)}var yn=Object.assign,qy;function uf(n){if(qy===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);qy=e&&e[1]||""}return`
`+qy+n}var Xy=!1;function Yy(n,e){if(!n||Xy)return"";Xy=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xy=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?uf(n):""}function Mk(n){switch(n.tag){case 5:return uf(n.type);case 16:return uf("Lazy");case 13:return uf("Suspense");case 19:return uf("SuspenseList");case 0:case 2:case 15:return n=Yy(n.type,!1),n;case 11:return n=Yy(n.type.render,!1),n;case 1:return n=Yy(n.type,!0),n;default:return""}}function P_(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case vu:return"Fragment";case yu:return"Portal";case C_:return"Profiler";case sw:return"StrictMode";case A_:return"Suspense";case T_:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case K3:return(n.displayName||"Context")+".Consumer";case Q3:return(n._context.displayName||"Context")+".Provider";case ow:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case aw:return e=n.displayName||null,e!==null?e:P_(n.type)||"Memo";case Io:e=n._payload,n=n._init;try{return P_(n(e))}catch{}}return null}function Ek(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P_(e);case 8:return e===sw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ta(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function tA(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ck(n){var e=tA(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Yd(n){n._valueTracker||(n._valueTracker=Ck(n))}function nA(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=tA(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Bm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function I_(n,e){var t=e.checked;return yn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function o2(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=ta(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rA(n,e){e=e.checked,e!=null&&iw(n,"checked",e,!1)}function R_(n,e){rA(n,e);var t=ta(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?L_(n,e.type,t):e.hasOwnProperty("defaultValue")&&L_(n,e.type,ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function a2(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function L_(n,e,t){(e!=="number"||Bm(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var cf=Array.isArray;function Du(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+ta(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function O_(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Be(91));return yn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function l2(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Be(92));if(cf(t)){if(1<t.length)throw Error(Be(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ta(t)}}function iA(n,e){var t=ta(e.value),r=ta(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function u2(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function sA(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function k_(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?sA(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Jd,oA=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Jd=Jd||document.createElement("div"),Jd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jd.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Pf(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var mf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ak=["Webkit","ms","Moz","O"];Object.keys(mf).forEach(function(n){Ak.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),mf[e]=mf[n]})});function aA(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||mf.hasOwnProperty(n)&&mf[n]?(""+e).trim():e+"px"}function lA(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=aA(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var Tk=yn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function D_(n,e){if(e){if(Tk[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Be(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Be(62))}}function N_(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F_=null;function lw(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var z_=null,Nu=null,Fu=null;function c2(n){if(n=Ah(n)){if(typeof z_!="function")throw Error(Be(280));var e=n.stateNode;e&&(e=Dg(e),z_(n.stateNode,n.type,e))}}function uA(n){Nu?Fu?Fu.push(n):Fu=[n]:Nu=n}function cA(){if(Nu){var n=Nu,e=Fu;if(Fu=Nu=null,c2(n),e)for(n=0;n<e.length;n++)c2(e[n])}}function fA(n,e){return n(e)}function hA(){}var Jy=!1;function dA(n,e,t){if(Jy)return n(e,t);Jy=!0;try{return fA(n,e,t)}finally{Jy=!1,(Nu!==null||Fu!==null)&&(hA(),cA())}}function If(n,e){var t=n.stateNode;if(t===null)return null;var r=Dg(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Be(231,e,typeof t));return t}var B_=!1;if(Ks)try{var Vc={};Object.defineProperty(Vc,"passive",{get:function(){B_=!0}}),window.addEventListener("test",Vc,Vc),window.removeEventListener("test",Vc,Vc)}catch{B_=!1}function Pk(n,e,t,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(f){this.onError(f)}}var gf=!1,Um=null,Hm=!1,U_=null,Ik={onError:function(n){gf=!0,Um=n}};function Rk(n,e,t,r,i,s,o,a,l){gf=!1,Um=null,Pk.apply(Ik,arguments)}function Lk(n,e,t,r,i,s,o,a,l){if(Rk.apply(this,arguments),gf){if(gf){var u=Um;gf=!1,Um=null}else throw Error(Be(198));Hm||(Hm=!0,U_=u)}}function wl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function pA(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function f2(n){if(wl(n)!==n)throw Error(Be(188))}function Ok(n){var e=n.alternate;if(!e){if(e=wl(n),e===null)throw Error(Be(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return f2(i),n;if(s===r)return f2(i),e;s=s.sibling}throw Error(Be(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Be(189))}}if(t.alternate!==r)throw Error(Be(190))}if(t.tag!==3)throw Error(Be(188));return t.stateNode.current===t?n:e}function mA(n){return n=Ok(n),n!==null?gA(n):null}function gA(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=gA(n);if(e!==null)return e;n=n.sibling}return null}var yA=ni.unstable_scheduleCallback,h2=ni.unstable_cancelCallback,kk=ni.unstable_shouldYield,Dk=ni.unstable_requestPaint,Cn=ni.unstable_now,Nk=ni.unstable_getCurrentPriorityLevel,uw=ni.unstable_ImmediatePriority,vA=ni.unstable_UserBlockingPriority,Vm=ni.unstable_NormalPriority,Fk=ni.unstable_LowPriority,_A=ni.unstable_IdlePriority,Rg=null,ys=null;function zk(n){if(ys&&typeof ys.onCommitFiberRoot=="function")try{ys.onCommitFiberRoot(Rg,n,void 0,(n.current.flags&128)===128)}catch{}}var $i=Math.clz32?Math.clz32:Hk,Bk=Math.log,Uk=Math.LN2;function Hk(n){return n>>>=0,n===0?32:31-(Bk(n)/Uk|0)|0}var Zd=64,Qd=4194304;function ff(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Wm(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=ff(a):(s&=o,s!==0&&(r=ff(s)))}else o=t&~i,o!==0?r=ff(o):s!==0&&(r=ff(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-$i(e),i=1<<t,r|=n[t],e&=~i;return r}function Vk(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wk(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-$i(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=Vk(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function H_(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function xA(){var n=Zd;return Zd<<=1,!(Zd&4194240)&&(Zd=64),n}function Zy(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Eh(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-$i(e),n[e]=t}function Gk(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-$i(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function cw(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-$i(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var qt=0;function wA(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var SA,fw,bA,MA,EA,V_=!1,Kd=[],Go=null,jo=null,$o=null,Rf=new Map,Lf=new Map,ko=[],jk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function d2(n,e){switch(n){case"focusin":case"focusout":Go=null;break;case"dragenter":case"dragleave":jo=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":Rf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lf.delete(e.pointerId)}}function Wc(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ah(e),e!==null&&fw(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function $k(n,e,t,r,i){switch(e){case"focusin":return Go=Wc(Go,n,e,t,r,i),!0;case"dragenter":return jo=Wc(jo,n,e,t,r,i),!0;case"mouseover":return $o=Wc($o,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Rf.set(s,Wc(Rf.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Lf.set(s,Wc(Lf.get(s)||null,n,e,t,r,i)),!0}return!1}function CA(n){var e=ja(n.target);if(e!==null){var t=wl(e);if(t!==null){if(e=t.tag,e===13){if(e=pA(t),e!==null){n.blockedOn=e,EA(n.priority,function(){bA(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pm(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=W_(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);F_=r,t.target.dispatchEvent(r),F_=null}else return e=Ah(t),e!==null&&fw(e),n.blockedOn=t,!1;e.shift()}return!0}function p2(n,e,t){pm(n)&&t.delete(e)}function qk(){V_=!1,Go!==null&&pm(Go)&&(Go=null),jo!==null&&pm(jo)&&(jo=null),$o!==null&&pm($o)&&($o=null),Rf.forEach(p2),Lf.forEach(p2)}function Gc(n,e){n.blockedOn===e&&(n.blockedOn=null,V_||(V_=!0,ni.unstable_scheduleCallback(ni.unstable_NormalPriority,qk)))}function Of(n){function e(i){return Gc(i,n)}if(0<Kd.length){Gc(Kd[0],n);for(var t=1;t<Kd.length;t++){var r=Kd[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Go!==null&&Gc(Go,n),jo!==null&&Gc(jo,n),$o!==null&&Gc($o,n),Rf.forEach(e),Lf.forEach(e),t=0;t<ko.length;t++)r=ko[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<ko.length&&(t=ko[0],t.blockedOn===null);)CA(t),t.blockedOn===null&&ko.shift()}var zu=io.ReactCurrentBatchConfig,Gm=!0;function Xk(n,e,t,r){var i=qt,s=zu.transition;zu.transition=null;try{qt=1,hw(n,e,t,r)}finally{qt=i,zu.transition=s}}function Yk(n,e,t,r){var i=qt,s=zu.transition;zu.transition=null;try{qt=4,hw(n,e,t,r)}finally{qt=i,zu.transition=s}}function hw(n,e,t,r){if(Gm){var i=W_(n,e,t,r);if(i===null)av(n,e,r,jm,t),d2(n,r);else if($k(i,n,e,t,r))r.stopPropagation();else if(d2(n,r),e&4&&-1<jk.indexOf(n)){for(;i!==null;){var s=Ah(i);if(s!==null&&SA(s),s=W_(n,e,t,r),s===null&&av(n,e,r,jm,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else av(n,e,r,null,t)}}var jm=null;function W_(n,e,t,r){if(jm=null,n=lw(r),n=ja(n),n!==null)if(e=wl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=pA(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return jm=n,null}function AA(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nk()){case uw:return 1;case vA:return 4;case Vm:case Fk:return 16;case _A:return 536870912;default:return 16}default:return 16}}var zo=null,dw=null,mm=null;function TA(){if(mm)return mm;var n,e=dw,t=e.length,r,i="value"in zo?zo.value:zo.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return mm=i.slice(n,1<r?1-r:void 0)}function gm(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function ep(){return!0}function m2(){return!1}function si(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ep:m2,this.isPropagationStopped=m2,this}return yn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=ep)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=ep)},persist:function(){},isPersistent:ep}),e}var ac={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pw=si(ac),Ch=yn({},ac,{view:0,detail:0}),Jk=si(Ch),Qy,Ky,jc,Lg=yn({},Ch,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mw,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==jc&&(jc&&n.type==="mousemove"?(Qy=n.screenX-jc.screenX,Ky=n.screenY-jc.screenY):Ky=Qy=0,jc=n),Qy)},movementY:function(n){return"movementY"in n?n.movementY:Ky}}),g2=si(Lg),Zk=yn({},Lg,{dataTransfer:0}),Qk=si(Zk),Kk=yn({},Ch,{relatedTarget:0}),ev=si(Kk),eD=yn({},ac,{animationName:0,elapsedTime:0,pseudoElement:0}),tD=si(eD),nD=yn({},ac,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),rD=si(nD),iD=yn({},ac,{data:0}),y2=si(iD),sD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lD(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=aD[n])?!!e[n]:!1}function mw(){return lD}var uD=yn({},Ch,{key:function(n){if(n.key){var e=sD[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=gm(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?oD[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mw,charCode:function(n){return n.type==="keypress"?gm(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gm(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),cD=si(uD),fD=yn({},Lg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v2=si(fD),hD=yn({},Ch,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mw}),dD=si(hD),pD=yn({},ac,{propertyName:0,elapsedTime:0,pseudoElement:0}),mD=si(pD),gD=yn({},Lg,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),yD=si(gD),vD=[9,13,27,32],gw=Ks&&"CompositionEvent"in window,yf=null;Ks&&"documentMode"in document&&(yf=document.documentMode);var _D=Ks&&"TextEvent"in window&&!yf,PA=Ks&&(!gw||yf&&8<yf&&11>=yf),_2=String.fromCharCode(32),x2=!1;function IA(n,e){switch(n){case"keyup":return vD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var _u=!1;function xD(n,e){switch(n){case"compositionend":return RA(e);case"keypress":return e.which!==32?null:(x2=!0,_2);case"textInput":return n=e.data,n===_2&&x2?null:n;default:return null}}function wD(n,e){if(_u)return n==="compositionend"||!gw&&IA(n,e)?(n=TA(),mm=dw=zo=null,_u=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PA&&e.locale!=="ko"?null:e.data;default:return null}}var SD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w2(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!SD[n.type]:e==="textarea"}function LA(n,e,t,r){uA(r),e=$m(e,"onChange"),0<e.length&&(t=new pw("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var vf=null,kf=null;function bD(n){WA(n,0)}function Og(n){var e=Su(n);if(nA(e))return n}function MD(n,e){if(n==="change")return e}var OA=!1;if(Ks){var tv;if(Ks){var nv="oninput"in document;if(!nv){var S2=document.createElement("div");S2.setAttribute("oninput","return;"),nv=typeof S2.oninput=="function"}tv=nv}else tv=!1;OA=tv&&(!document.documentMode||9<document.documentMode)}function b2(){vf&&(vf.detachEvent("onpropertychange",kA),kf=vf=null)}function kA(n){if(n.propertyName==="value"&&Og(kf)){var e=[];LA(e,kf,n,lw(n)),dA(bD,e)}}function ED(n,e,t){n==="focusin"?(b2(),vf=e,kf=t,vf.attachEvent("onpropertychange",kA)):n==="focusout"&&b2()}function CD(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Og(kf)}function AD(n,e){if(n==="click")return Og(e)}function TD(n,e){if(n==="input"||n==="change")return Og(e)}function PD(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Zi=typeof Object.is=="function"?Object.is:PD;function Df(n,e){if(Zi(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!E_.call(e,i)||!Zi(n[i],e[i]))return!1}return!0}function M2(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function E2(n,e){var t=M2(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=M2(t)}}function DA(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?DA(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function NA(){for(var n=window,e=Bm();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Bm(n.document)}return e}function yw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function ID(n){var e=NA(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&DA(t.ownerDocument.documentElement,t)){if(r!==null&&yw(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=E2(t,s);var o=E2(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var RD=Ks&&"documentMode"in document&&11>=document.documentMode,xu=null,G_=null,_f=null,j_=!1;function C2(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;j_||xu==null||xu!==Bm(r)||(r=xu,"selectionStart"in r&&yw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_f&&Df(_f,r)||(_f=r,r=$m(G_,"onSelect"),0<r.length&&(e=new pw("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=xu)))}function tp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var wu={animationend:tp("Animation","AnimationEnd"),animationiteration:tp("Animation","AnimationIteration"),animationstart:tp("Animation","AnimationStart"),transitionend:tp("Transition","TransitionEnd")},rv={},FA={};Ks&&(FA=document.createElement("div").style,"AnimationEvent"in window||(delete wu.animationend.animation,delete wu.animationiteration.animation,delete wu.animationstart.animation),"TransitionEvent"in window||delete wu.transitionend.transition);function kg(n){if(rv[n])return rv[n];if(!wu[n])return n;var e=wu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in FA)return rv[n]=e[t];return n}var zA=kg("animationend"),BA=kg("animationiteration"),UA=kg("animationstart"),HA=kg("transitionend"),VA=new Map,A2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ua(n,e){VA.set(n,e),xl(e,[n])}for(var iv=0;iv<A2.length;iv++){var sv=A2[iv],LD=sv.toLowerCase(),OD=sv[0].toUpperCase()+sv.slice(1);ua(LD,"on"+OD)}ua(zA,"onAnimationEnd");ua(BA,"onAnimationIteration");ua(UA,"onAnimationStart");ua("dblclick","onDoubleClick");ua("focusin","onFocus");ua("focusout","onBlur");ua(HA,"onTransitionEnd");Gu("onMouseEnter",["mouseout","mouseover"]);Gu("onMouseLeave",["mouseout","mouseover"]);Gu("onPointerEnter",["pointerout","pointerover"]);Gu("onPointerLeave",["pointerout","pointerover"]);xl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xl("onBeforeInput",["compositionend","keypress","textInput","paste"]);xl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kD=new Set("cancel close invalid load scroll toggle".split(" ").concat(hf));function T2(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,Lk(r,e,void 0,n),n.currentTarget=null}function WA(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;T2(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;T2(i,a,u),s=l}}}if(Hm)throw n=U_,Hm=!1,U_=null,n}function on(n,e){var t=e[J_];t===void 0&&(t=e[J_]=new Set);var r=n+"__bubble";t.has(r)||(GA(e,n,2,!1),t.add(r))}function ov(n,e,t){var r=0;e&&(r|=4),GA(t,n,r,e)}var np="_reactListening"+Math.random().toString(36).slice(2);function Nf(n){if(!n[np]){n[np]=!0,Z3.forEach(function(t){t!=="selectionchange"&&(kD.has(t)||ov(t,!1,n),ov(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[np]||(e[np]=!0,ov("selectionchange",!1,e))}}function GA(n,e,t,r){switch(AA(e)){case 1:var i=Xk;break;case 4:i=Yk;break;default:i=hw}t=i.bind(null,e,t,n),i=void 0,!B_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function av(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ja(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}dA(function(){var u=s,f=lw(t),d=[];e:{var p=VA.get(n);if(p!==void 0){var m=pw,g=n;switch(n){case"keypress":if(gm(t)===0)break e;case"keydown":case"keyup":m=cD;break;case"focusin":g="focus",m=ev;break;case"focusout":g="blur",m=ev;break;case"beforeblur":case"afterblur":m=ev;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=g2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Qk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=dD;break;case zA:case BA:case UA:m=tD;break;case HA:m=mD;break;case"scroll":m=Jk;break;case"wheel":m=yD;break;case"copy":case"cut":case"paste":m=rD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=v2}var v=(e&4)!==0,y=!v&&n==="scroll",_=v?p!==null?p+"Capture":null:p;v=[];for(var x=u,w;x!==null;){w=x;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,_!==null&&(b=If(x,_),b!=null&&v.push(Ff(x,b,w)))),y)break;x=x.return}0<v.length&&(p=new m(p,g,null,t,f),d.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==F_&&(g=t.relatedTarget||t.fromElement)&&(ja(g)||g[eo]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=u,g=g?ja(g):null,g!==null&&(y=wl(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=g2,b="onMouseLeave",_="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(v=v2,b="onPointerLeave",_="onPointerEnter",x="pointer"),y=m==null?p:Su(m),w=g==null?p:Su(g),p=new v(b,x+"leave",m,t,f),p.target=y,p.relatedTarget=w,b=null,ja(f)===u&&(v=new v(_,x+"enter",g,t,f),v.target=w,v.relatedTarget=y,b=v),y=b,m&&g)t:{for(v=m,_=g,x=0,w=v;w;w=Gl(w))x++;for(w=0,b=_;b;b=Gl(b))w++;for(;0<x-w;)v=Gl(v),x--;for(;0<w-x;)_=Gl(_),w--;for(;x--;){if(v===_||_!==null&&v===_.alternate)break t;v=Gl(v),_=Gl(_)}v=null}else v=null;m!==null&&P2(d,p,m,v,!1),g!==null&&y!==null&&P2(d,y,g,v,!0)}}e:{if(p=u?Su(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var A=MD;else if(w2(p))if(OA)A=TD;else{A=CD;var E=ED}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(A=AD);if(A&&(A=A(n,u))){LA(d,A,t,f);break e}E&&E(n,p,u),n==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&L_(p,"number",p.value)}switch(E=u?Su(u):window,n){case"focusin":(w2(E)||E.contentEditable==="true")&&(xu=E,G_=u,_f=null);break;case"focusout":_f=G_=xu=null;break;case"mousedown":j_=!0;break;case"contextmenu":case"mouseup":case"dragend":j_=!1,C2(d,t,f);break;case"selectionchange":if(RD)break;case"keydown":case"keyup":C2(d,t,f)}var C;if(gw)e:{switch(n){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else _u?IA(n,t)&&(M="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(M="onCompositionStart");M&&(PA&&t.locale!=="ko"&&(_u||M!=="onCompositionStart"?M==="onCompositionEnd"&&_u&&(C=TA()):(zo=f,dw="value"in zo?zo.value:zo.textContent,_u=!0)),E=$m(u,M),0<E.length&&(M=new y2(M,n,null,t,f),d.push({event:M,listeners:E}),C?M.data=C:(C=RA(t),C!==null&&(M.data=C)))),(C=_D?xD(n,t):wD(n,t))&&(u=$m(u,"onBeforeInput"),0<u.length&&(f=new y2("onBeforeInput","beforeinput",null,t,f),d.push({event:f,listeners:u}),f.data=C))}WA(d,e)})}function Ff(n,e,t){return{instance:n,listener:e,currentTarget:t}}function $m(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=If(n,t),s!=null&&r.unshift(Ff(n,s,i)),s=If(n,e),s!=null&&r.push(Ff(n,s,i))),n=n.return}return r}function Gl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function P2(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=If(t,s),l!=null&&o.unshift(Ff(t,l,a))):i||(l=If(t,s),l!=null&&o.push(Ff(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var DD=/\r\n?/g,ND=/\u0000|\uFFFD/g;function I2(n){return(typeof n=="string"?n:""+n).replace(DD,`
`).replace(ND,"")}function rp(n,e,t){if(e=I2(e),I2(n)!==e&&t)throw Error(Be(425))}function qm(){}var $_=null,q_=null;function X_(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Y_=typeof setTimeout=="function"?setTimeout:void 0,FD=typeof clearTimeout=="function"?clearTimeout:void 0,R2=typeof Promise=="function"?Promise:void 0,zD=typeof queueMicrotask=="function"?queueMicrotask:typeof R2<"u"?function(n){return R2.resolve(null).then(n).catch(BD)}:Y_;function BD(n){setTimeout(function(){throw n})}function lv(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Of(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Of(e)}function qo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function L2(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var lc=Math.random().toString(36).slice(2),ds="__reactFiber$"+lc,zf="__reactProps$"+lc,eo="__reactContainer$"+lc,J_="__reactEvents$"+lc,UD="__reactListeners$"+lc,HD="__reactHandles$"+lc;function ja(n){var e=n[ds];if(e)return e;for(var t=n.parentNode;t;){if(e=t[eo]||t[ds]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=L2(n);n!==null;){if(t=n[ds])return t;n=L2(n)}return e}n=t,t=n.parentNode}return null}function Ah(n){return n=n[ds]||n[eo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Su(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Be(33))}function Dg(n){return n[zf]||null}var Z_=[],bu=-1;function ca(n){return{current:n}}function an(n){0>bu||(n.current=Z_[bu],Z_[bu]=null,bu--)}function rn(n,e){bu++,Z_[bu]=n.current,n.current=e}var na={},wr=ca(na),Br=ca(!1),al=na;function ju(n,e){var t=n.type.contextTypes;if(!t)return na;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Ur(n){return n=n.childContextTypes,n!=null}function Xm(){an(Br),an(wr)}function O2(n,e,t){if(wr.current!==na)throw Error(Be(168));rn(wr,e),rn(Br,t)}function jA(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Be(108,Ek(n)||"Unknown",i));return yn({},t,r)}function Ym(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||na,al=wr.current,rn(wr,n),rn(Br,Br.current),!0}function k2(n,e,t){var r=n.stateNode;if(!r)throw Error(Be(169));t?(n=jA(n,e,al),r.__reactInternalMemoizedMergedChildContext=n,an(Br),an(wr),rn(wr,n)):an(Br),rn(Br,t)}var Vs=null,Ng=!1,uv=!1;function $A(n){Vs===null?Vs=[n]:Vs.push(n)}function VD(n){Ng=!0,$A(n)}function fa(){if(!uv&&Vs!==null){uv=!0;var n=0,e=qt;try{var t=Vs;for(qt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Vs=null,Ng=!1}catch(i){throw Vs!==null&&(Vs=Vs.slice(n+1)),yA(uw,fa),i}finally{qt=e,uv=!1}}return null}var Mu=[],Eu=0,Jm=null,Zm=0,Si=[],bi=0,ll=null,js=1,$s="";function Na(n,e){Mu[Eu++]=Zm,Mu[Eu++]=Jm,Jm=n,Zm=e}function qA(n,e,t){Si[bi++]=js,Si[bi++]=$s,Si[bi++]=ll,ll=n;var r=js;n=$s;var i=32-$i(r)-1;r&=~(1<<i),t+=1;var s=32-$i(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,js=1<<32-$i(e)+i|t<<i|r,$s=s+n}else js=1<<s|t<<i|r,$s=n}function vw(n){n.return!==null&&(Na(n,1),qA(n,1,0))}function _w(n){for(;n===Jm;)Jm=Mu[--Eu],Mu[Eu]=null,Zm=Mu[--Eu],Mu[Eu]=null;for(;n===ll;)ll=Si[--bi],Si[bi]=null,$s=Si[--bi],Si[bi]=null,js=Si[--bi],Si[bi]=null}var Kr=null,Qr=null,cn=!1,Hi=null;function XA(n,e){var t=Ei(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function D2(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Kr=n,Qr=qo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Kr=n,Qr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=ll!==null?{id:js,overflow:$s}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ei(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Kr=n,Qr=null,!0):!1;default:return!1}}function Q_(n){return(n.mode&1)!==0&&(n.flags&128)===0}function K_(n){if(cn){var e=Qr;if(e){var t=e;if(!D2(n,e)){if(Q_(n))throw Error(Be(418));e=qo(t.nextSibling);var r=Kr;e&&D2(n,e)?XA(r,t):(n.flags=n.flags&-4097|2,cn=!1,Kr=n)}}else{if(Q_(n))throw Error(Be(418));n.flags=n.flags&-4097|2,cn=!1,Kr=n}}}function N2(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Kr=n}function ip(n){if(n!==Kr)return!1;if(!cn)return N2(n),cn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!X_(n.type,n.memoizedProps)),e&&(e=Qr)){if(Q_(n))throw YA(),Error(Be(418));for(;e;)XA(n,e),e=qo(e.nextSibling)}if(N2(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Be(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Qr=qo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Qr=null}}else Qr=Kr?qo(n.stateNode.nextSibling):null;return!0}function YA(){for(var n=Qr;n;)n=qo(n.nextSibling)}function $u(){Qr=Kr=null,cn=!1}function xw(n){Hi===null?Hi=[n]:Hi.push(n)}var WD=io.ReactCurrentBatchConfig;function zi(n,e){if(n&&n.defaultProps){e=yn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Qm=ca(null),Km=null,Cu=null,ww=null;function Sw(){ww=Cu=Km=null}function bw(n){var e=Qm.current;an(Qm),n._currentValue=e}function e1(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Bu(n,e){Km=n,ww=Cu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(zr=!0),n.firstContext=null)}function Ai(n){var e=n._currentValue;if(ww!==n)if(n={context:n,memoizedValue:e,next:null},Cu===null){if(Km===null)throw Error(Be(308));Cu=n,Km.dependencies={lanes:0,firstContext:n}}else Cu=Cu.next=n;return e}var $a=null;function Mw(n){$a===null?$a=[n]:$a.push(n)}function JA(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,Mw(e)):(t.next=i.next,i.next=t),e.interleaved=t,to(n,r)}function to(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Ro=!1;function Ew(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZA(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Js(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Xo(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Nt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,to(n,t)}return i=r.interleaved,i===null?(e.next=e,Mw(r)):(e.next=i.next,i.next=e),r.interleaved=e,to(n,t)}function ym(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,cw(n,t)}}function F2(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function eg(n,e,t,r){var i=n.updateQueue;Ro=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=n.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,f=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,v=a;switch(p=e,m=t,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(m,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(m,d,p):g,p==null)break e;d=yn({},d,p);break e;case 2:Ro=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=m,l=d):f=f.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(f===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);cl|=o,n.lanes=o,n.memoizedState=d}}function z2(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Be(191,i));i.call(r)}}}var QA=new J3.Component().refs;function t1(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:yn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Fg={isMounted:function(n){return(n=n._reactInternals)?wl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Pr(),i=Jo(n),s=Js(r,i);s.payload=e,t!=null&&(s.callback=t),e=Xo(n,s,i),e!==null&&(qi(e,n,i,r),ym(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Pr(),i=Jo(n),s=Js(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Xo(n,s,i),e!==null&&(qi(e,n,i,r),ym(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Pr(),r=Jo(n),i=Js(t,r);i.tag=2,e!=null&&(i.callback=e),e=Xo(n,i,r),e!==null&&(qi(e,n,r,t),ym(e,n,r))}};function B2(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Df(t,r)||!Df(i,s):!0}function KA(n,e,t){var r=!1,i=na,s=e.contextType;return typeof s=="object"&&s!==null?s=Ai(s):(i=Ur(e)?al:wr.current,r=e.contextTypes,s=(r=r!=null)?ju(n,i):na),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fg,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function U2(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Fg.enqueueReplaceState(e,e.state,null)}function n1(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=QA,Ew(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ai(s):(s=Ur(e)?al:wr.current,i.context=ju(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(t1(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fg.enqueueReplaceState(i,i.state,null),eg(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function $c(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Be(309));var r=t.stateNode}if(!r)throw Error(Be(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===QA&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Be(284));if(!t._owner)throw Error(Be(290,n))}return n}function sp(n,e){throw n=Object.prototype.toString.call(e),Error(Be(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function H2(n){var e=n._init;return e(n._payload)}function eT(n){function e(_,x){if(n){var w=_.deletions;w===null?(_.deletions=[x],_.flags|=16):w.push(x)}}function t(_,x){if(!n)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function r(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function i(_,x){return _=Zo(_,x),_.index=0,_.sibling=null,_}function s(_,x,w){return _.index=w,n?(w=_.alternate,w!==null?(w=w.index,w<x?(_.flags|=2,x):w):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return n&&_.alternate===null&&(_.flags|=2),_}function a(_,x,w,b){return x===null||x.tag!==6?(x=gv(w,_.mode,b),x.return=_,x):(x=i(x,w),x.return=_,x)}function l(_,x,w,b){var A=w.type;return A===vu?f(_,x,w.props.children,b,w.key):x!==null&&(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Io&&H2(A)===x.type)?(b=i(x,w.props),b.ref=$c(_,x,w),b.return=_,b):(b=bm(w.type,w.key,w.props,null,_.mode,b),b.ref=$c(_,x,w),b.return=_,b)}function u(_,x,w,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=yv(w,_.mode,b),x.return=_,x):(x=i(x,w.children||[]),x.return=_,x)}function f(_,x,w,b,A){return x===null||x.tag!==7?(x=tl(w,_.mode,b,A),x.return=_,x):(x=i(x,w),x.return=_,x)}function d(_,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=gv(""+x,_.mode,w),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xd:return w=bm(x.type,x.key,x.props,null,_.mode,w),w.ref=$c(_,null,x),w.return=_,w;case yu:return x=yv(x,_.mode,w),x.return=_,x;case Io:var b=x._init;return d(_,b(x._payload),w)}if(cf(x)||Hc(x))return x=tl(x,_.mode,w,null),x.return=_,x;sp(_,x)}return null}function p(_,x,w,b){var A=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return A!==null?null:a(_,x,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xd:return w.key===A?l(_,x,w,b):null;case yu:return w.key===A?u(_,x,w,b):null;case Io:return A=w._init,p(_,x,A(w._payload),b)}if(cf(w)||Hc(w))return A!==null?null:f(_,x,w,b,null);sp(_,w)}return null}function m(_,x,w,b,A){if(typeof b=="string"&&b!==""||typeof b=="number")return _=_.get(w)||null,a(x,_,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xd:return _=_.get(b.key===null?w:b.key)||null,l(x,_,b,A);case yu:return _=_.get(b.key===null?w:b.key)||null,u(x,_,b,A);case Io:var E=b._init;return m(_,x,w,E(b._payload),A)}if(cf(b)||Hc(b))return _=_.get(w)||null,f(x,_,b,A,null);sp(x,b)}return null}function g(_,x,w,b){for(var A=null,E=null,C=x,M=x=0,I=null;C!==null&&M<w.length;M++){C.index>M?(I=C,C=null):I=C.sibling;var P=p(_,C,w[M],b);if(P===null){C===null&&(C=I);break}n&&C&&P.alternate===null&&e(_,C),x=s(P,x,M),E===null?A=P:E.sibling=P,E=P,C=I}if(M===w.length)return t(_,C),cn&&Na(_,M),A;if(C===null){for(;M<w.length;M++)C=d(_,w[M],b),C!==null&&(x=s(C,x,M),E===null?A=C:E.sibling=C,E=C);return cn&&Na(_,M),A}for(C=r(_,C);M<w.length;M++)I=m(C,_,M,w[M],b),I!==null&&(n&&I.alternate!==null&&C.delete(I.key===null?M:I.key),x=s(I,x,M),E===null?A=I:E.sibling=I,E=I);return n&&C.forEach(function(R){return e(_,R)}),cn&&Na(_,M),A}function v(_,x,w,b){var A=Hc(w);if(typeof A!="function")throw Error(Be(150));if(w=A.call(w),w==null)throw Error(Be(151));for(var E=A=null,C=x,M=x=0,I=null,P=w.next();C!==null&&!P.done;M++,P=w.next()){C.index>M?(I=C,C=null):I=C.sibling;var R=p(_,C,P.value,b);if(R===null){C===null&&(C=I);break}n&&C&&R.alternate===null&&e(_,C),x=s(R,x,M),E===null?A=R:E.sibling=R,E=R,C=I}if(P.done)return t(_,C),cn&&Na(_,M),A;if(C===null){for(;!P.done;M++,P=w.next())P=d(_,P.value,b),P!==null&&(x=s(P,x,M),E===null?A=P:E.sibling=P,E=P);return cn&&Na(_,M),A}for(C=r(_,C);!P.done;M++,P=w.next())P=m(C,_,M,P.value,b),P!==null&&(n&&P.alternate!==null&&C.delete(P.key===null?M:P.key),x=s(P,x,M),E===null?A=P:E.sibling=P,E=P);return n&&C.forEach(function(O){return e(_,O)}),cn&&Na(_,M),A}function y(_,x,w,b){if(typeof w=="object"&&w!==null&&w.type===vu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Xd:e:{for(var A=w.key,E=x;E!==null;){if(E.key===A){if(A=w.type,A===vu){if(E.tag===7){t(_,E.sibling),x=i(E,w.props.children),x.return=_,_=x;break e}}else if(E.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Io&&H2(A)===E.type){t(_,E.sibling),x=i(E,w.props),x.ref=$c(_,E,w),x.return=_,_=x;break e}t(_,E);break}else e(_,E);E=E.sibling}w.type===vu?(x=tl(w.props.children,_.mode,b,w.key),x.return=_,_=x):(b=bm(w.type,w.key,w.props,null,_.mode,b),b.ref=$c(_,x,w),b.return=_,_=b)}return o(_);case yu:e:{for(E=w.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){t(_,x.sibling),x=i(x,w.children||[]),x.return=_,_=x;break e}else{t(_,x);break}else e(_,x);x=x.sibling}x=yv(w,_.mode,b),x.return=_,_=x}return o(_);case Io:return E=w._init,y(_,x,E(w._payload),b)}if(cf(w))return g(_,x,w,b);if(Hc(w))return v(_,x,w,b);sp(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(t(_,x.sibling),x=i(x,w),x.return=_,_=x):(t(_,x),x=gv(w,_.mode,b),x.return=_,_=x),o(_)):t(_,x)}return y}var qu=eT(!0),tT=eT(!1),Th={},vs=ca(Th),Bf=ca(Th),Uf=ca(Th);function qa(n){if(n===Th)throw Error(Be(174));return n}function Cw(n,e){switch(rn(Uf,e),rn(Bf,n),rn(vs,Th),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:k_(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=k_(e,n)}an(vs),rn(vs,e)}function Xu(){an(vs),an(Bf),an(Uf)}function nT(n){qa(Uf.current);var e=qa(vs.current),t=k_(e,n.type);e!==t&&(rn(Bf,n),rn(vs,t))}function Aw(n){Bf.current===n&&(an(vs),an(Bf))}var dn=ca(0);function tg(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cv=[];function Tw(){for(var n=0;n<cv.length;n++)cv[n]._workInProgressVersionPrimary=null;cv.length=0}var vm=io.ReactCurrentDispatcher,fv=io.ReactCurrentBatchConfig,ul=0,gn=null,zn=null,Xn=null,ng=!1,xf=!1,Hf=0,GD=0;function dr(){throw Error(Be(321))}function Pw(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Zi(n[t],e[t]))return!1;return!0}function Iw(n,e,t,r,i,s){if(ul=s,gn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vm.current=n===null||n.memoizedState===null?XD:YD,n=t(r,i),xf){s=0;do{if(xf=!1,Hf=0,25<=s)throw Error(Be(301));s+=1,Xn=zn=null,e.updateQueue=null,vm.current=JD,n=t(r,i)}while(xf)}if(vm.current=rg,e=zn!==null&&zn.next!==null,ul=0,Xn=zn=gn=null,ng=!1,e)throw Error(Be(300));return n}function Rw(){var n=Hf!==0;return Hf=0,n}function hs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?gn.memoizedState=Xn=n:Xn=Xn.next=n,Xn}function Ti(){if(zn===null){var n=gn.alternate;n=n!==null?n.memoizedState:null}else n=zn.next;var e=Xn===null?gn.memoizedState:Xn.next;if(e!==null)Xn=e,zn=n;else{if(n===null)throw Error(Be(310));zn=n,n={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},Xn===null?gn.memoizedState=Xn=n:Xn=Xn.next=n}return Xn}function Vf(n,e){return typeof e=="function"?e(n):e}function hv(n){var e=Ti(),t=e.queue;if(t===null)throw Error(Be(311));t.lastRenderedReducer=n;var r=zn,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if((ul&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,gn.lanes|=f,cl|=f}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Zi(r,e.memoizedState)||(zr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,gn.lanes|=s,cl|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function dv(n){var e=Ti(),t=e.queue;if(t===null)throw Error(Be(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Zi(s,e.memoizedState)||(zr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function rT(){}function iT(n,e){var t=gn,r=Ti(),i=e(),s=!Zi(r.memoizedState,i);if(s&&(r.memoizedState=i,zr=!0),r=r.queue,Lw(aT.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Xn!==null&&Xn.memoizedState.tag&1){if(t.flags|=2048,Wf(9,oT.bind(null,t,r,i,e),void 0,null),Yn===null)throw Error(Be(349));ul&30||sT(t,e,i)}return i}function sT(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=gn.updateQueue,e===null?(e={lastEffect:null,stores:null},gn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function oT(n,e,t,r){e.value=t,e.getSnapshot=r,lT(e)&&uT(n)}function aT(n,e,t){return t(function(){lT(e)&&uT(n)})}function lT(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Zi(n,t)}catch{return!0}}function uT(n){var e=to(n,1);e!==null&&qi(e,n,1,-1)}function V2(n){var e=hs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vf,lastRenderedState:n},e.queue=n,n=n.dispatch=qD.bind(null,gn,n),[e.memoizedState,n]}function Wf(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=gn.updateQueue,e===null?(e={lastEffect:null,stores:null},gn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function cT(){return Ti().memoizedState}function _m(n,e,t,r){var i=hs();gn.flags|=n,i.memoizedState=Wf(1|e,t,void 0,r===void 0?null:r)}function zg(n,e,t,r){var i=Ti();r=r===void 0?null:r;var s=void 0;if(zn!==null){var o=zn.memoizedState;if(s=o.destroy,r!==null&&Pw(r,o.deps)){i.memoizedState=Wf(e,t,s,r);return}}gn.flags|=n,i.memoizedState=Wf(1|e,t,s,r)}function W2(n,e){return _m(8390656,8,n,e)}function Lw(n,e){return zg(2048,8,n,e)}function fT(n,e){return zg(4,2,n,e)}function hT(n,e){return zg(4,4,n,e)}function dT(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function pT(n,e,t){return t=t!=null?t.concat([n]):null,zg(4,4,dT.bind(null,e,n),t)}function Ow(){}function mT(n,e){var t=Ti();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Pw(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function gT(n,e){var t=Ti();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Pw(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function yT(n,e,t){return ul&21?(Zi(t,e)||(t=xA(),gn.lanes|=t,cl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,zr=!0),n.memoizedState=t)}function jD(n,e){var t=qt;qt=t!==0&&4>t?t:4,n(!0);var r=fv.transition;fv.transition={};try{n(!1),e()}finally{qt=t,fv.transition=r}}function vT(){return Ti().memoizedState}function $D(n,e,t){var r=Jo(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},_T(n))xT(e,t);else if(t=JA(n,e,t,r),t!==null){var i=Pr();qi(t,n,r,i),wT(t,e,r)}}function qD(n,e,t){var r=Jo(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(_T(n))xT(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Zi(a,o)){var l=e.interleaved;l===null?(i.next=i,Mw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=JA(n,e,i,r),t!==null&&(i=Pr(),qi(t,n,r,i),wT(t,e,r))}}function _T(n){var e=n.alternate;return n===gn||e!==null&&e===gn}function xT(n,e){xf=ng=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function wT(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,cw(n,t)}}var rg={readContext:Ai,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},XD={readContext:Ai,useCallback:function(n,e){return hs().memoizedState=[n,e===void 0?null:e],n},useContext:Ai,useEffect:W2,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,_m(4194308,4,dT.bind(null,e,n),t)},useLayoutEffect:function(n,e){return _m(4194308,4,n,e)},useInsertionEffect:function(n,e){return _m(4,2,n,e)},useMemo:function(n,e){var t=hs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=hs();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=$D.bind(null,gn,n),[r.memoizedState,n]},useRef:function(n){var e=hs();return n={current:n},e.memoizedState=n},useState:V2,useDebugValue:Ow,useDeferredValue:function(n){return hs().memoizedState=n},useTransition:function(){var n=V2(!1),e=n[0];return n=jD.bind(null,n[1]),hs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=gn,i=hs();if(cn){if(t===void 0)throw Error(Be(407));t=t()}else{if(t=e(),Yn===null)throw Error(Be(349));ul&30||sT(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,W2(aT.bind(null,r,s,n),[n]),r.flags|=2048,Wf(9,oT.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=hs(),e=Yn.identifierPrefix;if(cn){var t=$s,r=js;t=(r&~(1<<32-$i(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Hf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=GD++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},YD={readContext:Ai,useCallback:mT,useContext:Ai,useEffect:Lw,useImperativeHandle:pT,useInsertionEffect:fT,useLayoutEffect:hT,useMemo:gT,useReducer:hv,useRef:cT,useState:function(){return hv(Vf)},useDebugValue:Ow,useDeferredValue:function(n){var e=Ti();return yT(e,zn.memoizedState,n)},useTransition:function(){var n=hv(Vf)[0],e=Ti().memoizedState;return[n,e]},useMutableSource:rT,useSyncExternalStore:iT,useId:vT,unstable_isNewReconciler:!1},JD={readContext:Ai,useCallback:mT,useContext:Ai,useEffect:Lw,useImperativeHandle:pT,useInsertionEffect:fT,useLayoutEffect:hT,useMemo:gT,useReducer:dv,useRef:cT,useState:function(){return dv(Vf)},useDebugValue:Ow,useDeferredValue:function(n){var e=Ti();return zn===null?e.memoizedState=n:yT(e,zn.memoizedState,n)},useTransition:function(){var n=dv(Vf)[0],e=Ti().memoizedState;return[n,e]},useMutableSource:rT,useSyncExternalStore:iT,useId:vT,unstable_isNewReconciler:!1};function Yu(n,e){try{var t="",r=e;do t+=Mk(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function pv(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function r1(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var ZD=typeof WeakMap=="function"?WeakMap:Map;function ST(n,e,t){t=Js(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){sg||(sg=!0,d1=r),r1(n,e)},t}function bT(n,e,t){t=Js(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){r1(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){r1(n,e),typeof r!="function"&&(Yo===null?Yo=new Set([this]):Yo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function G2(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new ZD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=fN.bind(null,n,e,t),e.then(n,n))}function j2(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function $2(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Js(-1,1),e.tag=2,Xo(t,e,1))),t.lanes|=1),n)}var QD=io.ReactCurrentOwner,zr=!1;function Ar(n,e,t,r){e.child=n===null?tT(e,null,t,r):qu(e,n.child,t,r)}function q2(n,e,t,r,i){t=t.render;var s=e.ref;return Bu(e,i),r=Iw(n,e,t,r,s,i),t=Rw(),n!==null&&!zr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,no(n,e,i)):(cn&&t&&vw(e),e.flags|=1,Ar(n,e,r,i),e.child)}function X2(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!Hw(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,MT(n,e,s,r,i)):(n=bm(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Df,t(o,r)&&n.ref===e.ref)return no(n,e,i)}return e.flags|=1,n=Zo(s,r),n.ref=e.ref,n.return=e,e.child=n}function MT(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Df(s,r)&&n.ref===e.ref)if(zr=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(zr=!0);else return e.lanes=n.lanes,no(n,e,i)}return i1(n,e,t,r,i)}function ET(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn(Tu,Jr),Jr|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,rn(Tu,Jr),Jr|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,rn(Tu,Jr),Jr|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,rn(Tu,Jr),Jr|=r;return Ar(n,e,i,t),e.child}function CT(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function i1(n,e,t,r,i){var s=Ur(t)?al:wr.current;return s=ju(e,s),Bu(e,i),t=Iw(n,e,t,r,s,i),r=Rw(),n!==null&&!zr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,no(n,e,i)):(cn&&r&&vw(e),e.flags|=1,Ar(n,e,t,i),e.child)}function Y2(n,e,t,r,i){if(Ur(t)){var s=!0;Ym(e)}else s=!1;if(Bu(e,i),e.stateNode===null)xm(n,e),KA(e,t,r),n1(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Ai(u):(u=Ur(t)?al:wr.current,u=ju(e,u));var f=t.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&U2(e,o,r,u),Ro=!1;var p=e.memoizedState;o.state=p,eg(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Br.current||Ro?(typeof f=="function"&&(t1(e,t,f,r),l=e.memoizedState),(a=Ro||B2(e,t,a,r,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZA(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:zi(e.type,a),o.props=u,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ai(l):(l=Ur(t)?al:wr.current,l=ju(e,l));var m=t.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&U2(e,o,r,l),Ro=!1,p=e.memoizedState,o.state=p,eg(e,r,o,i);var g=e.memoizedState;a!==d||p!==g||Br.current||Ro?(typeof m=="function"&&(t1(e,t,m,r),g=e.memoizedState),(u=Ro||B2(e,t,u,r,p,g,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return s1(n,e,t,r,s,i)}function s1(n,e,t,r,i,s){CT(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&k2(e,t,!1),no(n,e,s);r=e.stateNode,QD.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=qu(e,n.child,null,s),e.child=qu(e,null,a,s)):Ar(n,e,a,s),e.memoizedState=r.state,i&&k2(e,t,!0),e.child}function AT(n){var e=n.stateNode;e.pendingContext?O2(n,e.pendingContext,e.pendingContext!==e.context):e.context&&O2(n,e.context,!1),Cw(n,e.containerInfo)}function J2(n,e,t,r,i){return $u(),xw(i),e.flags|=256,Ar(n,e,t,r),e.child}var o1={dehydrated:null,treeContext:null,retryLane:0};function a1(n){return{baseLanes:n,cachePool:null,transitions:null}}function TT(n,e,t){var r=e.pendingProps,i=dn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),rn(dn,i&1),n===null)return K_(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Hg(o,r,0,null),n=tl(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=a1(t),e.memoizedState=o1,n):kw(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return KD(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Zo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Zo(a,s):(s=tl(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?a1(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=o1,r}return s=n.child,n=s.sibling,r=Zo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function kw(n,e){return e=Hg({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function op(n,e,t,r){return r!==null&&xw(r),qu(e,n.child,null,t),n=kw(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function KD(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=pv(Error(Be(422))),op(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Hg({mode:"visible",children:r.children},i,0,null),s=tl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&qu(e,n.child,null,o),e.child.memoizedState=a1(o),e.memoizedState=o1,s);if(!(e.mode&1))return op(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Be(419)),r=pv(s,r,void 0),op(n,e,o,r)}if(a=(o&n.childLanes)!==0,zr||a){if(r=Yn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,to(n,i),qi(r,n,i,-1))}return Uw(),r=pv(Error(Be(421))),op(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=hN.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Qr=qo(i.nextSibling),Kr=e,cn=!0,Hi=null,n!==null&&(Si[bi++]=js,Si[bi++]=$s,Si[bi++]=ll,js=n.id,$s=n.overflow,ll=e),e=kw(e,r.children),e.flags|=4096,e)}function Z2(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),e1(n.return,e,t)}function mv(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function PT(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ar(n,e,r.children,t),r=dn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Z2(n,t,e);else if(n.tag===19)Z2(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(rn(dn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&tg(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),mv(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&tg(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}mv(e,!0,t,null,s);break;case"together":mv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xm(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function no(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),cl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Be(153));if(e.child!==null){for(n=e.child,t=Zo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Zo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function eN(n,e,t){switch(e.tag){case 3:AT(e),$u();break;case 5:nT(e);break;case 1:Ur(e.type)&&Ym(e);break;case 4:Cw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;rn(Qm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rn(dn,dn.current&1),e.flags|=128,null):t&e.child.childLanes?TT(n,e,t):(rn(dn,dn.current&1),n=no(n,e,t),n!==null?n.sibling:null);rn(dn,dn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return PT(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rn(dn,dn.current),r)break;return null;case 22:case 23:return e.lanes=0,ET(n,e,t)}return no(n,e,t)}var IT,l1,RT,LT;IT=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};l1=function(){};RT=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,qa(vs.current);var s=null;switch(t){case"input":i=I_(n,i),r=I_(n,r),s=[];break;case"select":i=yn({},i,{value:void 0}),r=yn({},r,{value:void 0}),s=[];break;case"textarea":i=O_(n,i),r=O_(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=qm)}D_(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&on("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};LT=function(n,e,t,r){t!==r&&(e.flags|=4)};function qc(n,e){if(!cn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function pr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function tN(n,e,t){var r=e.pendingProps;switch(_w(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(e),null;case 1:return Ur(e.type)&&Xm(),pr(e),null;case 3:return r=e.stateNode,Xu(),an(Br),an(wr),Tw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(ip(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hi!==null&&(g1(Hi),Hi=null))),l1(n,e),pr(e),null;case 5:Aw(e);var i=qa(Uf.current);if(t=e.type,n!==null&&e.stateNode!=null)RT(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Be(166));return pr(e),null}if(n=qa(vs.current),ip(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[ds]=e,r[zf]=s,n=(e.mode&1)!==0,t){case"dialog":on("cancel",r),on("close",r);break;case"iframe":case"object":case"embed":on("load",r);break;case"video":case"audio":for(i=0;i<hf.length;i++)on(hf[i],r);break;case"source":on("error",r);break;case"img":case"image":case"link":on("error",r),on("load",r);break;case"details":on("toggle",r);break;case"input":o2(r,s),on("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},on("invalid",r);break;case"textarea":l2(r,s),on("invalid",r)}D_(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&rp(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&rp(r.textContent,a,n),i=["children",""+a]):Tf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&on("scroll",r)}switch(t){case"input":Yd(r),a2(r,s,!0);break;case"textarea":Yd(r),u2(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=qm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=sA(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script></script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[ds]=e,n[zf]=r,IT(n,e,!1,!1),e.stateNode=n;e:{switch(o=N_(t,r),t){case"dialog":on("cancel",n),on("close",n),i=r;break;case"iframe":case"object":case"embed":on("load",n),i=r;break;case"video":case"audio":for(i=0;i<hf.length;i++)on(hf[i],n);i=r;break;case"source":on("error",n),i=r;break;case"img":case"image":case"link":on("error",n),on("load",n),i=r;break;case"details":on("toggle",n),i=r;break;case"input":o2(n,r),i=I_(n,r),on("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=yn({},r,{value:void 0}),on("invalid",n);break;case"textarea":l2(n,r),i=O_(n,r),on("invalid",n);break;default:i=r}D_(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?lA(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oA(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Pf(n,l):typeof l=="number"&&Pf(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Tf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&on("scroll",n):l!=null&&iw(n,s,l,o))}switch(t){case"input":Yd(n),a2(n,r,!1);break;case"textarea":Yd(n),u2(n);break;case"option":r.value!=null&&n.setAttribute("value",""+ta(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Du(n,!!r.multiple,s,!1):r.defaultValue!=null&&Du(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=qm)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pr(e),null;case 6:if(n&&e.stateNode!=null)LT(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Be(166));if(t=qa(Uf.current),qa(vs.current),ip(e)){if(r=e.stateNode,t=e.memoizedProps,r[ds]=e,(s=r.nodeValue!==t)&&(n=Kr,n!==null))switch(n.tag){case 3:rp(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&rp(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[ds]=e,e.stateNode=r}return pr(e),null;case 13:if(an(dn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(cn&&Qr!==null&&e.mode&1&&!(e.flags&128))YA(),$u(),e.flags|=98560,s=!1;else if(s=ip(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Be(317));s[ds]=e}else $u(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pr(e),s=!1}else Hi!==null&&(g1(Hi),Hi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||dn.current&1?Bn===0&&(Bn=3):Uw())),e.updateQueue!==null&&(e.flags|=4),pr(e),null);case 4:return Xu(),l1(n,e),n===null&&Nf(e.stateNode.containerInfo),pr(e),null;case 10:return bw(e.type._context),pr(e),null;case 17:return Ur(e.type)&&Xm(),pr(e),null;case 19:if(an(dn),s=e.memoizedState,s===null)return pr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)qc(s,!1);else{if(Bn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=tg(n),o!==null){for(e.flags|=128,qc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return rn(dn,dn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Cn()>Ju&&(e.flags|=128,r=!0,qc(s,!1),e.lanes=4194304)}else{if(!r)if(n=tg(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),qc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!cn)return pr(e),null}else 2*Cn()-s.renderingStartTime>Ju&&t!==1073741824&&(e.flags|=128,r=!0,qc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Cn(),e.sibling=null,t=dn.current,rn(dn,r?t&1|2:t&1),e):(pr(e),null);case 22:case 23:return Bw(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jr&1073741824&&(pr(e),e.subtreeFlags&6&&(e.flags|=8192)):pr(e),null;case 24:return null;case 25:return null}throw Error(Be(156,e.tag))}function nN(n,e){switch(_w(e),e.tag){case 1:return Ur(e.type)&&Xm(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Xu(),an(Br),an(wr),Tw(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Aw(e),null;case 13:if(an(dn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Be(340));$u()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return an(dn),null;case 4:return Xu(),null;case 10:return bw(e.type._context),null;case 22:case 23:return Bw(),null;case 24:return null;default:return null}}var ap=!1,yr=!1,rN=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Au(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){wn(n,e,r)}else t.current=null}function u1(n,e,t){try{t()}catch(r){wn(n,e,r)}}var Q2=!1;function iN(n,e){if($_=Gm,n=NA(),yw(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,f=0,d=n,p=null;t:for(;;){for(var m;d!==t||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===n)break t;if(p===t&&++u===i&&(a=o),p===s&&++f===r&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(q_={focusedElem:n,selectionRange:t},Gm=!1,Je=e;Je!==null;)if(e=Je,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Je=n;else for(;Je!==null;){e=Je;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,_=e.stateNode,x=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:zi(e.type,v),y);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(b){wn(e,e.return,b)}if(n=e.sibling,n!==null){n.return=e.return,Je=n;break}Je=e.return}return g=Q2,Q2=!1,g}function wf(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&u1(e,t,s)}i=i.next}while(i!==r)}}function Bg(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function c1(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function OT(n){var e=n.alternate;e!==null&&(n.alternate=null,OT(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ds],delete e[zf],delete e[J_],delete e[UD],delete e[HD])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function kT(n){return n.tag===5||n.tag===3||n.tag===4}function K2(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||kT(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function f1(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=qm));else if(r!==4&&(n=n.child,n!==null))for(f1(n,e,t),n=n.sibling;n!==null;)f1(n,e,t),n=n.sibling}function h1(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(h1(n,e,t),n=n.sibling;n!==null;)h1(n,e,t),n=n.sibling}var nr=null,Bi=!1;function vo(n,e,t){for(t=t.child;t!==null;)DT(n,e,t),t=t.sibling}function DT(n,e,t){if(ys&&typeof ys.onCommitFiberUnmount=="function")try{ys.onCommitFiberUnmount(Rg,t)}catch{}switch(t.tag){case 5:yr||Au(t,e);case 6:var r=nr,i=Bi;nr=null,vo(n,e,t),nr=r,Bi=i,nr!==null&&(Bi?(n=nr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):nr.removeChild(t.stateNode));break;case 18:nr!==null&&(Bi?(n=nr,t=t.stateNode,n.nodeType===8?lv(n.parentNode,t):n.nodeType===1&&lv(n,t),Of(n)):lv(nr,t.stateNode));break;case 4:r=nr,i=Bi,nr=t.stateNode.containerInfo,Bi=!0,vo(n,e,t),nr=r,Bi=i;break;case 0:case 11:case 14:case 15:if(!yr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&u1(t,e,o),i=i.next}while(i!==r)}vo(n,e,t);break;case 1:if(!yr&&(Au(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){wn(t,e,a)}vo(n,e,t);break;case 21:vo(n,e,t);break;case 22:t.mode&1?(yr=(r=yr)||t.memoizedState!==null,vo(n,e,t),yr=r):vo(n,e,t);break;default:vo(n,e,t)}}function eE(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new rN),e.forEach(function(r){var i=dN.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function ki(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:nr=a.stateNode,Bi=!1;break e;case 3:nr=a.stateNode.containerInfo,Bi=!0;break e;case 4:nr=a.stateNode.containerInfo,Bi=!0;break e}a=a.return}if(nr===null)throw Error(Be(160));DT(s,o,i),nr=null,Bi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){wn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NT(e,n),e=e.sibling}function NT(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ki(e,n),fs(n),r&4){try{wf(3,n,n.return),Bg(3,n)}catch(v){wn(n,n.return,v)}try{wf(5,n,n.return)}catch(v){wn(n,n.return,v)}}break;case 1:ki(e,n),fs(n),r&512&&t!==null&&Au(t,t.return);break;case 5:if(ki(e,n),fs(n),r&512&&t!==null&&Au(t,t.return),n.flags&32){var i=n.stateNode;try{Pf(i,"")}catch(v){wn(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&rA(i,s),N_(a,o);var u=N_(a,s);for(o=0;o<l.length;o+=2){var f=l[o],d=l[o+1];f==="style"?lA(i,d):f==="dangerouslySetInnerHTML"?oA(i,d):f==="children"?Pf(i,d):iw(i,f,d,u)}switch(a){case"input":R_(i,s);break;case"textarea":iA(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Du(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Du(i,!!s.multiple,s.defaultValue,!0):Du(i,!!s.multiple,s.multiple?[]:"",!1))}i[zf]=s}catch(v){wn(n,n.return,v)}}break;case 6:if(ki(e,n),fs(n),r&4){if(n.stateNode===null)throw Error(Be(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(v){wn(n,n.return,v)}}break;case 3:if(ki(e,n),fs(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Of(e.containerInfo)}catch(v){wn(n,n.return,v)}break;case 4:ki(e,n),fs(n);break;case 13:ki(e,n),fs(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fw=Cn())),r&4&&eE(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(yr=(u=yr)||f,ki(e,n),yr=u):ki(e,n),fs(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!f&&n.mode&1)for(Je=n,f=n.child;f!==null;){for(d=Je=f;Je!==null;){switch(p=Je,m=p.child,p.tag){case 0:case 11:case 14:case 15:wf(4,p,p.return);break;case 1:Au(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){wn(r,t,v)}}break;case 5:Au(p,p.return);break;case 22:if(p.memoizedState!==null){nE(d);continue}}m!==null?(m.return=p,Je=m):nE(d)}f=f.sibling}e:for(f=null,d=n;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=aA("display",o))}catch(v){wn(n,n.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){wn(n,n.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ki(e,n),fs(n),r&4&&eE(n);break;case 21:break;default:ki(e,n),fs(n)}}function fs(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(kT(t)){var r=t;break e}t=t.return}throw Error(Be(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pf(i,""),r.flags&=-33);var s=K2(n);h1(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=K2(n);f1(n,a,o);break;default:throw Error(Be(161))}}catch(l){wn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function sN(n,e,t){Je=n,FT(n)}function FT(n,e,t){for(var r=(n.mode&1)!==0;Je!==null;){var i=Je,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ap;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||yr;a=ap;var u=yr;if(ap=o,(yr=l)&&!u)for(Je=i;Je!==null;)o=Je,l=o.child,o.tag===22&&o.memoizedState!==null?rE(i):l!==null?(l.return=o,Je=l):rE(i);for(;s!==null;)Je=s,FT(s),s=s.sibling;Je=i,ap=a,yr=u}tE(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Je=s):tE(n)}}function tE(n){for(;Je!==null;){var e=Je;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yr||Bg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:zi(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&z2(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}z2(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Of(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}yr||e.flags&512&&c1(e)}catch(p){wn(e,e.return,p)}}if(e===n){Je=null;break}if(t=e.sibling,t!==null){t.return=e.return,Je=t;break}Je=e.return}}function nE(n){for(;Je!==null;){var e=Je;if(e===n){Je=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Je=t;break}Je=e.return}}function rE(n){for(;Je!==null;){var e=Je;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Bg(4,e)}catch(l){wn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){wn(e,i,l)}}var s=e.return;try{c1(e)}catch(l){wn(e,s,l)}break;case 5:var o=e.return;try{c1(e)}catch(l){wn(e,o,l)}}}catch(l){wn(e,e.return,l)}if(e===n){Je=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Je=a;break}Je=e.return}}var oN=Math.ceil,ig=io.ReactCurrentDispatcher,Dw=io.ReactCurrentOwner,Ci=io.ReactCurrentBatchConfig,Nt=0,Yn=null,kn=null,ir=0,Jr=0,Tu=ca(0),Bn=0,Gf=null,cl=0,Ug=0,Nw=0,Sf=null,Fr=null,Fw=0,Ju=1/0,Hs=null,sg=!1,d1=null,Yo=null,lp=!1,Bo=null,og=0,bf=0,p1=null,wm=-1,Sm=0;function Pr(){return Nt&6?Cn():wm!==-1?wm:wm=Cn()}function Jo(n){return n.mode&1?Nt&2&&ir!==0?ir&-ir:WD.transition!==null?(Sm===0&&(Sm=xA()),Sm):(n=qt,n!==0||(n=window.event,n=n===void 0?16:AA(n.type)),n):1}function qi(n,e,t,r){if(50<bf)throw bf=0,p1=null,Error(Be(185));Eh(n,t,r),(!(Nt&2)||n!==Yn)&&(n===Yn&&(!(Nt&2)&&(Ug|=t),Bn===4&&Do(n,ir)),Hr(n,r),t===1&&Nt===0&&!(e.mode&1)&&(Ju=Cn()+500,Ng&&fa()))}function Hr(n,e){var t=n.callbackNode;Wk(n,e);var r=Wm(n,n===Yn?ir:0);if(r===0)t!==null&&h2(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&h2(t),e===1)n.tag===0?VD(iE.bind(null,n)):$A(iE.bind(null,n)),zD(function(){!(Nt&6)&&fa()}),t=null;else{switch(wA(r)){case 1:t=uw;break;case 4:t=vA;break;case 16:t=Vm;break;case 536870912:t=_A;break;default:t=Vm}t=jT(t,zT.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function zT(n,e){if(wm=-1,Sm=0,Nt&6)throw Error(Be(327));var t=n.callbackNode;if(Uu()&&n.callbackNode!==t)return null;var r=Wm(n,n===Yn?ir:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=ag(n,r);else{e=r;var i=Nt;Nt|=2;var s=UT();(Yn!==n||ir!==e)&&(Hs=null,Ju=Cn()+500,el(n,e));do try{uN();break}catch(a){BT(n,a)}while(1);Sw(),ig.current=s,Nt=i,kn!==null?e=0:(Yn=null,ir=0,e=Bn)}if(e!==0){if(e===2&&(i=H_(n),i!==0&&(r=i,e=m1(n,i))),e===1)throw t=Gf,el(n,0),Do(n,r),Hr(n,Cn()),t;if(e===6)Do(n,r);else{if(i=n.current.alternate,!(r&30)&&!aN(i)&&(e=ag(n,r),e===2&&(s=H_(n),s!==0&&(r=s,e=m1(n,s))),e===1))throw t=Gf,el(n,0),Do(n,r),Hr(n,Cn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Be(345));case 2:Fa(n,Fr,Hs);break;case 3:if(Do(n,r),(r&130023424)===r&&(e=Fw+500-Cn(),10<e)){if(Wm(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Pr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Y_(Fa.bind(null,n,Fr,Hs),e);break}Fa(n,Fr,Hs);break;case 4:if(Do(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-$i(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Cn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oN(r/1960))-r,10<r){n.timeoutHandle=Y_(Fa.bind(null,n,Fr,Hs),r);break}Fa(n,Fr,Hs);break;case 5:Fa(n,Fr,Hs);break;default:throw Error(Be(329))}}}return Hr(n,Cn()),n.callbackNode===t?zT.bind(null,n):null}function m1(n,e){var t=Sf;return n.current.memoizedState.isDehydrated&&(el(n,e).flags|=256),n=ag(n,e),n!==2&&(e=Fr,Fr=t,e!==null&&g1(e)),n}function g1(n){Fr===null?Fr=n:Fr.push.apply(Fr,n)}function aN(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Zi(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Do(n,e){for(e&=~Nw,e&=~Ug,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-$i(e),r=1<<t;n[t]=-1,e&=~r}}function iE(n){if(Nt&6)throw Error(Be(327));Uu();var e=Wm(n,0);if(!(e&1))return Hr(n,Cn()),null;var t=ag(n,e);if(n.tag!==0&&t===2){var r=H_(n);r!==0&&(e=r,t=m1(n,r))}if(t===1)throw t=Gf,el(n,0),Do(n,e),Hr(n,Cn()),t;if(t===6)throw Error(Be(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Fa(n,Fr,Hs),Hr(n,Cn()),null}function zw(n,e){var t=Nt;Nt|=1;try{return n(e)}finally{Nt=t,Nt===0&&(Ju=Cn()+500,Ng&&fa())}}function fl(n){Bo!==null&&Bo.tag===0&&!(Nt&6)&&Uu();var e=Nt;Nt|=1;var t=Ci.transition,r=qt;try{if(Ci.transition=null,qt=1,n)return n()}finally{qt=r,Ci.transition=t,Nt=e,!(Nt&6)&&fa()}}function Bw(){Jr=Tu.current,an(Tu)}function el(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,FD(t)),kn!==null)for(t=kn.return;t!==null;){var r=t;switch(_w(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xm();break;case 3:Xu(),an(Br),an(wr),Tw();break;case 5:Aw(r);break;case 4:Xu();break;case 13:an(dn);break;case 19:an(dn);break;case 10:bw(r.type._context);break;case 22:case 23:Bw()}t=t.return}if(Yn=n,kn=n=Zo(n.current,null),ir=Jr=e,Bn=0,Gf=null,Nw=Ug=cl=0,Fr=Sf=null,$a!==null){for(e=0;e<$a.length;e++)if(t=$a[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}$a=null}return n}function BT(n,e){do{var t=kn;try{if(Sw(),vm.current=rg,ng){for(var r=gn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ng=!1}if(ul=0,Xn=zn=gn=null,xf=!1,Hf=0,Dw.current=null,t===null||t.return===null){Bn=1,Gf=e,kn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=ir,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=j2(o);if(m!==null){m.flags&=-257,$2(m,o,a,s,e),m.mode&1&&G2(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){G2(s,u,e),Uw();break e}l=Error(Be(426))}}else if(cn&&a.mode&1){var y=j2(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),$2(y,o,a,s,e),xw(Yu(l,a));break e}}s=l=Yu(l,a),Bn!==4&&(Bn=2),Sf===null?Sf=[s]:Sf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=ST(s,l,e);F2(s,_);break e;case 1:a=l;var x=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Yo===null||!Yo.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=bT(s,a,e);F2(s,b);break e}}s=s.return}while(s!==null)}VT(t)}catch(A){e=A,kn===t&&t!==null&&(kn=t=t.return);continue}break}while(1)}function UT(){var n=ig.current;return ig.current=rg,n===null?rg:n}function Uw(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),Yn===null||!(cl&268435455)&&!(Ug&268435455)||Do(Yn,ir)}function ag(n,e){var t=Nt;Nt|=2;var r=UT();(Yn!==n||ir!==e)&&(Hs=null,el(n,e));do try{lN();break}catch(i){BT(n,i)}while(1);if(Sw(),Nt=t,ig.current=r,kn!==null)throw Error(Be(261));return Yn=null,ir=0,Bn}function lN(){for(;kn!==null;)HT(kn)}function uN(){for(;kn!==null&&!kk();)HT(kn)}function HT(n){var e=GT(n.alternate,n,Jr);n.memoizedProps=n.pendingProps,e===null?VT(n):kn=e,Dw.current=null}function VT(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=nN(t,e),t!==null){t.flags&=32767,kn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Bn=6,kn=null;return}}else if(t=tN(t,e,Jr),t!==null){kn=t;return}if(e=e.sibling,e!==null){kn=e;return}kn=e=n}while(e!==null);Bn===0&&(Bn=5)}function Fa(n,e,t){var r=qt,i=Ci.transition;try{Ci.transition=null,qt=1,cN(n,e,t,r)}finally{Ci.transition=i,qt=r}return null}function cN(n,e,t,r){do Uu();while(Bo!==null);if(Nt&6)throw Error(Be(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Be(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(Gk(n,s),n===Yn&&(kn=Yn=null,ir=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||lp||(lp=!0,jT(Vm,function(){return Uu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Ci.transition,Ci.transition=null;var o=qt;qt=1;var a=Nt;Nt|=4,Dw.current=null,iN(n,t),NT(t,n),ID(q_),Gm=!!$_,q_=$_=null,n.current=t,sN(t),Dk(),Nt=a,qt=o,Ci.transition=s}else n.current=t;if(lp&&(lp=!1,Bo=n,og=i),s=n.pendingLanes,s===0&&(Yo=null),zk(t.stateNode),Hr(n,Cn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(sg)throw sg=!1,n=d1,d1=null,n;return og&1&&n.tag!==0&&Uu(),s=n.pendingLanes,s&1?n===p1?bf++:(bf=0,p1=n):bf=0,fa(),null}function Uu(){if(Bo!==null){var n=wA(og),e=Ci.transition,t=qt;try{if(Ci.transition=null,qt=16>n?16:n,Bo===null)var r=!1;else{if(n=Bo,Bo=null,og=0,Nt&6)throw Error(Be(331));var i=Nt;for(Nt|=4,Je=n.current;Je!==null;){var s=Je,o=s.child;if(Je.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Je=u;Je!==null;){var f=Je;switch(f.tag){case 0:case 11:case 15:wf(8,f,s)}var d=f.child;if(d!==null)d.return=f,Je=d;else for(;Je!==null;){f=Je;var p=f.sibling,m=f.return;if(OT(f),f===u){Je=null;break}if(p!==null){p.return=m,Je=p;break}Je=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}Je=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Je=o;else e:for(;Je!==null;){if(s=Je,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wf(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Je=_;break e}Je=s.return}}var x=n.current;for(Je=x;Je!==null;){o=Je;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Je=w;else e:for(o=x;Je!==null;){if(a=Je,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bg(9,a)}}catch(A){wn(a,a.return,A)}if(a===o){Je=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Je=b;break e}Je=a.return}}if(Nt=i,fa(),ys&&typeof ys.onPostCommitFiberRoot=="function")try{ys.onPostCommitFiberRoot(Rg,n)}catch{}r=!0}return r}finally{qt=t,Ci.transition=e}}return!1}function sE(n,e,t){e=Yu(t,e),e=ST(n,e,1),n=Xo(n,e,1),e=Pr(),n!==null&&(Eh(n,1,e),Hr(n,e))}function wn(n,e,t){if(n.tag===3)sE(n,n,t);else for(;e!==null;){if(e.tag===3){sE(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yo===null||!Yo.has(r))){n=Yu(t,n),n=bT(e,n,1),e=Xo(e,n,1),n=Pr(),e!==null&&(Eh(e,1,n),Hr(e,n));break}}e=e.return}}function fN(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Pr(),n.pingedLanes|=n.suspendedLanes&t,Yn===n&&(ir&t)===t&&(Bn===4||Bn===3&&(ir&130023424)===ir&&500>Cn()-Fw?el(n,0):Nw|=t),Hr(n,e)}function WT(n,e){e===0&&(n.mode&1?(e=Qd,Qd<<=1,!(Qd&130023424)&&(Qd=4194304)):e=1);var t=Pr();n=to(n,e),n!==null&&(Eh(n,e,t),Hr(n,t))}function hN(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),WT(n,t)}function dN(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Be(314))}r!==null&&r.delete(e),WT(n,t)}var GT;GT=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Br.current)zr=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return zr=!1,eN(n,e,t);zr=!!(n.flags&131072)}else zr=!1,cn&&e.flags&1048576&&qA(e,Zm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xm(n,e),n=e.pendingProps;var i=ju(e,wr.current);Bu(e,t),i=Iw(null,e,r,n,i,t);var s=Rw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ur(r)?(s=!0,Ym(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ew(e),i.updater=Fg,e.stateNode=i,i._reactInternals=e,n1(e,r,n,t),e=s1(null,e,r,!0,s,t)):(e.tag=0,cn&&s&&vw(e),Ar(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(xm(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=mN(r),n=zi(r,n),i){case 0:e=i1(null,e,r,n,t);break e;case 1:e=Y2(null,e,r,n,t);break e;case 11:e=q2(null,e,r,n,t);break e;case 14:e=X2(null,e,r,zi(r.type,n),t);break e}throw Error(Be(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zi(r,i),i1(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zi(r,i),Y2(n,e,r,i,t);case 3:e:{if(AT(e),n===null)throw Error(Be(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ZA(n,e),eg(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Yu(Error(Be(423)),e),e=J2(n,e,r,t,i);break e}else if(r!==i){i=Yu(Error(Be(424)),e),e=J2(n,e,r,t,i);break e}else for(Qr=qo(e.stateNode.containerInfo.firstChild),Kr=e,cn=!0,Hi=null,t=tT(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if($u(),r===i){e=no(n,e,t);break e}Ar(n,e,r,t)}e=e.child}return e;case 5:return nT(e),n===null&&K_(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,X_(r,i)?o=null:s!==null&&X_(r,s)&&(e.flags|=32),CT(n,e),Ar(n,e,o,t),e.child;case 6:return n===null&&K_(e),null;case 13:return TT(n,e,t);case 4:return Cw(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=qu(e,null,r,t):Ar(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zi(r,i),q2(n,e,r,i,t);case 7:return Ar(n,e,e.pendingProps,t),e.child;case 8:return Ar(n,e,e.pendingProps.children,t),e.child;case 12:return Ar(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,rn(Qm,r._currentValue),r._currentValue=o,s!==null)if(Zi(s.value,o)){if(s.children===i.children&&!Br.current){e=no(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Js(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),e1(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Be(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),e1(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ar(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Bu(e,t),i=Ai(i),r=r(i),e.flags|=1,Ar(n,e,r,t),e.child;case 14:return r=e.type,i=zi(r,e.pendingProps),i=zi(r.type,i),X2(n,e,r,i,t);case 15:return MT(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zi(r,i),xm(n,e),e.tag=1,Ur(r)?(n=!0,Ym(e)):n=!1,Bu(e,t),KA(e,r,i),n1(e,r,i,t),s1(null,e,r,!0,n,t);case 19:return PT(n,e,t);case 22:return ET(n,e,t)}throw Error(Be(156,e.tag))};function jT(n,e){return yA(n,e)}function pN(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ei(n,e,t,r){return new pN(n,e,t,r)}function Hw(n){return n=n.prototype,!(!n||!n.isReactComponent)}function mN(n){if(typeof n=="function")return Hw(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ow)return 11;if(n===aw)return 14}return 2}function Zo(n,e){var t=n.alternate;return t===null?(t=Ei(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function bm(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")Hw(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case vu:return tl(t.children,i,s,e);case sw:o=8,i|=8;break;case C_:return n=Ei(12,t,e,i|2),n.elementType=C_,n.lanes=s,n;case A_:return n=Ei(13,t,e,i),n.elementType=A_,n.lanes=s,n;case T_:return n=Ei(19,t,e,i),n.elementType=T_,n.lanes=s,n;case eA:return Hg(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Q3:o=10;break e;case K3:o=9;break e;case ow:o=11;break e;case aw:o=14;break e;case Io:o=16,r=null;break e}throw Error(Be(130,n==null?n:typeof n,""))}return e=Ei(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function tl(n,e,t,r){return n=Ei(7,n,r,e),n.lanes=t,n}function Hg(n,e,t,r){return n=Ei(22,n,r,e),n.elementType=eA,n.lanes=t,n.stateNode={isHidden:!1},n}function gv(n,e,t){return n=Ei(6,n,null,e),n.lanes=t,n}function yv(n,e,t){return e=Ei(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function gN(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zy(0),this.expirationTimes=Zy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vw(n,e,t,r,i,s,o,a,l){return n=new gN(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ei(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ew(s),n}function yN(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yu,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function $T(n){if(!n)return na;n=n._reactInternals;e:{if(wl(n)!==n||n.tag!==1)throw Error(Be(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ur(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Be(171))}if(n.tag===1){var t=n.type;if(Ur(t))return jA(n,t,e)}return e}function qT(n,e,t,r,i,s,o,a,l){return n=Vw(t,r,!0,n,i,s,o,a,l),n.context=$T(null),t=n.current,r=Pr(),i=Jo(t),s=Js(r,i),s.callback=e??null,Xo(t,s,i),n.current.lanes=i,Eh(n,i,r),Hr(n,r),n}function Vg(n,e,t,r){var i=e.current,s=Pr(),o=Jo(i);return t=$T(t),e.context===null?e.context=t:e.pendingContext=t,e=Js(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Xo(i,e,o),n!==null&&(qi(n,i,o,s),ym(n,i,o)),o}function lg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function oE(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Ww(n,e){oE(n,e),(n=n.alternate)&&oE(n,e)}function vN(){return null}var XT=typeof reportError=="function"?reportError:function(n){console.error(n)};function Gw(n){this._internalRoot=n}Wg.prototype.render=Gw.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Be(409));Vg(n,e,null,null)};Wg.prototype.unmount=Gw.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;fl(function(){Vg(null,n,null,null)}),e[eo]=null}};function Wg(n){this._internalRoot=n}Wg.prototype.unstable_scheduleHydration=function(n){if(n){var e=MA();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ko.length&&e!==0&&e<ko[t].priority;t++);ko.splice(t,0,n),t===0&&CA(n)}};function jw(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Gg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function aE(){}function _N(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=lg(o);s.call(u)}}var o=qT(e,r,n,0,null,!1,!1,"",aE);return n._reactRootContainer=o,n[eo]=o.current,Nf(n.nodeType===8?n.parentNode:n),fl(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=lg(l);a.call(u)}}var l=Vw(n,0,!1,null,null,!1,!1,"",aE);return n._reactRootContainer=l,n[eo]=l.current,Nf(n.nodeType===8?n.parentNode:n),fl(function(){Vg(e,l,t,r)}),l}function jg(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=lg(o);a.call(l)}}Vg(e,o,n,i)}else o=_N(t,e,n,i,r);return lg(o)}SA=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=ff(e.pendingLanes);t!==0&&(cw(e,t|1),Hr(e,Cn()),!(Nt&6)&&(Ju=Cn()+500,fa()))}break;case 13:fl(function(){var r=to(n,1);if(r!==null){var i=Pr();qi(r,n,1,i)}}),Ww(n,1)}};fw=function(n){if(n.tag===13){var e=to(n,134217728);if(e!==null){var t=Pr();qi(e,n,134217728,t)}Ww(n,134217728)}};bA=function(n){if(n.tag===13){var e=Jo(n),t=to(n,e);if(t!==null){var r=Pr();qi(t,n,e,r)}Ww(n,e)}};MA=function(){return qt};EA=function(n,e){var t=qt;try{return qt=n,e()}finally{qt=t}};z_=function(n,e,t){switch(e){case"input":if(R_(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Dg(r);if(!i)throw Error(Be(90));nA(r),R_(r,i)}}}break;case"textarea":iA(n,t);break;case"select":e=t.value,e!=null&&Du(n,!!t.multiple,e,!1)}};fA=zw;hA=fl;var xN={usingClientEntryPoint:!1,Events:[Ah,Su,Dg,uA,cA,zw]},Xc={findFiberByHostInstance:ja,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},wN={bundleType:Xc.bundleType,version:Xc.version,rendererPackageName:Xc.rendererPackageName,rendererConfig:Xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:io.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=mA(n),n===null?null:n.stateNode},findFiberByHostInstance:Xc.findFiberByHostInstance||vN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!up.isDisabled&&up.supportsFiber)try{Rg=up.inject(wN),ys=up}catch{}}ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xN;ii.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jw(e))throw Error(Be(200));return yN(n,e,null,t)};ii.createRoot=function(n,e){if(!jw(n))throw Error(Be(299));var t=!1,r="",i=XT;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vw(n,1,!1,null,null,t,!1,r,i),n[eo]=e.current,Nf(n.nodeType===8?n.parentNode:n),new Gw(e)};ii.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Be(188)):(n=Object.keys(n).join(","),Error(Be(268,n)));return n=mA(e),n=n===null?null:n.stateNode,n};ii.flushSync=function(n){return fl(n)};ii.hydrate=function(n,e,t){if(!Gg(e))throw Error(Be(200));return jg(null,n,e,!0,t)};ii.hydrateRoot=function(n,e,t){if(!jw(n))throw Error(Be(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=XT;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=qT(e,null,n,1,t??null,i,!1,s,o),n[eo]=e.current,Nf(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Wg(e)};ii.render=function(n,e,t){if(!Gg(e))throw Error(Be(200));return jg(null,n,e,!1,t)};ii.unmountComponentAtNode=function(n){if(!Gg(n))throw Error(Be(40));return n._reactRootContainer?(fl(function(){jg(null,null,n,!1,function(){n._reactRootContainer=null,n[eo]=null})}),!0):!1};ii.unstable_batchedUpdates=zw;ii.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Gg(t))throw Error(Be(200));if(n==null||n._reactInternals===void 0)throw Error(Be(38));return jg(n,e,t,!1,r)};ii.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=ii})(tw);const cp=Tg(tw.exports);var YT,lE=tw.exports;YT=M_.createRoot=lE.createRoot,M_.hydrateRoot=lE.hydrateRoot;var $w={exports:{}},Xt={};var qw=Symbol.for("react.element"),Xw=Symbol.for("react.portal"),$g=Symbol.for("react.fragment"),qg=Symbol.for("react.strict_mode"),Xg=Symbol.for("react.profiler"),Yg=Symbol.for("react.provider"),Jg=Symbol.for("react.context"),SN=Symbol.for("react.server_context"),Zg=Symbol.for("react.forward_ref"),Qg=Symbol.for("react.suspense"),Kg=Symbol.for("react.suspense_list"),e0=Symbol.for("react.memo"),t0=Symbol.for("react.lazy"),bN=Symbol.for("react.offscreen"),JT;JT=Symbol.for("react.module.reference");function Ii(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case qw:switch(n=n.type,n){case $g:case Xg:case qg:case Qg:case Kg:return n;default:switch(n=n&&n.$$typeof,n){case SN:case Jg:case Zg:case t0:case e0:case Yg:return n;default:return e}}case Xw:return e}}}Xt.ContextConsumer=Jg;Xt.ContextProvider=Yg;Xt.Element=qw;Xt.ForwardRef=Zg;Xt.Fragment=$g;Xt.Lazy=t0;Xt.Memo=e0;Xt.Portal=Xw;Xt.Profiler=Xg;Xt.StrictMode=qg;Xt.Suspense=Qg;Xt.SuspenseList=Kg;Xt.isAsyncMode=function(){return!1};Xt.isConcurrentMode=function(){return!1};Xt.isContextConsumer=function(n){return Ii(n)===Jg};Xt.isContextProvider=function(n){return Ii(n)===Yg};Xt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===qw};Xt.isForwardRef=function(n){return Ii(n)===Zg};Xt.isFragment=function(n){return Ii(n)===$g};Xt.isLazy=function(n){return Ii(n)===t0};Xt.isMemo=function(n){return Ii(n)===e0};Xt.isPortal=function(n){return Ii(n)===Xw};Xt.isProfiler=function(n){return Ii(n)===Xg};Xt.isStrictMode=function(n){return Ii(n)===qg};Xt.isSuspense=function(n){return Ii(n)===Qg};Xt.isSuspenseList=function(n){return Ii(n)===Kg};Xt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===$g||n===Xg||n===qg||n===Qg||n===Kg||n===bN||typeof n=="object"&&n!==null&&(n.$$typeof===t0||n.$$typeof===e0||n.$$typeof===Yg||n.$$typeof===Jg||n.$$typeof===Zg||n.$$typeof===JT||n.getModuleId!==void 0)};Xt.typeOf=Ii;(function(n){n.exports=Xt})($w);function MN(n){function e(N,U,k,W,V){for(var J=0,re=0,Se=0,pe=0,we,se,ce=0,ge=0,ye,te=ye=we=0,Z=0,Me=0,Ne=0,Ge=0,nt=k.length,K=nt-1,Y,he="",Le="",ze="",We="",Ke;Z<nt;){if(se=k.charCodeAt(Z),Z===K&&re+pe+Se+J!==0&&(re!==0&&(se=re===47?10:47),pe=Se=J=0,nt++,K++),re+pe+Se+J===0){if(Z===K&&(0<Me&&(he=he.replace(p,"")),0<he.trim().length)){switch(se){case 32:case 9:case 59:case 13:case 10:break;default:he+=k.charAt(Z)}se=59}switch(se){case 123:for(he=he.trim(),we=he.charCodeAt(0),ye=1,Ge=++Z;Z<nt;){switch(se=k.charCodeAt(Z)){case 123:ye++;break;case 125:ye--;break;case 47:switch(se=k.charCodeAt(Z+1)){case 42:case 47:e:{for(te=Z+1;te<K;++te)switch(k.charCodeAt(te)){case 47:if(se===42&&k.charCodeAt(te-1)===42&&Z+2!==te){Z=te+1;break e}break;case 10:if(se===47){Z=te+1;break e}}Z=te}}break;case 91:se++;case 40:se++;case 34:case 39:for(;Z++<K&&k.charCodeAt(Z)!==se;);}if(ye===0)break;Z++}switch(ye=k.substring(Ge,Z),we===0&&(we=(he=he.replace(d,"").trim()).charCodeAt(0)),we){case 64:switch(0<Me&&(he=he.replace(p,"")),se=he.charCodeAt(1),se){case 100:case 109:case 115:case 45:Me=U;break;default:Me=X}if(ye=e(U,Me,ye,se,V+1),Ge=ye.length,0<D&&(Me=t(X,he,Ne),Ke=a(3,ye,Me,U,F,O,Ge,se,V,W),he=Me.join(""),Ke!==void 0&&(Ge=(ye=Ke.trim()).length)===0&&(se=0,ye="")),0<Ge)switch(se){case 115:he=he.replace(E,o);case 100:case 109:case 45:ye=he+"{"+ye+"}";break;case 107:he=he.replace(x,"$1 $2"),ye=he+"{"+ye+"}",ye=$===1||$===2&&s("@"+ye,3)?"@-webkit-"+ye+"@"+ye:"@"+ye;break;default:ye=he+ye,W===112&&(ye=(Le+=ye,""))}else ye="";break;default:ye=e(U,t(U,he,Ne),ye,W,V+1)}ze+=ye,ye=Ne=Me=te=we=0,he="",se=k.charCodeAt(++Z);break;case 125:case 59:if(he=(0<Me?he.replace(p,""):he).trim(),1<(Ge=he.length))switch(te===0&&(we=he.charCodeAt(0),we===45||96<we&&123>we)&&(Ge=(he=he.replace(" ",":")).length),0<D&&(Ke=a(1,he,U,N,F,O,Le.length,W,V,W))!==void 0&&(Ge=(he=Ke.trim()).length)===0&&(he="\0\0"),we=he.charCodeAt(0),se=he.charCodeAt(1),we){case 0:break;case 64:if(se===105||se===99){We+=he+k.charAt(Z);break}default:he.charCodeAt(Ge-1)!==58&&(Le+=i(he,we,se,he.charCodeAt(2)))}Ne=Me=te=we=0,he="",se=k.charCodeAt(++Z)}}switch(se){case 13:case 10:re===47?re=0:1+we===0&&W!==107&&0<he.length&&(Me=1,he+="\0"),0<D*B&&a(0,he,U,N,F,O,Le.length,W,V,W),O=1,F++;break;case 59:case 125:if(re+pe+Se+J===0){O++;break}default:switch(O++,Y=k.charAt(Z),se){case 9:case 32:if(pe+J+re===0)switch(ce){case 44:case 58:case 9:case 32:Y="";break;default:se!==32&&(Y=" ")}break;case 0:Y="\\0";break;case 12:Y="\\f";break;case 11:Y="\\v";break;case 38:pe+re+J===0&&(Me=Ne=1,Y="\f"+Y);break;case 108:if(pe+re+J+H===0&&0<te)switch(Z-te){case 2:ce===112&&k.charCodeAt(Z-3)===58&&(H=ce);case 8:ge===111&&(H=ge)}break;case 58:pe+re+J===0&&(te=Z);break;case 44:re+Se+pe+J===0&&(Me=1,Y+="\r");break;case 34:case 39:re===0&&(pe=pe===se?0:pe===0?se:pe);break;case 91:pe+re+Se===0&&J++;break;case 93:pe+re+Se===0&&J--;break;case 41:pe+re+J===0&&Se--;break;case 40:if(pe+re+J===0){if(we===0)switch(2*ce+3*ge){case 533:break;default:we=1}Se++}break;case 64:re+Se+pe+J+te+ye===0&&(ye=1);break;case 42:case 47:if(!(0<pe+J+Se))switch(re){case 0:switch(2*se+3*k.charCodeAt(Z+1)){case 235:re=47;break;case 220:Ge=Z,re=42}break;case 42:se===47&&ce===42&&Ge+2!==Z&&(k.charCodeAt(Ge+2)===33&&(Le+=k.substring(Ge,Z+1)),Y="",re=0)}}re===0&&(he+=Y)}ge=ce,ce=se,Z++}if(Ge=Le.length,0<Ge){if(Me=U,0<D&&(Ke=a(2,Le,Me,N,F,O,Ge,W,V,W),Ke!==void 0&&(Le=Ke).length===0))return We+Le+ze;if(Le=Me.join(",")+"{"+Le+"}",$*H!==0){switch($!==2||s(Le,2)||(H=0),H){case 111:Le=Le.replace(b,":-moz-$1")+Le;break;case 112:Le=Le.replace(w,"::-webkit-input-$1")+Le.replace(w,"::-moz-$1")+Le.replace(w,":-ms-input-$1")+Le}H=0}}return We+Le+ze}function t(N,U,k){var W=U.trim().split(y);U=W;var V=W.length,J=N.length;switch(J){case 0:case 1:var re=0;for(N=J===0?"":N[0]+" ";re<V;++re)U[re]=r(N,U[re],k).trim();break;default:var Se=re=0;for(U=[];re<V;++re)for(var pe=0;pe<J;++pe)U[Se++]=r(N[pe]+" ",W[re],k).trim()}return U}function r(N,U,k){var W=U.charCodeAt(0);switch(33>W&&(W=(U=U.trim()).charCodeAt(0)),W){case 38:return U.replace(_,"$1"+N.trim());case 58:return N.trim()+U.replace(_,"$1"+N.trim());default:if(0<1*k&&0<U.indexOf("\f"))return U.replace(_,(N.charCodeAt(0)===58?"":"$1")+N.trim())}return N+U}function i(N,U,k,W){var V=N+";",J=2*U+3*k+4*W;if(J===944){N=V.indexOf(":",9)+1;var re=V.substring(N,V.length-1).trim();return re=V.substring(0,N).trim()+re+";",$===1||$===2&&s(re,1)?"-webkit-"+re+re:re}if($===0||$===2&&!s(V,1))return V;switch(J){case 1015:return V.charCodeAt(10)===97?"-webkit-"+V+V:V;case 951:return V.charCodeAt(3)===116?"-webkit-"+V+V:V;case 963:return V.charCodeAt(5)===110?"-webkit-"+V+V:V;case 1009:if(V.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+V+V;case 978:return"-webkit-"+V+"-moz-"+V+V;case 1019:case 983:return"-webkit-"+V+"-moz-"+V+"-ms-"+V+V;case 883:if(V.charCodeAt(8)===45)return"-webkit-"+V+V;if(0<V.indexOf("image-set(",11))return V.replace(R,"$1-webkit-$2")+V;break;case 932:if(V.charCodeAt(4)===45)switch(V.charCodeAt(5)){case 103:return"-webkit-box-"+V.replace("-grow","")+"-webkit-"+V+"-ms-"+V.replace("grow","positive")+V;case 115:return"-webkit-"+V+"-ms-"+V.replace("shrink","negative")+V;case 98:return"-webkit-"+V+"-ms-"+V.replace("basis","preferred-size")+V}return"-webkit-"+V+"-ms-"+V+V;case 964:return"-webkit-"+V+"-ms-flex-"+V+V;case 1023:if(V.charCodeAt(8)!==99)break;return re=V.substring(V.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+re+"-webkit-"+V+"-ms-flex-pack"+re+V;case 1005:return g.test(V)?V.replace(m,":-webkit-")+V.replace(m,":-moz-")+V:V;case 1e3:switch(re=V.substring(13).trim(),U=re.indexOf("-")+1,re.charCodeAt(0)+re.charCodeAt(U)){case 226:re=V.replace(A,"tb");break;case 232:re=V.replace(A,"tb-rl");break;case 220:re=V.replace(A,"lr");break;default:return V}return"-webkit-"+V+"-ms-"+re+V;case 1017:if(V.indexOf("sticky",9)===-1)break;case 975:switch(U=(V=N).length-10,re=(V.charCodeAt(U)===33?V.substring(0,U):V).substring(N.indexOf(":",7)+1).trim(),J=re.charCodeAt(0)+(re.charCodeAt(7)|0)){case 203:if(111>re.charCodeAt(8))break;case 115:V=V.replace(re,"-webkit-"+re)+";"+V;break;case 207:case 102:V=V.replace(re,"-webkit-"+(102<J?"inline-":"")+"box")+";"+V.replace(re,"-webkit-"+re)+";"+V.replace(re,"-ms-"+re+"box")+";"+V}return V+";";case 938:if(V.charCodeAt(5)===45)switch(V.charCodeAt(6)){case 105:return re=V.replace("-items",""),"-webkit-"+V+"-webkit-box-"+re+"-ms-flex-"+re+V;case 115:return"-webkit-"+V+"-ms-flex-item-"+V.replace(M,"")+V;default:return"-webkit-"+V+"-ms-flex-line-pack"+V.replace("align-content","").replace(M,"")+V}break;case 973:case 989:if(V.charCodeAt(3)!==45||V.charCodeAt(4)===122)break;case 931:case 953:if(P.test(N)===!0)return(re=N.substring(N.indexOf(":")+1)).charCodeAt(0)===115?i(N.replace("stretch","fill-available"),U,k,W).replace(":fill-available",":stretch"):V.replace(re,"-webkit-"+re)+V.replace(re,"-moz-"+re.replace("fill-",""))+V;break;case 962:if(V="-webkit-"+V+(V.charCodeAt(5)===102?"-ms-"+V:"")+V,k+W===211&&V.charCodeAt(13)===105&&0<V.indexOf("transform",10))return V.substring(0,V.indexOf(";",27)+1).replace(v,"$1-webkit-$2")+V}return V}function s(N,U){var k=N.indexOf(U===1?":":"{"),W=N.substring(0,U!==3?k:10);return k=N.substring(k+1,N.length-1),q(U!==2?W:W.replace(I,"$1"),k,U)}function o(N,U){var k=i(U,U.charCodeAt(0),U.charCodeAt(1),U.charCodeAt(2));return k!==U+";"?k.replace(C," or ($1)").substring(4):"("+U+")"}function a(N,U,k,W,V,J,re,Se,pe,we){for(var se=0,ce=U,ge;se<D;++se)switch(ge=j[se].call(f,N,ce,k,W,V,J,re,Se,pe,we)){case void 0:case!1:case!0:case null:break;default:ce=ge}if(ce!==U)return ce}function l(N){switch(N){case void 0:case null:D=j.length=0;break;default:if(typeof N=="function")j[D++]=N;else if(typeof N=="object")for(var U=0,k=N.length;U<k;++U)l(N[U]);else B=!!N|0}return l}function u(N){return N=N.prefix,N!==void 0&&(q=null,N?typeof N!="function"?$=1:($=2,q=N):$=0),u}function f(N,U){var k=N;if(33>k.charCodeAt(0)&&(k=k.trim()),G=k,k=[G],0<D){var W=a(-1,U,k,k,F,O,0,0,0,0);W!==void 0&&typeof W=="string"&&(U=W)}var V=e(X,k,U,0,0);return 0<D&&(W=a(-2,V,k,k,F,O,V.length,0,0,0),W!==void 0&&(V=W)),G="",H=0,O=F=1,V}var d=/^\0+/g,p=/[\0\r\f]/g,m=/: */g,g=/zoo|gra/,v=/([,: ])(transform)/g,y=/,\r+?/g,_=/([\t\r\n ])*\f?&/g,x=/@(k\w+)\s*(\S*)\s*/,w=/::(place)/g,b=/:(read-only)/g,A=/[svh]\w+-[tblr]{2}/,E=/\(\s*(.*)\s*\)/g,C=/([\s\S]*?);/g,M=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,P=/stretch|:\s*\w+\-(?:conte|avail)/,R=/([^-])(image-set\()/,O=1,F=1,H=0,$=1,X=[],j=[],D=0,q=null,B=0,G="";return f.use=l,f.set=u,n!==void 0&&u(n),f}var EN={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function CN(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var AN=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,uE=CN(function(n){return AN.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),ZT={exports:{}},Yt={};var Zn=typeof Symbol=="function"&&Symbol.for,Yw=Zn?Symbol.for("react.element"):60103,Jw=Zn?Symbol.for("react.portal"):60106,n0=Zn?Symbol.for("react.fragment"):60107,r0=Zn?Symbol.for("react.strict_mode"):60108,i0=Zn?Symbol.for("react.profiler"):60114,s0=Zn?Symbol.for("react.provider"):60109,o0=Zn?Symbol.for("react.context"):60110,Zw=Zn?Symbol.for("react.async_mode"):60111,a0=Zn?Symbol.for("react.concurrent_mode"):60111,l0=Zn?Symbol.for("react.forward_ref"):60112,u0=Zn?Symbol.for("react.suspense"):60113,TN=Zn?Symbol.for("react.suspense_list"):60120,c0=Zn?Symbol.for("react.memo"):60115,f0=Zn?Symbol.for("react.lazy"):60116,PN=Zn?Symbol.for("react.block"):60121,IN=Zn?Symbol.for("react.fundamental"):60117,RN=Zn?Symbol.for("react.responder"):60118,LN=Zn?Symbol.for("react.scope"):60119;function oi(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case Yw:switch(n=n.type,n){case Zw:case a0:case n0:case i0:case r0:case u0:return n;default:switch(n=n&&n.$$typeof,n){case o0:case l0:case f0:case c0:case s0:return n;default:return e}}case Jw:return e}}}function QT(n){return oi(n)===a0}Yt.AsyncMode=Zw;Yt.ConcurrentMode=a0;Yt.ContextConsumer=o0;Yt.ContextProvider=s0;Yt.Element=Yw;Yt.ForwardRef=l0;Yt.Fragment=n0;Yt.Lazy=f0;Yt.Memo=c0;Yt.Portal=Jw;Yt.Profiler=i0;Yt.StrictMode=r0;Yt.Suspense=u0;Yt.isAsyncMode=function(n){return QT(n)||oi(n)===Zw};Yt.isConcurrentMode=QT;Yt.isContextConsumer=function(n){return oi(n)===o0};Yt.isContextProvider=function(n){return oi(n)===s0};Yt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===Yw};Yt.isForwardRef=function(n){return oi(n)===l0};Yt.isFragment=function(n){return oi(n)===n0};Yt.isLazy=function(n){return oi(n)===f0};Yt.isMemo=function(n){return oi(n)===c0};Yt.isPortal=function(n){return oi(n)===Jw};Yt.isProfiler=function(n){return oi(n)===i0};Yt.isStrictMode=function(n){return oi(n)===r0};Yt.isSuspense=function(n){return oi(n)===u0};Yt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===n0||n===a0||n===i0||n===r0||n===u0||n===TN||typeof n=="object"&&n!==null&&(n.$$typeof===f0||n.$$typeof===c0||n.$$typeof===s0||n.$$typeof===o0||n.$$typeof===l0||n.$$typeof===IN||n.$$typeof===RN||n.$$typeof===LN||n.$$typeof===PN)};Yt.typeOf=oi;(function(n){n.exports=Yt})(ZT);var Qw=ZT.exports,ON={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},kN={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},DN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},KT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Kw={};Kw[Qw.ForwardRef]=DN;Kw[Qw.Memo]=KT;function cE(n){return Qw.isMemo(n)?KT:Kw[n.$$typeof]||ON}var NN=Object.defineProperty,FN=Object.getOwnPropertyNames,fE=Object.getOwnPropertySymbols,zN=Object.getOwnPropertyDescriptor,BN=Object.getPrototypeOf,hE=Object.prototype;function eP(n,e,t){if(typeof e!="string"){if(hE){var r=BN(e);r&&r!==hE&&eP(n,r,t)}var i=FN(e);fE&&(i=i.concat(fE(e)));for(var s=cE(n),o=cE(e),a=0;a<i.length;++a){var l=i[a];if(!kN[l]&&!(t&&t[l])&&!(o&&o[l])&&!(s&&s[l])){var u=zN(e,l);try{NN(n,l,u)}catch{}}}}return n}var UN=eP;function ms(){return(ms=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}var dE=function(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t},y1=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!$w.exports.typeOf(n)},ug=Object.freeze([]),Qo=Object.freeze({});function jf(n){return typeof n=="function"}function pE(n){return n.displayName||n.name||"Component"}function eS(n){return n&&typeof n.styledComponentId=="string"}var Zu=typeof process<"u"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",tS=typeof window<"u"&&"HTMLElement"in window,HN=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""?{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY:!1),VN={};function Ph(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var WN=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var r=0,i=0;i<t;i++)r+=this.groupSizes[i];return r},e.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;t>=o;)(o<<=1)<0&&Ph(16,""+t);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(t+1),u=0,f=r.length;u<f;u++)this.tag.insertRule(l,r[u])&&(this.groupSizes[t]++,l++)},e.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],i=this.indexOfGroup(t),s=i+r;this.groupSizes[t]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),o=s+i,a=s;a<o;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},n}(),Mm=new Map,cg=new Map,Mf=1,fp=function(n){if(Mm.has(n))return Mm.get(n);for(;cg.has(Mf);)Mf++;var e=Mf++;return Mm.set(n,e),cg.set(e,n),e},GN=function(n){return cg.get(n)},jN=function(n,e){e>=Mf&&(Mf=e+1),Mm.set(n,e),cg.set(e,n)},$N="style["+Zu+'][data-styled-version="5.3.6"]',qN=new RegExp("^"+Zu+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),XN=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},YN=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=t.length;i<s;i++){var o=t[i].trim();if(o){var a=o.match(qN);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(jN(u,l),XN(n,u,a[3]),n.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},JN=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},tP=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var f=l[u];if(f&&f.nodeType===1&&f.hasAttribute(Zu))return f}}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(Zu,"active"),r.setAttribute("data-styled-version","5.3.6");var o=JN();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},ZN=function(){function n(t){var r=this.element=tP(t);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}Ph(17)}(r),this.length=0}var e=n.prototype;return e.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var r=this.sheet.cssRules[t];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},n}(),QN=function(){function n(t){var r=this.element=tP(t);this.nodes=r.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,r){if(t<=this.length&&t>=0){var i=document.createTextNode(r),s=this.nodes[t];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),KN=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),mE=tS,eF={isServer:!tS,useCSSOMInjection:!HN},fg=function(){function n(t,r,i){t===void 0&&(t=Qo),r===void 0&&(r={}),this.options=ms({},eF,{},t),this.gs=r,this.names=new Map(i),this.server=!!t.isServer,!this.server&&tS&&mE&&(mE=!1,function(s){for(var o=document.querySelectorAll($N),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(Zu)!=="active"&&(YN(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}n.registerId=function(t){return fp(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new n(ms({},this.options,{},t),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,o=r.target,t=i?new KN(o):s?new ZN(o):new QN(o),new WN(t)));var t,r,i,s,o},e.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.registerName=function(t,r){if(fp(t),this.names.has(t))this.names.get(t).add(r);else{var i=new Set;i.add(r),this.names.set(t,i)}},e.insertRules=function(t,r,i){this.registerName(t,r),this.getTag().insertRules(fp(t),i)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(fp(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var r=t.getTag(),i=r.length,s="",o=0;o<i;o++){var a=GN(o);if(a!==void 0){var l=t.names.get(a),u=r.getGroup(o);if(l&&u&&l.size){var f=Zu+".g"+o+'[id="'+a+'"]',d="";l!==void 0&&l.forEach(function(p){p.length>0&&(d+=p+",")}),s+=""+u+f+'{content:"'+d+`"}/*!sc*/
`}}}return s}(this)},n}(),tF=/(a)(d)/gi,gE=function(n){return String.fromCharCode(n+(n>25?39:97))};function v1(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=gE(e%52)+t;return(gE(e%52)+t).replace(tF,"$1-$2")}var Pu=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},nP=function(n){return Pu(5381,n)};function rP(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(jf(t)&&!eS(t))return!1}return!0}var nF=nP("5.3.6"),rF=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&rP(e),this.componentId=t,this.baseHash=Pu(nF,t),this.baseStyle=r,fg.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=hl(this.rules,e,t,r).join(""),a=v1(Pu(this.baseHash,o)>>>0);if(!t.hasNameForId(i,a)){var l=r(o,"."+a,void 0,i);t.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,f=Pu(this.baseHash,r.hash),d="",p=0;p<u;p++){var m=this.rules[p];if(typeof m=="string")d+=m;else if(m){var g=hl(m,e,t,r),v=Array.isArray(g)?g.join(""):g;f=Pu(f,v+p),d+=v}}if(d){var y=v1(f>>>0);if(!t.hasNameForId(i,y)){var _=r(d,"."+y,void 0,i);t.insertRules(i,y,_)}s.push(y)}}return s.join(" ")},n}(),iF=/^\s*\/\/.*$/gm,sF=[":","[",".","#"];function oF(n){var e,t,r,i,s=n===void 0?Qo:n,o=s.options,a=o===void 0?Qo:o,l=s.plugins,u=l===void 0?ug:l,f=new MN(a),d=[],p=function(v){function y(_){if(_)try{v(_+"}")}catch{}}return function(_,x,w,b,A,E,C,M,I,P){switch(_){case 1:if(I===0&&x.charCodeAt(0)===64)return v(x+";"),"";break;case 2:if(M===0)return x+"/*|*/";break;case 3:switch(M){case 102:case 112:return v(w[0]+x),"";default:return x+(P===0?"/*|*/":"")}case-2:x.split("/*|*/}").forEach(y)}}}(function(v){d.push(v)}),m=function(v,y,_){return y===0&&sF.indexOf(_[t.length])!==-1||_.match(i)?v:"."+e};function g(v,y,_,x){x===void 0&&(x="&");var w=v.replace(iF,""),b=y&&_?_+" "+y+" { "+w+" }":w;return e=x,t=y,r=new RegExp("\\"+t+"\\b","g"),i=new RegExp("(\\"+t+"\\b){2,}"),f(_||!y?"":y,b)}return f.use([].concat(u,[function(v,y,_){v===2&&_.length&&_[0].lastIndexOf(t)>0&&(_[0]=_[0].replace(r,m))},p,function(v){if(v===-2){var y=d;return d=[],y}}])),g.hash=u.length?u.reduce(function(v,y){return y.name||Ph(15),Pu(v,y.name)},5381).toString():"",g}var iP=Gi.createContext();iP.Consumer;var sP=Gi.createContext(),aF=(sP.Consumer,new fg),_1=oF();function oP(){return ue.exports.useContext(iP)||aF}function aP(){return ue.exports.useContext(sP)||_1}var lF=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=_1);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.toString=function(){return Ph(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=_1),this.name+e.hash},n}(),uF=/([A-Z])/,cF=/([A-Z])/g,fF=/^ms-/,hF=function(n){return"-"+n.toLowerCase()};function yE(n){return uF.test(n)?n.replace(cF,hF).replace(fF,"-ms-"):n}var vE=function(n){return n==null||n===!1||n===""};function hl(n,e,t,r){if(Array.isArray(n)){for(var i,s=[],o=0,a=n.length;o<a;o+=1)(i=hl(n[o],e,t,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(vE(n))return"";if(eS(n))return"."+n.styledComponentId;if(jf(n)){if(typeof(u=n)!="function"||u.prototype&&u.prototype.isReactComponent||!e)return n;var l=n(e);return hl(l,e,t,r)}var u;return n instanceof lF?t?(n.inject(t,r),n.getName(r)):n:y1(n)?function f(d,p){var m,g,v=[];for(var y in d)d.hasOwnProperty(y)&&!vE(d[y])&&(Array.isArray(d[y])&&d[y].isCss||jf(d[y])?v.push(yE(y)+":",d[y],";"):y1(d[y])?v.push.apply(v,f(d[y],y)):v.push(yE(y)+": "+(m=y,(g=d[y])==null||typeof g=="boolean"||g===""?"":typeof g!="number"||g===0||m in EN?String(g).trim():g+"px")+";"));return p?[p+" {"].concat(v,["}"]):v}(n):n.toString()}var _E=function(n){return Array.isArray(n)&&(n.isCss=!0),n};function lP(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return jf(n)||y1(n)?_E(hl(dE(ug,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:_E(hl(dE(n,t)))}var uP=function(n,e,t){return t===void 0&&(t=Qo),n.theme!==t.theme&&n.theme||e||t.theme},dF=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,pF=/(^-|-$)/g;function vv(n){return n.replace(dF,"-").replace(pF,"")}var cP=function(n){return v1(nP(n)>>>0)};function hp(n){return typeof n=="string"&&!0}var x1=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},mF=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"};function gF(n,e,t){var r=n[t];x1(e)&&x1(r)?fP(r,e):n[t]=e}function fP(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i];if(x1(o))for(var a in o)mF(a)&&gF(n,o[a],a)}return n}var nS=Gi.createContext();nS.Consumer;var _v={};function hP(n,e,t){var r=eS(n),i=!hp(n),s=e.attrs,o=s===void 0?ug:s,a=e.componentId,l=a===void 0?function(x,w){var b=typeof x!="string"?"sc":vv(x);_v[b]=(_v[b]||0)+1;var A=b+"-"+cP("5.3.6"+b+_v[b]);return w?w+"-"+A:A}(e.displayName,e.parentComponentId):a,u=e.displayName,f=u===void 0?function(x){return hp(x)?"styled."+x:"Styled("+pE(x)+")"}(n):u,d=e.displayName&&e.componentId?vv(e.displayName)+"-"+e.componentId:e.componentId||l,p=r&&n.attrs?Array.prototype.concat(n.attrs,o).filter(Boolean):o,m=e.shouldForwardProp;r&&n.shouldForwardProp&&(m=e.shouldForwardProp?function(x,w,b){return n.shouldForwardProp(x,w,b)&&e.shouldForwardProp(x,w,b)}:n.shouldForwardProp);var g,v=new rF(t,d,r?n.componentStyle:void 0),y=v.isStatic&&o.length===0,_=function(x,w){return function(b,A,E,C){var M=b.attrs,I=b.componentStyle,P=b.defaultProps,R=b.foldedComponentIds,O=b.shouldForwardProp,F=b.styledComponentId,H=b.target,$=function(W,V,J){W===void 0&&(W=Qo);var re=ms({},V,{theme:W}),Se={};return J.forEach(function(pe){var we,se,ce,ge=pe;for(we in jf(ge)&&(ge=ge(re)),ge)re[we]=Se[we]=we==="className"?(se=Se[we],ce=ge[we],se&&ce?se+" "+ce:se||ce):ge[we]}),[re,Se]}(uP(A,ue.exports.useContext(nS),P)||Qo,A,M),X=$[0],j=$[1],D=function(W,V,J,re){var Se=oP(),pe=aP(),we=V?W.generateAndInjectStyles(Qo,Se,pe):W.generateAndInjectStyles(J,Se,pe);return we}(I,C,X),q=E,B=j.$as||A.$as||j.as||A.as||H,G=hp(B),N=j!==A?ms({},A,{},j):A,U={};for(var k in N)k[0]!=="$"&&k!=="as"&&(k==="forwardedAs"?U.as=N[k]:(O?O(k,uE,B):!G||uE(k))&&(U[k]=N[k]));return A.style&&j.style!==A.style&&(U.style=ms({},A.style,{},j.style)),U.className=Array.prototype.concat(R,F,D!==F?D:null,A.className,j.className).filter(Boolean).join(" "),U.ref=q,ue.exports.createElement(B,U)}(g,x,w,y)};return _.displayName=f,(g=Gi.forwardRef(_)).attrs=p,g.componentStyle=v,g.displayName=f,g.shouldForwardProp=m,g.foldedComponentIds=r?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):ug,g.styledComponentId=d,g.target=r?n.target:n,g.withComponent=function(x){var w=e.componentId,b=function(E,C){if(E==null)return{};var M,I,P={},R=Object.keys(E);for(I=0;I<R.length;I++)M=R[I],C.indexOf(M)>=0||(P[M]=E[M]);return P}(e,["componentId"]),A=w&&w+"-"+(hp(x)?x:vv(pE(x)));return hP(x,ms({},b,{attrs:p,componentId:A}),t)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=r?fP({},n.defaultProps,x):x}}),g.toString=function(){return"."+g.styledComponentId},i&&UN(g,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var w1=function(n){return function e(t,r,i){if(i===void 0&&(i=Qo),!$w.exports.isValidElementType(r))return Ph(1,String(r));var s=function(){return t(r,i,lP.apply(void 0,arguments))};return s.withConfig=function(o){return e(t,r,ms({},i,{},o))},s.attrs=function(o){return e(t,r,ms({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(hP,n)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){w1[n]=w1(n)});var yF=function(){function n(t,r){this.rules=t,this.componentId=r,this.isStatic=rP(t),fg.registerId(this.componentId+1)}var e=n.prototype;return e.createStyles=function(t,r,i,s){var o=s(hl(this.rules,r,i,s).join(""),""),a=this.componentId+t;i.insertRules(a,a,o)},e.removeStyles=function(t,r){r.clearRules(this.componentId+t)},e.renderStyles=function(t,r,i,s){t>2&&fg.registerId(this.componentId+t),this.removeStyles(t,i),this.createStyles(t,r,i,s)},n}();function dP(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=lP.apply(void 0,[n].concat(t)),s="sc-global-"+cP(JSON.stringify(i)),o=new yF(i,s);function a(u){var f=oP(),d=aP(),p=ue.exports.useContext(nS),m=ue.exports.useRef(f.allocateGSInstance(s)).current;return f.server&&l(m,u,f,p,d),ue.exports.useLayoutEffect(function(){if(!f.server)return l(m,u,f,p,d),function(){return o.removeStyles(m,f)}},[m,u,f,p,d]),null}function l(u,f,d,p,m){if(o.isStatic)o.renderStyles(u,VN,d,m);else{var g=ms({},f,{theme:uP(f,p,a.defaultProps)});o.renderStyles(u,g,d,m)}}return Gi.memo(a)}const ke=w1;function ra(){return ra=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ra.apply(this,arguments)}function vF(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function S1(n,e){return S1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S1(n,e)}function _F(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,S1(n,e)}const xE={disabled:!1},pP=Gi.createContext(null);var xF=function(e){return e.scrollTop},df="unmounted",za="exited",Ba="entering",pu="entered",b1="exiting",so=function(n){_F(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=za,s.appearStatus=Ba):l=pu:r.unmountOnExit||r.mountOnEnter?l=df:l=za,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===df?{status:za}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Ba&&o!==pu&&(s=Ba):(o===Ba||o===pu)&&(s=b1)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},t.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Ba){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:cp.findDOMNode(this);o&&xF(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===za&&this.setState({status:df})},t.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[cp.findDOMNode(this),a],u=l[0],f=l[1],d=this.getTimeouts(),p=a?d.appear:d.enter;if(!i&&!o||xE.disabled){this.safeSetState({status:pu},function(){s.props.onEntered(u)});return}this.props.onEnter(u,f),this.safeSetState({status:Ba},function(){s.props.onEntering(u,f),s.onTransitionEnd(p,function(){s.safeSetState({status:pu},function(){s.props.onEntered(u,f)})})})},t.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:cp.findDOMNode(this);if(!s||xE.disabled){this.safeSetState({status:za},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:b1},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:za},function(){i.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},t.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:cp.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],f=l[1];this.props.addEndListener(u,f)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===df)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=vF(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Gi.createElement(pP.Provider,{value:null},typeof o=="function"?o(i,a):Gi.cloneElement(Gi.Children.only(o),a))},e}(Gi.Component);so.contextType=pP;so.propTypes={};function jl(){}so.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:jl,onEntering:jl,onEntered:jl,onExit:jl,onExiting:jl,onExited:jl};so.UNMOUNTED=df;so.EXITED=za;so.ENTERING=Ba;so.ENTERED=pu;so.EXITING=b1;const wF=so;let SF=0;function bF(n,e){const t=`atom${++SF}`,r={toString:()=>t};return typeof n=="function"?r.read=n:(r.init=n,r.read=i=>i(r),r.write=(i,s,o)=>s(r,typeof o=="function"?o(i(r)):o)),e&&(r.write=e),r}const ia=Symbol(),M1=n=>!!n[ia],dp=n=>!n[ia].c,Yc=n=>{var e;const{b:t,c:r}=n[ia];r&&(r(),(e=EF.get(t))==null||e())},Em=(n,e)=>{const t=n[ia].o,r=e[ia].o;return t===r||n===r||M1(t)&&Em(t,e)},E1=(n,e)=>{const t={b:n,o:e,c:null},r=new Promise(i=>{t.c=()=>{t.c=null,i()},e.finally(t.c)});return r[ia]=t,r},MF=n=>E1(n[ia].b,n[ia].o),EF=new WeakMap,pp=n=>"init"in n,C1="r",A1="w",hg="c",T1="s",wE="h",CF="n",AF="l",TF="a",PF="m",IF=n=>{const e=new WeakMap,t=new WeakMap,r=new Map;let i,s;if(({VITE_ADDONS:"discuss,draw",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&(i=new Set,s=new Set),n)for(const[B,G]of n){const N={v:G,r:0,y:!0,d:new Map};({VITE_ADDONS:"discuss,draw",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&(Object.freeze(N),pp(B)||console.warn("Found initial value for derived atom which can cause unexpected behavior",B)),e.set(B,N)}const o=new WeakMap,a=(B,G,N)=>{let U=o.get(G);U||(U=new Map,o.set(G,U)),N.then(()=>{U.get(B)===N&&(U.delete(B),U.size||o.delete(G))}),U.set(B,N)},l=B=>{const G=new Set,N=o.get(B);return N&&(o.delete(B),N.forEach((U,k)=>{Yc(U),G.add(k)})),G},u=new WeakMap,f=B=>{let G=u.get(B);return G||(G=new Map,u.set(B,G)),G},d=(B,G)=>{if(B){const N=f(B);let U=N.get(G);return U||(U=d(B.p,G),U&&"p"in U&&dp(U.p)&&(U=void 0),U&&N.set(G,U)),U}return e.get(G)},p=(B,G,N)=>{if(({VITE_ADDONS:"discuss,draw",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&Object.freeze(N),B)f(B).set(G,N);else{const U=e.get(G);e.set(G,N),r.has(G)||r.set(G,U)}},m=(B,G=new Map,N)=>{if(!N)return G;const U=new Map;let k=!1;return N.forEach(W=>{var V;const J=((V=d(B,W))==null?void 0:V.r)||0;U.set(W,J),G.get(W)!==J&&(k=!0)}),G.size===U.size&&!k?G:U},g=(B,G,N,U,k)=>{const W=d(B,G);if(W){if(k&&(!("p"in W)||!Em(W.p,k)))return W;"p"in W&&Yc(W.p)}const V={v:N,r:(W==null?void 0:W.r)||0,y:!0,d:m(B,W==null?void 0:W.d,U)};let J=!(W!=null&&W.y);return!W||!("v"in W)||!Object.is(W.v,N)?(J=!0,++V.r,V.d.has(G)&&(V.d=new Map(V.d).set(G,V.r))):V.d!==W.d&&(V.d.size!==W.d.size||!Array.from(V.d.keys()).every(re=>W.d.has(re)))&&(J=!0,Promise.resolve().then(()=>{$(B)})),W&&!J?W:(p(B,G,V),V)},v=(B,G,N,U,k)=>{const W=d(B,G);if(W){if(k&&(!("p"in W)||!Em(W.p,k)))return W;"p"in W&&Yc(W.p)}const V={e:N,r:((W==null?void 0:W.r)||0)+1,y:!0,d:m(B,W==null?void 0:W.d,U)};return p(B,G,V),V},y=(B,G,N,U)=>{const k=d(B,G);if(k&&"p"in k){if(Em(k.p,N)&&!dp(k.p))return k.y?k:{...k,y:!0};Yc(k.p)}a(B,G,N);const W={p:N,r:((k==null?void 0:k.r)||0)+1,y:!0,d:m(B,k==null?void 0:k.d,U)};return p(B,G,W),W},_=(B,G,N,U)=>{if(N instanceof Promise){const k=E1(N,N.then(W=>{g(B,G,W,U,k)}).catch(W=>{if(W instanceof Promise)return M1(W)?W.then(()=>{w(B,G,!0)}):W;v(B,G,W,U,k)}));return y(B,G,k,U)}return g(B,G,N,U)},x=(B,G)=>{const N=d(B,G);if(N){const U={...N,y:!1};p(B,G,U)}else({VITE_ADDONS:"discuss,draw",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&console.warn("[Bug] could not invalidate non existing atom",G)},w=(B,G,N)=>{if(!N){const k=d(B,G);if(k){if(k.y&&"p"in k&&!dp(k.p))return k;if(k.d.forEach((W,V)=>{if(V!==G)if(!t.has(V))w(B,V);else{const J=d(B,V);J&&!J.y&&w(B,V)}}),Array.from(k.d).every(([W,V])=>{const J=d(B,W);return J&&!("p"in J)&&J.r===V}))return k.y?k:{...k,y:!0}}}const U=new Set;try{const k=G.read(W=>{U.add(W);const V=W===G?d(B,W):w(B,W);if(V){if("e"in V)throw V.e;if("p"in V)throw V.p;return V.v}if(pp(W))return W.init;throw new Error("no atom init")});return _(B,G,k,U)}catch(k){if(k instanceof Promise){const W=M1(k)&&dp(k)?MF(k):E1(k,k);return y(B,G,W,U)}return v(B,G,k,U)}},b=(B,G)=>w(G,B),A=(B,G)=>{let N=t.get(G);return N||(N=O(B,G)),N},E=(B,G)=>!G.l.size&&(!G.t.size||G.t.size===1&&G.t.has(B)),C=(B,G)=>{const N=t.get(G);N&&E(G,N)&&F(B,G)},M=(B,G)=>{const N=t.get(G);N==null||N.t.forEach(U=>{U!==G&&(x(B,U),M(B,U))})},I=(B,G,N)=>{let U=!0;const k=(J,re)=>{const Se=w(B,J);if("e"in Se)throw Se.e;if("p"in Se){if(re!=null&&re.unstable_promise)return Se.p.then(()=>{const pe=d(B,J);return pe&&"p"in pe&&pe.p===Se.p?new Promise(we=>setTimeout(we)).then(()=>k(J,re)):k(J,re)});throw({VITE_ADDONS:"discuss,draw",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&console.info("Reading pending atom state in write operation. We throw a promise for now.",J),Se.p}if("v"in Se)return Se.v;throw({VITE_ADDONS:"discuss,draw",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",J),new Error("no value found")},W=(J,re)=>{let Se;if(J===G){if(!pp(J))throw new Error("atom not writable");l(J).forEach(ce=>{ce!==B&&_(ce,J,re)});const we=d(B,J),se=_(B,J,re);we!==se&&M(B,J)}else Se=I(B,J,re);return U||$(B),Se},V=G.write(k,W,N);return U=!1,V},P=(B,G,N)=>{const U=I(N,B,G);return $(N),U},R=B=>!!B.write,O=(B,G,N)=>{const U={t:new Set(N&&[N]),l:new Set};if(t.set(G,U),({VITE_ADDONS:"discuss,draw",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&s.add(G),w(void 0,G).d.forEach((W,V)=>{const J=t.get(V);J?J.t.add(G):V!==G&&O(B,V,G)}),R(G)&&G.onMount){const W=J=>P(G,J,B),V=G.onMount(W);B=void 0,V&&(U.u=V)}return U},F=(B,G)=>{var N;const U=(N=t.get(G))==null?void 0:N.u;U&&U(),t.delete(G),({VITE_ADDONS:"discuss,draw",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&s.delete(G);const k=d(B,G);k?("p"in k&&Yc(k.p),k.d.forEach((W,V)=>{if(V!==G){const J=t.get(V);J&&(J.t.delete(G),E(V,J)&&F(B,V))}})):({VITE_ADDONS:"discuss,draw",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&console.warn("[Bug] could not find atom state to unmount",G)},H=(B,G,N,U)=>{const k=new Set(N.d.keys());U==null||U.forEach((W,V)=>{if(k.has(V)){k.delete(V);return}const J=t.get(V);J&&(J.t.delete(G),E(V,J)&&F(B,V))}),k.forEach(W=>{const V=t.get(W);V?V.t.add(G):t.has(G)&&O(B,W,G)})},$=B=>{if(B){f(B).forEach((N,U)=>{const k=e.get(U);if(N!==k){const W=t.get(U);W==null||W.l.forEach(V=>V(B))}});return}for(;r.size;){const G=Array.from(r);r.clear(),G.forEach(([N,U])=>{const k=d(void 0,N);if(k&&k.d!==(U==null?void 0:U.d)&&H(void 0,N,k,U==null?void 0:U.d),U&&!U.y&&(k!=null&&k.y))return;const W=t.get(N);W==null||W.l.forEach(V=>V())})}({VITE_ADDONS:"discuss,draw",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&i.forEach(G=>G())},X=B=>{f(B).forEach((N,U)=>{const k=e.get(U);(!k||N.r>k.r||N.y!==k.y||N.r===k.r&&N.d!==k.d)&&(e.set(U,N),N.d!==(k==null?void 0:k.d)&&H(B,U,N,k==null?void 0:k.d))})},j=(B,G)=>{G&&X(G),$(void 0)},D=(B,G,N)=>{const k=A(N,B).l;return k.add(G),()=>{k.delete(G),C(N,B)}},q=(B,G)=>{for(const[N,U]of B)pp(N)&&(_(G,N,U),M(G,N));$(G)};return({VITE_ADDONS:"discuss,draw",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"?{[C1]:b,[A1]:P,[hg]:j,[T1]:D,[wE]:q,[CF]:B=>(i.add(B),()=>{i.delete(B)}),[AF]:()=>s.values(),[TF]:B=>e.get(B),[PF]:B=>t.get(B)}:{[C1]:b,[A1]:P,[hg]:j,[T1]:D,[wE]:q}},RF=(n,e)=>({s:e?e(n).SECRET_INTERNAL_store:IF(n)}),xv=new Map,mP=n=>(xv.has(n)||xv.set(n,ue.exports.createContext(RF())),xv.get(n));function Ss(n,e){return bF(n,e)}function LF(n,e){const t=mP(e),r=ue.exports.useContext(t),{s:i,v:s}=r,o=p=>{const m=i[C1](n,p);if(({VITE_ADDONS:"discuss,draw",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&!m.y)throw new Error("should not be invalidated");if("e"in m)throw m.e;if("p"in m)throw m.p;if("v"in m)return m.v;throw new Error("no atom value")},[[a,l,u],f]=ue.exports.useReducer((p,m)=>{const g=o(m);return Object.is(p[1],g)&&p[2]===n?p:[m,g,n]},s,p=>{const m=o(p);return[p,m,n]});let d=l;return u!==n&&(f(a),d=o(a)),ue.exports.useEffect(()=>{const{v:p}=r;p&&i[hg](n,p);const m=i[T1](n,f,p);return f(p),m},[i,n,r]),ue.exports.useEffect(()=>{i[hg](n,a)}),ue.exports.useDebugValue(d),d}function OF(n,e){const t=mP(e),{s:r,w:i}=ue.exports.useContext(t);return ue.exports.useCallback(o=>{if(({VITE_ADDONS:"discuss,draw",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&!("write"in n))throw new Error("not writable atom");const a=l=>r[A1](n,o,l);return i?i(a):a()},[r,i,n])}function ln(n,e){return"scope"in n&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),e=n.scope),[LF(n,e),OF(n,e)]}const rS=Ss({}),h0=Ss(null),gP=Ss(null),yP=Ss(null),vP=Ss(!1);function _P(n,e){return function(){return n.apply(e,arguments)}}const{toString:xP}=Object.prototype,{getPrototypeOf:iS}=Object,sS=(n=>e=>{const t=xP.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),oo=n=>(n=n.toLowerCase(),e=>sS(e)===n),d0=n=>e=>typeof e===n,{isArray:uc}=Array,$f=d0("undefined");function kF(n){return n!==null&&!$f(n)&&n.constructor!==null&&!$f(n.constructor)&&dl(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const wP=oo("ArrayBuffer");function DF(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&wP(n.buffer),e}const NF=d0("string"),dl=d0("function"),SP=d0("number"),oS=n=>n!==null&&typeof n=="object",FF=n=>n===!0||n===!1,Cm=n=>{if(sS(n)!=="object")return!1;const e=iS(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},zF=oo("Date"),BF=oo("File"),UF=oo("Blob"),HF=oo("FileList"),VF=n=>oS(n)&&dl(n.pipe),WF=n=>{const e="[object FormData]";return n&&(typeof FormData=="function"&&n instanceof FormData||xP.call(n)===e||dl(n.toString)&&n.toString()===e)},GF=oo("URLSearchParams"),jF=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ih(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),uc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function bP(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const MP=typeof self>"u"?typeof global>"u"?globalThis:global:self,EP=n=>!$f(n)&&n!==MP;function P1(){const{caseless:n}=EP(this)&&this||{},e={},t=(r,i)=>{const s=n&&bP(e,i)||i;Cm(e[s])&&Cm(r)?e[s]=P1(e[s],r):Cm(r)?e[s]=P1({},r):uc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ih(arguments[r],t);return e}const $F=(n,e,t,{allOwnKeys:r}={})=>(Ih(e,(i,s)=>{t&&dl(i)?n[s]=_P(i,t):n[s]=i},{allOwnKeys:r}),n),qF=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),XF=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},YF=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&iS(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},JF=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},ZF=n=>{if(!n)return null;if(uc(n))return n;let e=n.length;if(!SP(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},QF=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&iS(Uint8Array)),KF=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},e4=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},t4=oo("HTMLFormElement"),n4=n=>n.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),SE=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),r4=oo("RegExp"),CP=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Ih(t,(i,s)=>{e(i,s,n)!==!1&&(r[s]=i)}),Object.defineProperties(n,r)},i4=n=>{CP(n,(e,t)=>{if(dl(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(dl(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},s4=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return uc(n)?r(n):r(String(n).split(e)),t},o4=()=>{},a4=(n,e)=>(n=+n,Number.isFinite(n)?n:e),l4=n=>{const e=new Array(10),t=(r,i)=>{if(oS(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=uc(r)?[]:{};return Ih(r,(o,a)=>{const l=t(o,i+1);!$f(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return t(n,0)},De={isArray:uc,isArrayBuffer:wP,isBuffer:kF,isFormData:WF,isArrayBufferView:DF,isString:NF,isNumber:SP,isBoolean:FF,isObject:oS,isPlainObject:Cm,isUndefined:$f,isDate:zF,isFile:BF,isBlob:UF,isRegExp:r4,isFunction:dl,isStream:VF,isURLSearchParams:GF,isTypedArray:QF,isFileList:HF,forEach:Ih,merge:P1,extend:$F,trim:jF,stripBOM:qF,inherits:XF,toFlatObject:YF,kindOf:sS,kindOfTest:oo,endsWith:JF,toArray:ZF,forEachEntry:KF,matchAll:e4,isHTMLForm:t4,hasOwnProperty:SE,hasOwnProp:SE,reduceDescriptors:CP,freezeMethods:i4,toObjectSet:s4,toCamelCase:n4,noop:o4,toFiniteNumber:a4,findKey:bP,global:MP,isContextDefined:EP,toJSONObject:l4};function Dt(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i)}De.inherits(Dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:De.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const AP=Dt.prototype,TP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{TP[n]={value:n}});Object.defineProperties(Dt,TP);Object.defineProperty(AP,"isAxiosError",{value:!0});Dt.from=(n,e,t,r,i,s)=>{const o=Object.create(AP);return De.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Dt.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};var u4=typeof self=="object"?self.FormData:window.FormData;const c4=u4;function I1(n){return De.isPlainObject(n)||De.isArray(n)}function PP(n){return De.endsWith(n,"[]")?n.slice(0,-2):n}function bE(n,e,t){return n?n.concat(e).map(function(i,s){return i=PP(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function f4(n){return De.isArray(n)&&!n.some(I1)}const h4=De.toFlatObject(De,{},null,function(e){return/^is[A-Z]/.test(e)});function d4(n){return n&&De.isFunction(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator]}function p0(n,e,t){if(!De.isObject(n))throw new TypeError("target must be an object");e=e||new(c4||FormData),t=De.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!De.isUndefined(y[v])});const r=t.metaTokens,i=t.visitor||f,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&d4(e);if(!De.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(De.isDate(g))return g.toISOString();if(!l&&De.isBlob(g))throw new Dt("Blob is not supported. Use a Buffer instead.");return De.isArrayBuffer(g)||De.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function f(g,v,y){let _=g;if(g&&!y&&typeof g=="object"){if(De.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(De.isArray(g)&&f4(g)||De.isFileList(g)||De.endsWith(v,"[]")&&(_=De.toArray(g)))return v=PP(v),_.forEach(function(w,b){!(De.isUndefined(w)||w===null)&&e.append(o===!0?bE([v],b,s):o===null?v:v+"[]",u(w))}),!1}return I1(g)?!0:(e.append(bE(y,v,s),u(g)),!1)}const d=[],p=Object.assign(h4,{defaultVisitor:f,convertValue:u,isVisitable:I1});function m(g,v){if(!De.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(g),De.forEach(g,function(_,x){(!(De.isUndefined(_)||_===null)&&i.call(e,_,De.isString(x)?x.trim():x,v,p))===!0&&m(_,v?v.concat(x):[x])}),d.pop()}}if(!De.isObject(n))throw new TypeError("data must be an object");return m(n),e}function ME(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function aS(n,e){this._pairs=[],n&&p0(n,this,e)}const IP=aS.prototype;IP.append=function(e,t){this._pairs.push([e,t])};IP.toString=function(e){const t=e?function(r){return e.call(this,r,ME)}:ME;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function p4(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function RP(n,e,t){if(!e)return n;const r=t&&t.encode||p4,i=t&&t.serialize;let s;if(i?s=i(e,t):s=De.isURLSearchParams(e)?e.toString():new aS(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class m4{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){De.forEach(this.handlers,function(r){r!==null&&e(r)})}}const EE=m4,LP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},g4=typeof URLSearchParams<"u"?URLSearchParams:aS,y4=FormData,v4=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),_4=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),gs={isBrowser:!0,classes:{URLSearchParams:g4,FormData:y4,Blob},isStandardBrowserEnv:v4,isStandardBrowserWebWorkerEnv:_4,protocols:["http","https","file","blob","url","data"]};function x4(n,e){return p0(n,new gs.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return gs.isNode&&De.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function w4(n){return De.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function S4(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function OP(n){function e(t,r,i,s){let o=t[s++];const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&De.isArray(i)?i.length:o,l?(De.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!De.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&De.isArray(i[o])&&(i[o]=S4(i[o])),!a)}if(De.isFormData(n)&&De.isFunction(n.entries)){const t={};return De.forEachEntry(n,(r,i)=>{e(w4(r),i,t,0)}),t}return null}const b4={"Content-Type":void 0};function M4(n,e,t){if(De.isString(n))try{return(e||JSON.parse)(n),De.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const m0={transitional:LP,adapter:["xhr","http"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=De.isObject(e);if(s&&De.isHTMLForm(e)&&(e=new FormData(e)),De.isFormData(e))return i&&i?JSON.stringify(OP(e)):e;if(De.isArrayBuffer(e)||De.isBuffer(e)||De.isStream(e)||De.isFile(e)||De.isBlob(e))return e;if(De.isArrayBufferView(e))return e.buffer;if(De.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return x4(e,this.formSerializer).toString();if((a=De.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return p0(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),M4(e)):e}],transformResponse:[function(e){const t=this.transitional||m0.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(e&&De.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Dt.from(a,Dt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gs.classes.FormData,Blob:gs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};De.forEach(["delete","get","head"],function(e){m0.headers[e]={}});De.forEach(["post","put","patch"],function(e){m0.headers[e]=De.merge(b4)});const lS=m0,E4=De.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),C4=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&E4[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},CE=Symbol("internals");function Jc(n){return n&&String(n).trim().toLowerCase()}function Am(n){return n===!1||n==null?n:De.isArray(n)?n.map(Am):String(n)}function A4(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}function T4(n){return/^[-_a-zA-Z]+$/.test(n.trim())}function AE(n,e,t,r){if(De.isFunction(r))return r.call(this,e,t);if(De.isString(e)){if(De.isString(r))return e.indexOf(r)!==-1;if(De.isRegExp(r))return r.test(e)}}function P4(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function I4(n,e){const t=De.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class g0{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,l,u){const f=Jc(l);if(!f)throw new Error("header name must be a non-empty string");const d=De.findKey(i,f);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=Am(a))}const o=(a,l)=>De.forEach(a,(u,f)=>s(u,f,l));return De.isPlainObject(e)||e instanceof this.constructor?o(e,t):De.isString(e)&&(e=e.trim())&&!T4(e)?o(C4(e),t):e!=null&&s(t,e,r),this}get(e,t){if(e=Jc(e),e){const r=De.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return A4(i);if(De.isFunction(t))return t.call(this,i,r);if(De.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Jc(e),e){const r=De.findKey(this,e);return!!(r&&(!t||AE(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=Jc(o),o){const a=De.findKey(r,o);a&&(!t||AE(r,r[a],a,t))&&(delete r[a],i=!0)}}return De.isArray(e)?e.forEach(s):s(e),i}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const t=this,r={};return De.forEach(this,(i,s)=>{const o=De.findKey(r,s);if(o){t[o]=Am(i),delete t[s];return}const a=e?P4(s):String(s).trim();a!==s&&delete t[s],t[a]=Am(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return De.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&De.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[CE]=this[CE]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Jc(o);r[a]||(I4(i,o),r[a]=!0)}return De.isArray(e)?e.forEach(s):s(e),this}}g0.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);De.freezeMethods(g0.prototype);De.freezeMethods(g0);const Zs=g0;function wv(n,e){const t=this||lS,r=e||t,i=Zs.from(r.headers);let s=r.data;return De.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function kP(n){return!!(n&&n.__CANCEL__)}function Rh(n,e,t){Dt.call(this,n??"canceled",Dt.ERR_CANCELED,e,t),this.name="CanceledError"}De.inherits(Rh,Dt,{__CANCEL__:!0});const R4=null;function L4(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Dt("Request failed with status code "+t.status,[Dt.ERR_BAD_REQUEST,Dt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const O4=gs.isStandardBrowserEnv?function(){return{write:function(t,r,i,s,o,a){const l=[];l.push(t+"="+encodeURIComponent(r)),De.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),De.isString(s)&&l.push("path="+s),De.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function k4(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function D4(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function DP(n,e){return n&&!k4(e)?D4(n,e):e}const N4=gs.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function i(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(o){const a=De.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function F4(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function z4(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),f=r[s];o||(o=u),t[i]=l,r[i]=u;let d=s,p=0;for(;d!==i;)p+=t[d++],d=d%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),u-o<e)return;const m=f&&u-f;return m?Math.round(p*1e3/m):void 0}}function TE(n,e){let t=0;const r=z4(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-t,l=r(a),u=s<=o;t=s;const f={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};f[e?"download":"upload"]=!0,n(f)}}const B4=typeof XMLHttpRequest<"u",U4=B4&&function(n){return new Promise(function(t,r){let i=n.data;const s=Zs.from(n.headers).normalize(),o=n.responseType;let a;function l(){n.cancelToken&&n.cancelToken.unsubscribe(a),n.signal&&n.signal.removeEventListener("abort",a)}De.isFormData(i)&&(gs.isStandardBrowserEnv||gs.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let u=new XMLHttpRequest;if(n.auth){const m=n.auth.username||"",g=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";s.set("Authorization","Basic "+btoa(m+":"+g))}const f=DP(n.baseURL,n.url);u.open(n.method.toUpperCase(),RP(f,n.params,n.paramsSerializer),!0),u.timeout=n.timeout;function d(){if(!u)return;const m=Zs.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),v={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:m,config:n,request:u};L4(function(_){t(_),l()},function(_){r(_),l()},v),u=null}if("onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(d)},u.onabort=function(){u&&(r(new Dt("Request aborted",Dt.ECONNABORTED,n,u)),u=null)},u.onerror=function(){r(new Dt("Network Error",Dt.ERR_NETWORK,n,u)),u=null},u.ontimeout=function(){let g=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const v=n.transitional||LP;n.timeoutErrorMessage&&(g=n.timeoutErrorMessage),r(new Dt(g,v.clarifyTimeoutError?Dt.ETIMEDOUT:Dt.ECONNABORTED,n,u)),u=null},gs.isStandardBrowserEnv){const m=(n.withCredentials||N4(f))&&n.xsrfCookieName&&O4.read(n.xsrfCookieName);m&&s.set(n.xsrfHeaderName,m)}i===void 0&&s.setContentType(null),"setRequestHeader"in u&&De.forEach(s.toJSON(),function(g,v){u.setRequestHeader(v,g)}),De.isUndefined(n.withCredentials)||(u.withCredentials=!!n.withCredentials),o&&o!=="json"&&(u.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&u.addEventListener("progress",TE(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",TE(n.onUploadProgress)),(n.cancelToken||n.signal)&&(a=m=>{u&&(r(!m||m.type?new Rh(null,n,u):m),u.abort(),u=null)},n.cancelToken&&n.cancelToken.subscribe(a),n.signal&&(n.signal.aborted?a():n.signal.addEventListener("abort",a)));const p=F4(f);if(p&&gs.protocols.indexOf(p)===-1){r(new Dt("Unsupported protocol "+p+":",Dt.ERR_BAD_REQUEST,n));return}u.send(i||null)})},Tm={http:R4,xhr:U4};De.forEach(Tm,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const H4={getAdapter:n=>{n=De.isArray(n)?n:[n];const{length:e}=n;let t,r;for(let i=0;i<e&&(t=n[i],!(r=De.isString(t)?Tm[t.toLowerCase()]:t));i++);if(!r)throw r===!1?new Dt(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(De.hasOwnProp(Tm,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!De.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Tm};function Sv(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Rh(null,n)}function PE(n){return Sv(n),n.headers=Zs.from(n.headers),n.data=wv.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),H4.getAdapter(n.adapter||lS.adapter)(n).then(function(r){return Sv(n),r.data=wv.call(n,n.transformResponse,r),r.headers=Zs.from(r.headers),r},function(r){return kP(r)||(Sv(n),r&&r.response&&(r.response.data=wv.call(n,n.transformResponse,r.response),r.response.headers=Zs.from(r.response.headers))),Promise.reject(r)})}const IE=n=>n instanceof Zs?n.toJSON():n;function Qu(n,e){e=e||{};const t={};function r(u,f,d){return De.isPlainObject(u)&&De.isPlainObject(f)?De.merge.call({caseless:d},u,f):De.isPlainObject(f)?De.merge({},f):De.isArray(f)?f.slice():f}function i(u,f,d){if(De.isUndefined(f)){if(!De.isUndefined(u))return r(void 0,u,d)}else return r(u,f,d)}function s(u,f){if(!De.isUndefined(f))return r(void 0,f)}function o(u,f){if(De.isUndefined(f)){if(!De.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function a(u,f,d){if(d in e)return r(u,f);if(d in n)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,f)=>i(IE(u),IE(f),!0)};return De.forEach(Object.keys(n).concat(Object.keys(e)),function(f){const d=l[f]||i,p=d(n[f],e[f],f);De.isUndefined(p)&&d!==a||(t[f]=p)}),t}const NP="1.2.1",uS={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{uS[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const RE={};uS.transitional=function(e,t,r){function i(s,o){return"[Axios v"+NP+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Dt(i(o," has been removed"+(t?" in "+t:"")),Dt.ERR_DEPRECATED);return t&&!RE[o]&&(RE[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function V4(n,e,t){if(typeof n!="object")throw new Dt("options must be an object",Dt.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new Dt("option "+s+" must be "+l,Dt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Dt("Unknown option "+s,Dt.ERR_BAD_OPTION)}}const R1={assertOptions:V4,validators:uS},_o=R1.validators;class dg{constructor(e){this.defaults=e,this.interceptors={request:new EE,response:new EE}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Qu(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&R1.assertOptions(r,{silentJSONParsing:_o.transitional(_o.boolean),forcedJSONParsing:_o.transitional(_o.boolean),clarifyTimeoutError:_o.transitional(_o.boolean)},!1),i!==void 0&&R1.assertOptions(i,{encode:_o.function,serialize:_o.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o;o=s&&De.merge(s.common,s[t.method]),o&&De.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),t.headers=Zs.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let f,d=0,p;if(!l){const g=[PE.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,u),p=g.length,f=Promise.resolve(t);d<p;)f=f.then(g[d++],g[d++]);return f}p=a.length;let m=t;for(d=0;d<p;){const g=a[d++],v=a[d++];try{m=g(m)}catch(y){v.call(this,y);break}}try{f=PE.call(this,m)}catch(g){return Promise.reject(g)}for(d=0,p=u.length;d<p;)f=f.then(u[d++],u[d++]);return f}getUri(e){e=Qu(this.defaults,e);const t=DP(e.baseURL,e.url);return RP(t,e.params,e.paramsSerializer)}}De.forEach(["delete","get","head","options"],function(e){dg.prototype[e]=function(t,r){return this.request(Qu(r||{},{method:e,url:t,data:(r||{}).data}))}});De.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(Qu(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}dg.prototype[e]=t(),dg.prototype[e+"Form"]=t(!0)});const Pm=dg;class cS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Rh(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new cS(function(i){e=i}),cancel:e}}}const W4=cS;function G4(n){return function(t){return n.apply(null,t)}}function j4(n){return De.isObject(n)&&n.isAxiosError===!0}function FP(n){const e=new Pm(n),t=_P(Pm.prototype.request,e);return De.extend(t,Pm.prototype,e,{allOwnKeys:!0}),De.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return FP(Qu(n,i))},t}const Jn=FP(lS);Jn.Axios=Pm;Jn.CanceledError=Rh;Jn.CancelToken=W4;Jn.isCancel=kP;Jn.VERSION=NP;Jn.toFormData=p0;Jn.AxiosError=Dt;Jn.Cancel=Jn.CanceledError;Jn.all=function(e){return Promise.all(e)};Jn.spread=G4;Jn.isAxiosError=j4;Jn.mergeConfig=Qu;Jn.AxiosHeaders=Zs;Jn.formToJSON=n=>OP(De.isHTMLForm(n)?new FormData(n):n);Jn.default=Jn;const qf=Jn;const y0="147",Ua={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ha={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},zP=0,L1=1,BP=2,$4=3,q4=0,fS=1,hS=2,Iu=3,pl=0,ei=1,ji=2,Qs=0,nl=1,O1=2,k1=3,D1=4,UP=5,Wa=100,HP=101,VP=102,N1=103,F1=104,WP=200,GP=201,jP=202,$P=203,dS=204,pS=205,qP=206,XP=207,YP=208,JP=209,ZP=210,QP=0,KP=1,eI=2,pg=3,tI=4,nI=5,rI=6,iI=7,Lh=0,sI=1,oI=2,Xi=0,aI=1,lI=2,uI=3,mS=4,cI=5,v0=300,sa=301,oa=302,Xf=303,Yf=304,cc=306,Jf=1e3,vr=1001,Zf=1002,On=1003,mg=1004,X4=1004,gg=1005,Y4=1005,pn=1006,gS=1007,J4=1007,Sl=1008,Z4=1008,aa=1009,fI=1010,hI=1011,yS=1012,dI=1013,Uo=1014,qs=1015,ml=1016,pI=1017,mI=1018,rl=1020,gI=1021,yI=1022,Zr=1023,vI=1024,_I=1025,Ko=1026,gl=1027,xI=1028,wI=1029,SI=1030,bI=1031,MI=1033,Im=33776,Rm=33777,Lm=33778,Om=33779,z1=35840,B1=35841,U1=35842,H1=35843,EI=36196,V1=37492,W1=37496,G1=37808,j1=37809,$1=37810,q1=37811,X1=37812,Y1=37813,J1=37814,Z1=37815,Q1=37816,K1=37817,ex=37818,tx=37819,nx=37820,rx=37821,ix=36492,CI=2200,AI=2201,TI=2202,Qf=2300,Kf=2301,km=2302,Xa=2400,Ya=2401,eh=2402,_0=2500,vS=2501,Q4=0,K4=1,e5=2,ro=3e3,tn=3001,PI=3200,II=3201,ha=0,RI=1,t5="",Ui="srgb",Ku="srgb-linear",n5=0,Dm=7680,r5=7681,i5=7682,s5=7683,o5=34055,a5=34056,l5=5386,u5=512,c5=513,f5=514,h5=515,d5=516,p5=517,m5=518,LI=519,th=35044,g5=35048,y5=35040,v5=35045,_5=35049,x5=35041,w5=35046,S5=35050,b5=35042,M5="100",sx="300 es",yg=1035;class bs{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const mr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let LE=1234567;const il=Math.PI/180,nh=180/Math.PI;function ti(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(mr[n&255]+mr[n>>8&255]+mr[n>>16&255]+mr[n>>24&255]+"-"+mr[e&255]+mr[e>>8&255]+"-"+mr[e>>16&15|64]+mr[e>>24&255]+"-"+mr[t&63|128]+mr[t>>8&255]+"-"+mr[t>>16&255]+mr[t>>24&255]+mr[r&255]+mr[r>>8&255]+mr[r>>16&255]+mr[r>>24&255]).toLowerCase()}function An(n,e,t){return Math.max(e,Math.min(t,n))}function _S(n,e){return(n%e+e)%e}function E5(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function C5(n,e,t){return n!==e?(t-n)/(e-n):0}function Ef(n,e,t){return(1-t)*n+t*e}function A5(n,e,t,r){return Ef(n,e,1-Math.exp(-t*r))}function T5(n,e=1){return e-Math.abs(_S(n,e*2)-e)}function P5(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function I5(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function R5(n,e){return n+Math.floor(Math.random()*(e-n+1))}function L5(n,e){return n+Math.random()*(e-n)}function O5(n){return n*(.5-Math.random())}function k5(n){n!==void 0&&(LE=n);let e=LE+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function D5(n){return n*il}function N5(n){return n*nh}function ox(n){return(n&n-1)===0&&n!==0}function OI(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function vg(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function F5(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+r)/2),f=o((e+r)/2),d=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":n.set(a*f,l*d,l*p,a*u);break;case"YZY":n.set(l*p,a*f,l*d,a*u);break;case"ZXZ":n.set(l*d,l*p,a*f,a*u);break;case"XZX":n.set(a*f,l*g,l*m,a*u);break;case"YXY":n.set(l*m,a*f,l*g,a*u);break;case"ZYZ":n.set(l*g,l*m,a*f,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Xs(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Kt(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var z5=Object.freeze({__proto__:null,DEG2RAD:il,RAD2DEG:nh,generateUUID:ti,clamp:An,euclideanModulo:_S,mapLinear:E5,inverseLerp:C5,lerp:Ef,damp:A5,pingpong:T5,smoothstep:P5,smootherstep:I5,randInt:R5,randFloat:L5,randFloatSpread:O5,seededRandom:k5,degToRad:D5,radToDeg:N5,isPowerOfTwo:ox,ceilPowerOfTwo:OI,floorPowerOfTwo:vg,setQuaternionFromProperEuler:F5,normalize:Kt,denormalize:Xs});class be{constructor(e=0,t=0){be.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Tn{constructor(){Tn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,u){const f=this.elements;return f[0]=e,f[1]=i,f[2]=a,f[3]=t,f[4]=s,f[5]=l,f[6]=r,f[7]=o,f[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],f=r[4],d=r[7],p=r[2],m=r[5],g=r[8],v=i[0],y=i[3],_=i[6],x=i[1],w=i[4],b=i[7],A=i[2],E=i[5],C=i[8];return s[0]=o*v+a*x+l*A,s[3]=o*y+a*w+l*E,s[6]=o*_+a*b+l*C,s[1]=u*v+f*x+d*A,s[4]=u*y+f*w+d*E,s[7]=u*_+f*b+d*C,s[2]=p*v+m*x+g*A,s[5]=p*y+m*w+g*E,s[8]=p*_+m*b+g*C,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8];return t*o*f-t*a*u-r*s*f+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],d=f*o-a*u,p=a*l-f*s,m=u*s-o*l,g=t*d+r*p+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=d*v,e[1]=(i*u-f*r)*v,e[2]=(a*r-i*o)*v,e[3]=p*v,e[4]=(f*t-i*l)*v,e[5]=(i*s-a*t)*v,e[6]=m*v,e[7]=(r*l-u*t)*v,e[8]=(o*t-r*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(bv.makeScale(e,t)),this}rotate(e){return this.premultiply(bv.makeRotation(-e)),this}translate(e,t){return this.premultiply(bv.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const bv=new Tn;function kI(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const B5={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ru(n,e){return new B5[n](e)}function rh(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function sl(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Nm(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const Mv={[Ui]:{[Ku]:sl},[Ku]:{[Ui]:Nm}},gr={legacyMode:!0,get workingColorSpace(){return Ku},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(Mv[e]&&Mv[e][t]!==void 0){const r=Mv[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},DI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Fn={r:0,g:0,b:0},Di={h:0,s:0,l:0},mp={h:0,s:0,l:0};function Ev(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function gp(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class Ye{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ui){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,gr.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=gr.workingColorSpace){return this.r=e,this.g=t,this.b=r,gr.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=gr.workingColorSpace){if(e=_S(e,1),t=An(t,0,1),r=An(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=Ev(o,s,e+1/3),this.g=Ev(o,s,e),this.b=Ev(o,s,e-1/3)}return gr.toWorkingColorSpace(this,i),this}setStyle(e,t=Ui){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,gr.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,gr.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseFloat(s[2])/100,f=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,u,f,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,gr.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,gr.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Ui){const r=DI[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=sl(e.r),this.g=sl(e.g),this.b=sl(e.b),this}copyLinearToSRGB(e){return this.r=Nm(e.r),this.g=Nm(e.g),this.b=Nm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ui){return gr.fromWorkingColorSpace(gp(this,Fn),e),An(Fn.r*255,0,255)<<16^An(Fn.g*255,0,255)<<8^An(Fn.b*255,0,255)<<0}getHexString(e=Ui){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=gr.workingColorSpace){gr.fromWorkingColorSpace(gp(this,Fn),t);const r=Fn.r,i=Fn.g,s=Fn.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const f=(a+o)/2;if(a===o)l=0,u=0;else{const d=o-a;switch(u=f<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=f,e}getRGB(e,t=gr.workingColorSpace){return gr.fromWorkingColorSpace(gp(this,Fn),t),e.r=Fn.r,e.g=Fn.g,e.b=Fn.b,e}getStyle(e=Ui){return gr.fromWorkingColorSpace(gp(this,Fn),e),e!==Ui?`color(${e} ${Fn.r} ${Fn.g} ${Fn.b})`:`rgb(${Fn.r*255|0},${Fn.g*255|0},${Fn.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(Di),Di.h+=e,Di.s+=t,Di.l+=r,this.setHSL(Di.h,Di.s,Di.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Di),e.getHSL(mp);const r=Ef(Di.h,mp.h,t),i=Ef(Di.s,mp.s,t),s=Ef(Di.l,mp.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Ye.NAMES=DI;let $l;class xS{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{$l===void 0&&($l=rh("canvas")),$l.width=e.width,$l.height=e.height;const r=$l.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=$l}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=rh("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=sl(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(sl(t[r]/255)*255):t[r]=sl(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Ja{constructor(e=null){this.isSource=!0,this.uuid=ti(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(Cv(i[o].image)):s.push(Cv(i[o]))}else s=Cv(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function Cv(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?xS.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let U5=0;class bn extends bs{constructor(e=bn.DEFAULT_IMAGE,t=bn.DEFAULT_MAPPING,r=vr,i=vr,s=pn,o=Sl,a=Zr,l=aa,u=bn.DEFAULT_ANISOTROPY,f=ro){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:U5++}),this.uuid=ti(),this.name="",this.source=new Ja(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new be(0,0),this.repeat=new be(1,1),this.center=new be(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Tn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==v0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Jf:e.x=e.x-Math.floor(e.x);break;case vr:e.x=e.x<0?0:1;break;case Zf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Jf:e.y=e.y-Math.floor(e.y);break;case vr:e.y=e.y<0?0:1;break;case Zf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}bn.DEFAULT_IMAGE=null;bn.DEFAULT_MAPPING=v0;bn.DEFAULT_ANISOTROPY=1;class $t{constructor(e=0,t=0,r=0,i=1){$t.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,u=l[0],f=l[4],d=l[8],p=l[1],m=l[5],g=l[9],v=l[2],y=l[6],_=l[10];if(Math.abs(f-p)<.01&&Math.abs(d-v)<.01&&Math.abs(g-y)<.01){if(Math.abs(f+p)<.1&&Math.abs(d+v)<.1&&Math.abs(g+y)<.1&&Math.abs(u+m+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(u+1)/2,b=(m+1)/2,A=(_+1)/2,E=(f+p)/4,C=(d+v)/4,M=(g+y)/4;return w>b&&w>A?w<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(w),i=E/r,s=C/r):b>A?b<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(b),r=E/i,s=M/i):A<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(A),r=C/s,i=M/s),this.set(r,i,s,t),this}let x=Math.sqrt((y-g)*(y-g)+(d-v)*(d-v)+(p-f)*(p-f));return Math.abs(x)<.001&&(x=1),this.x=(y-g)/x,this.y=(d-v)/x,this.z=(p-f)/x,this.w=Math.acos((u+m+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ri extends bs{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new $t(0,0,e,t),this.scissorTest=!1,this.viewport=new $t(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new bn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:pn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Ja(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Oh extends bn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=On,this.minFilter=On,this.wrapR=vr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class H5 extends ri{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Oh(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class x0 extends bn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=On,this.minFilter=On,this.wrapR=vr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class V5 extends ri{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new x0(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class W5 extends ri{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class xr{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],u=r[i+1],f=r[i+2],d=r[i+3];const p=s[o+0],m=s[o+1],g=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=f,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=g,e[t+3]=v;return}if(d!==v||l!==p||u!==m||f!==g){let y=1-a;const _=l*p+u*m+f*g+d*v,x=_>=0?1:-1,w=1-_*_;if(w>Number.EPSILON){const A=Math.sqrt(w),E=Math.atan2(A,_*x);y=Math.sin(y*E)/A,a=Math.sin(a*E)/A}const b=a*x;if(l=l*y+p*b,u=u*y+m*b,f=f*y+g*b,d=d*y+v*b,y===1-a){const A=1/Math.sqrt(l*l+u*u+f*f+d*d);l*=A,u*=A,f*=A,d*=A}}e[t]=l,e[t+1]=u,e[t+2]=f,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],f=r[i+3],d=s[o],p=s[o+1],m=s[o+2],g=s[o+3];return e[t]=a*g+f*d+l*m-u*p,e[t+1]=l*g+f*p+u*d-a*m,e[t+2]=u*g+f*m+a*p-l*d,e[t+3]=f*g-a*d-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),f=a(i/2),d=a(s/2),p=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=p*f*d+u*m*g,this._y=u*m*d-p*f*g,this._z=u*f*g+p*m*d,this._w=u*f*d-p*m*g;break;case"YXZ":this._x=p*f*d+u*m*g,this._y=u*m*d-p*f*g,this._z=u*f*g-p*m*d,this._w=u*f*d+p*m*g;break;case"ZXY":this._x=p*f*d-u*m*g,this._y=u*m*d+p*f*g,this._z=u*f*g+p*m*d,this._w=u*f*d-p*m*g;break;case"ZYX":this._x=p*f*d-u*m*g,this._y=u*m*d+p*f*g,this._z=u*f*g-p*m*d,this._w=u*f*d+p*m*g;break;case"YZX":this._x=p*f*d+u*m*g,this._y=u*m*d+p*f*g,this._z=u*f*g-p*m*d,this._w=u*f*d-p*m*g;break;case"XZY":this._x=p*f*d-u*m*g,this._y=u*m*d-p*f*g,this._z=u*f*g+p*m*d,this._w=u*f*d+p*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],f=t[6],d=t[10],p=r+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(f-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>d){const m=2*Math.sqrt(1+r-a-d);this._w=(f-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>d){const m=2*Math.sqrt(1+a-r-d);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+f)/m}else{const m=2*Math.sqrt(1+d-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+f)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(An(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,f=t._w;return this._x=r*f+o*a+i*u-s*l,this._y=i*f+o*l+s*a-r*u,this._z=s*f+o*u+r*l-i*a,this._w=o*f-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),f=Math.atan2(u,a),d=Math.sin((1-t)*f)/u,p=Math.sin(t*f)/u;return this._w=o*d+this._w*p,this._x=r*d+this._x*p,this._y=i*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Q{constructor(e=0,t=0,r=0){Q.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(OE.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(OE.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*i-a*r,f=l*r+a*t-s*i,d=l*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=u*l+p*-s+f*-a-d*-o,this.y=f*l+p*-o+d*-s-u*-a,this.z=d*l+p*-a+u*-o-f*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Av.copy(this).projectOnVector(e),this.sub(Av)}reflect(e){return this.sub(Av.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(An(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Av=new Q,OE=new xr;class da{constructor(e=new Q(1/0,1/0,1/0),t=new Q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const f=e[l],d=e[l+1],p=e[l+2];f<t&&(t=f),d<r&&(r=d),p<i&&(i=p),f>s&&(s=f),d>o&&(o=d),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const f=e.getX(l),d=e.getY(l),p=e.getZ(l);f<t&&(t=f),d<r&&(r=d),p<i&&(i=p),f>s&&(s=f),d>o&&(o=d),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Ta.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Ta.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Ta)}else r.boundingBox===null&&r.computeBoundingBox(),Tv.copy(r.boundingBox),Tv.applyMatrix4(e.matrixWorld),this.union(Tv);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ta),Ta.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Zc),yp.subVectors(this.max,Zc),ql.subVectors(e.a,Zc),Xl.subVectors(e.b,Zc),Yl.subVectors(e.c,Zc),xo.subVectors(Xl,ql),wo.subVectors(Yl,Xl),Pa.subVectors(ql,Yl);let t=[0,-xo.z,xo.y,0,-wo.z,wo.y,0,-Pa.z,Pa.y,xo.z,0,-xo.x,wo.z,0,-wo.x,Pa.z,0,-Pa.x,-xo.y,xo.x,0,-wo.y,wo.x,0,-Pa.y,Pa.x,0];return!Pv(t,ql,Xl,Yl,yp)||(t=[1,0,0,0,1,0,0,0,1],!Pv(t,ql,Xl,Yl,yp))?!1:(vp.crossVectors(xo,wo),t=[vp.x,vp.y,vp.z],Pv(t,ql,Xl,Yl,yp))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Ta.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Ta).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ds[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ds[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ds[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ds[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ds[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ds[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ds[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ds[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ds),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ds=[new Q,new Q,new Q,new Q,new Q,new Q,new Q,new Q],Ta=new Q,Tv=new da,ql=new Q,Xl=new Q,Yl=new Q,xo=new Q,wo=new Q,Pa=new Q,Zc=new Q,yp=new Q,vp=new Q,Ia=new Q;function Pv(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Ia.fromArray(n,s);const a=i.x*Math.abs(Ia.x)+i.y*Math.abs(Ia.y)+i.z*Math.abs(Ia.z),l=e.dot(Ia),u=t.dot(Ia),f=r.dot(Ia);if(Math.max(-Math.max(l,u,f),Math.min(l,u,f))>a)return!1}return!0}const G5=new da,Qc=new Q,Iv=new Q;let bl=class{constructor(e=new Q,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):G5.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Qc.subVectors(e,this.center);const t=Qc.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Qc,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Iv.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Qc.copy(e.center).add(Iv)),this.expandByPoint(Qc.copy(e.center).sub(Iv))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const Ns=new Q,Rv=new Q,_p=new Q,So=new Q,Lv=new Q,xp=new Q,Ov=new Q;class kh{constructor(e=new Q,t=new Q(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ns)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ns.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ns.copy(this.direction).multiplyScalar(t).add(this.origin),Ns.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Rv.copy(e).add(t).multiplyScalar(.5),_p.copy(t).sub(e).normalize(),So.copy(this.origin).sub(Rv);const s=e.distanceTo(t)*.5,o=-this.direction.dot(_p),a=So.dot(this.direction),l=-So.dot(_p),u=So.lengthSq(),f=Math.abs(1-o*o);let d,p,m,g;if(f>0)if(d=o*l-a,p=o*a-l,g=s*f,d>=0)if(p>=-g)if(p<=g){const v=1/f;d*=v,p*=v,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+u}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p<=-g?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u):p<=g?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;return r&&r.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(_p).multiplyScalar(p).add(Rv),m}intersectSphere(e,t){Ns.subVectors(e.center,this.origin);const r=Ns.dot(this.direction),i=Ns.dot(Ns)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const u=1/this.direction.x,f=1/this.direction.y,d=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),f>=0?(s=(e.min.y-p.y)*f,o=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,o=(e.min.y-p.y)*f),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Ns)!==null}intersectTriangle(e,t,r,i,s){Lv.subVectors(t,e),xp.subVectors(r,e),Ov.crossVectors(Lv,xp);let o=this.direction.dot(Ov),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;So.subVectors(this.origin,e);const l=a*this.direction.dot(xp.crossVectors(So,xp));if(l<0)return null;const u=a*this.direction.dot(Lv.cross(So));if(u<0||l+u>o)return null;const f=-a*So.dot(Ov);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class yt{constructor(){yt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,u,f,d,p,m,g,v,y){const _=this.elements;return _[0]=e,_[4]=t,_[8]=r,_[12]=i,_[1]=s,_[5]=o,_[9]=a,_[13]=l,_[2]=u,_[6]=f,_[10]=d,_[14]=p,_[3]=m,_[7]=g,_[11]=v,_[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new yt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Jl.setFromMatrixColumn(e,0).length(),s=1/Jl.setFromMatrixColumn(e,1).length(),o=1/Jl.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),f=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*f,m=o*d,g=a*f,v=a*d;t[0]=l*f,t[4]=-l*d,t[8]=u,t[1]=m+g*u,t[5]=p-v*u,t[9]=-a*l,t[2]=v-p*u,t[6]=g+m*u,t[10]=o*l}else if(e.order==="YXZ"){const p=l*f,m=l*d,g=u*f,v=u*d;t[0]=p+v*a,t[4]=g*a-m,t[8]=o*u,t[1]=o*d,t[5]=o*f,t[9]=-a,t[2]=m*a-g,t[6]=v+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*f,m=l*d,g=u*f,v=u*d;t[0]=p-v*a,t[4]=-o*d,t[8]=g+m*a,t[1]=m+g*a,t[5]=o*f,t[9]=v-p*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*f,m=o*d,g=a*f,v=a*d;t[0]=l*f,t[4]=g*u-m,t[8]=p*u+v,t[1]=l*d,t[5]=v*u+p,t[9]=m*u-g,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,g=a*l,v=a*u;t[0]=l*f,t[4]=v-p*d,t[8]=g*d+m,t[1]=d,t[5]=o*f,t[9]=-a*f,t[2]=-u*f,t[6]=m*d+g,t[10]=p-v*d}else if(e.order==="XZY"){const p=o*l,m=o*u,g=a*l,v=a*u;t[0]=l*f,t[4]=-d,t[8]=u*f,t[1]=p*d+v,t[5]=o*f,t[9]=m*d-g,t[2]=g*d-m,t[6]=a*f,t[10]=v*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(j5,e,$5)}lookAt(e,t,r){const i=this.elements;return Xr.subVectors(e,t),Xr.lengthSq()===0&&(Xr.z=1),Xr.normalize(),bo.crossVectors(r,Xr),bo.lengthSq()===0&&(Math.abs(r.z)===1?Xr.x+=1e-4:Xr.z+=1e-4,Xr.normalize(),bo.crossVectors(r,Xr)),bo.normalize(),wp.crossVectors(Xr,bo),i[0]=bo.x,i[4]=wp.x,i[8]=Xr.x,i[1]=bo.y,i[5]=wp.y,i[9]=Xr.y,i[2]=bo.z,i[6]=wp.z,i[10]=Xr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],f=r[1],d=r[5],p=r[9],m=r[13],g=r[2],v=r[6],y=r[10],_=r[14],x=r[3],w=r[7],b=r[11],A=r[15],E=i[0],C=i[4],M=i[8],I=i[12],P=i[1],R=i[5],O=i[9],F=i[13],H=i[2],$=i[6],X=i[10],j=i[14],D=i[3],q=i[7],B=i[11],G=i[15];return s[0]=o*E+a*P+l*H+u*D,s[4]=o*C+a*R+l*$+u*q,s[8]=o*M+a*O+l*X+u*B,s[12]=o*I+a*F+l*j+u*G,s[1]=f*E+d*P+p*H+m*D,s[5]=f*C+d*R+p*$+m*q,s[9]=f*M+d*O+p*X+m*B,s[13]=f*I+d*F+p*j+m*G,s[2]=g*E+v*P+y*H+_*D,s[6]=g*C+v*R+y*$+_*q,s[10]=g*M+v*O+y*X+_*B,s[14]=g*I+v*F+y*j+_*G,s[3]=x*E+w*P+b*H+A*D,s[7]=x*C+w*R+b*$+A*q,s[11]=x*M+w*O+b*X+A*B,s[15]=x*I+w*F+b*j+A*G,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],f=e[2],d=e[6],p=e[10],m=e[14],g=e[3],v=e[7],y=e[11],_=e[15];return g*(+s*l*d-i*u*d-s*a*p+r*u*p+i*a*m-r*l*m)+v*(+t*l*m-t*u*p+s*o*p-i*o*m+i*u*f-s*l*f)+y*(+t*u*d-t*a*m-s*o*d+r*o*m+s*a*f-r*u*f)+_*(-i*a*f-t*l*d+t*a*p+i*o*d-r*o*p+r*l*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],d=e[9],p=e[10],m=e[11],g=e[12],v=e[13],y=e[14],_=e[15],x=d*y*u-v*p*u+v*l*m-a*y*m-d*l*_+a*p*_,w=g*p*u-f*y*u-g*l*m+o*y*m+f*l*_-o*p*_,b=f*v*u-g*d*u+g*a*m-o*v*m-f*a*_+o*d*_,A=g*d*l-f*v*l-g*a*p+o*v*p+f*a*y-o*d*y,E=t*x+r*w+i*b+s*A;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/E;return e[0]=x*C,e[1]=(v*p*s-d*y*s-v*i*m+r*y*m+d*i*_-r*p*_)*C,e[2]=(a*y*s-v*l*s+v*i*u-r*y*u-a*i*_+r*l*_)*C,e[3]=(d*l*s-a*p*s-d*i*u+r*p*u+a*i*m-r*l*m)*C,e[4]=w*C,e[5]=(f*y*s-g*p*s+g*i*m-t*y*m-f*i*_+t*p*_)*C,e[6]=(g*l*s-o*y*s-g*i*u+t*y*u+o*i*_-t*l*_)*C,e[7]=(o*p*s-f*l*s+f*i*u-t*p*u-o*i*m+t*l*m)*C,e[8]=b*C,e[9]=(g*d*s-f*v*s-g*r*m+t*v*m+f*r*_-t*d*_)*C,e[10]=(o*v*s-g*a*s+g*r*u-t*v*u-o*r*_+t*a*_)*C,e[11]=(f*a*s-o*d*s-f*r*u+t*d*u+o*r*m-t*a*m)*C,e[12]=A*C,e[13]=(f*v*i-g*d*i+g*r*p-t*v*p-f*r*y+t*d*y)*C,e[14]=(g*a*i-o*v*i-g*r*l+t*v*l+o*r*y-t*a*y)*C,e[15]=(o*d*i-f*a*i+f*r*l-t*d*l-o*r*p+t*a*p)*C,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,f=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,f*a+r,f*l-i*o,0,u*l-i*a,f*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,f=o+o,d=a+a,p=s*u,m=s*f,g=s*d,v=o*f,y=o*d,_=a*d,x=l*u,w=l*f,b=l*d,A=r.x,E=r.y,C=r.z;return i[0]=(1-(v+_))*A,i[1]=(m+b)*A,i[2]=(g-w)*A,i[3]=0,i[4]=(m-b)*E,i[5]=(1-(p+_))*E,i[6]=(y+x)*E,i[7]=0,i[8]=(g+w)*C,i[9]=(y-x)*C,i[10]=(1-(p+v))*C,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Jl.set(i[0],i[1],i[2]).length();const o=Jl.set(i[4],i[5],i[6]).length(),a=Jl.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Ni.copy(this);const u=1/s,f=1/o,d=1/a;return Ni.elements[0]*=u,Ni.elements[1]*=u,Ni.elements[2]*=u,Ni.elements[4]*=f,Ni.elements[5]*=f,Ni.elements[6]*=f,Ni.elements[8]*=d,Ni.elements[9]*=d,Ni.elements[10]*=d,t.setFromRotationMatrix(Ni),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),u=2*s/(r-i),f=(t+e)/(t-e),d=(r+i)/(r-i),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=f,a[12]=0,a[1]=0,a[5]=u,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),u=1/(r-i),f=1/(o-s),d=(t+e)*l,p=(r+i)*u,m=(o+s)*f;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*f,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Jl=new Q,Ni=new yt,j5=new Q(0,0,0),$5=new Q(1,1,1),bo=new Q,wp=new Q,Xr=new Q,kE=new yt,DE=new xr;class fc{constructor(e=0,t=0,r=0,i=fc.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],f=i[9],d=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(An(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-An(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(An(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-An(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(An(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-An(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return kE.makeRotationFromQuaternion(e),this.setFromRotationMatrix(kE,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return DE.setFromEuler(this),this.setFromQuaternion(DE,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}fc.DefaultOrder="XYZ";fc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class ol{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let q5=0;const NE=new Q,Zl=new xr,Fs=new yt,Sp=new Q,Kc=new Q,X5=new Q,Y5=new xr,FE=new Q(1,0,0),zE=new Q(0,1,0),BE=new Q(0,0,1),J5={type:"added"},UE={type:"removed"};class Ut extends bs{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:q5++}),this.uuid=ti(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ut.DefaultUp.clone();const e=new Q,t=new fc,r=new xr,i=new Q(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new yt},normalMatrix:{value:new Tn}}),this.matrix=new yt,this.matrixWorld=new yt,this.matrixAutoUpdate=Ut.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Ut.DefaultMatrixWorldAutoUpdate,this.layers=new ol,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Zl.setFromAxisAngle(e,t),this.quaternion.multiply(Zl),this}rotateOnWorldAxis(e,t){return Zl.setFromAxisAngle(e,t),this.quaternion.premultiply(Zl),this}rotateX(e){return this.rotateOnAxis(FE,e)}rotateY(e){return this.rotateOnAxis(zE,e)}rotateZ(e){return this.rotateOnAxis(BE,e)}translateOnAxis(e,t){return NE.copy(e).applyQuaternion(this.quaternion),this.position.add(NE.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(FE,e)}translateY(e){return this.translateOnAxis(zE,e)}translateZ(e){return this.translateOnAxis(BE,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Fs.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Sp.copy(e):Sp.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Kc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Fs.lookAt(Kc,Sp,this.up):Fs.lookAt(Sp,Kc,this.up),this.quaternion.setFromRotationMatrix(Fs),i&&(Fs.extractRotation(i.matrixWorld),Zl.setFromRotationMatrix(Fs),this.quaternion.premultiply(Zl.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(J5)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(UE)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(UE)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Fs.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Fs.multiply(e.parent.matrixWorld)),e.applyMatrix4(Fs),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Kc,e,X5),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Kc,Y5,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,f=l.length;u<f;u++){const d=l[u];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),f=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),f.length>0&&(r.images=f),d.length>0&&(r.shapes=d),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const u in a){const f=a[u];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Ut.DefaultUp=new Q(0,1,0);Ut.DefaultMatrixAutoUpdate=!0;Ut.DefaultMatrixWorldAutoUpdate=!0;const Fi=new Q,zs=new Q,kv=new Q,Bs=new Q,Ql=new Q,Kl=new Q,HE=new Q,Dv=new Q,Nv=new Q,Fv=new Q;class Mi{constructor(e=new Q,t=new Q,r=new Q){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Fi.subVectors(e,t),i.cross(Fi);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Fi.subVectors(i,t),zs.subVectors(r,t),kv.subVectors(e,t);const o=Fi.dot(Fi),a=Fi.dot(zs),l=Fi.dot(kv),u=zs.dot(zs),f=zs.dot(kv),d=o*u-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,m=(u*l-a*f)*p,g=(o*f-a*l)*p;return s.set(1-m-g,g,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Bs),Bs.x>=0&&Bs.y>=0&&Bs.x+Bs.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,Bs),l.set(0,0),l.addScaledVector(s,Bs.x),l.addScaledVector(o,Bs.y),l.addScaledVector(a,Bs.z),l}static isFrontFacing(e,t,r,i){return Fi.subVectors(r,t),zs.subVectors(e,t),Fi.cross(zs).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Fi.subVectors(this.c,this.b),zs.subVectors(this.a,this.b),Fi.cross(zs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Mi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Mi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return Mi.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Mi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Mi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Ql.subVectors(i,r),Kl.subVectors(s,r),Dv.subVectors(e,r);const l=Ql.dot(Dv),u=Kl.dot(Dv);if(l<=0&&u<=0)return t.copy(r);Nv.subVectors(e,i);const f=Ql.dot(Nv),d=Kl.dot(Nv);if(f>=0&&d<=f)return t.copy(i);const p=l*d-f*u;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),t.copy(r).addScaledVector(Ql,o);Fv.subVectors(e,s);const m=Ql.dot(Fv),g=Kl.dot(Fv);if(g>=0&&m<=g)return t.copy(s);const v=m*u-l*g;if(v<=0&&u>=0&&g<=0)return a=u/(u-g),t.copy(r).addScaledVector(Kl,a);const y=f*g-m*d;if(y<=0&&d-f>=0&&m-g>=0)return HE.subVectors(s,i),a=(d-f)/(d-f+(m-g)),t.copy(i).addScaledVector(HE,a);const _=1/(y+v+p);return o=v*_,a=p*_,t.copy(r).addScaledVector(Ql,o).addScaledVector(Kl,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Z5=0;class or extends bs{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Z5++}),this.uuid=ti(),this.name="",this.type="Material",this.blending=nl,this.side=pl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=dS,this.blendDst=pS,this.blendEquation=Wa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=pg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=LI,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Dm,this.stencilZFail=Dm,this.stencilZPass=Dm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==nl&&(r.blending=this.blending),this.side!==pl&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class pa extends or{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ye(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Lh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Rn=new Q,bp=new be;class Tt{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=th,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)bp.fromBufferAttribute(this,t),bp.applyMatrix3(e),this.setXY(t,bp.x,bp.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Rn.fromBufferAttribute(this,t),Rn.applyMatrix3(e),this.setXYZ(t,Rn.x,Rn.y,Rn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Rn.fromBufferAttribute(this,t),Rn.applyMatrix4(e),this.setXYZ(t,Rn.x,Rn.y,Rn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Rn.fromBufferAttribute(this,t),Rn.applyNormalMatrix(e),this.setXYZ(t,Rn.x,Rn.y,Rn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Rn.fromBufferAttribute(this,t),Rn.transformDirection(e),this.setXYZ(t,Rn.x,Rn.y,Rn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Xs(t,this.array)),t}setX(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Xs(t,this.array)),t}setY(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Xs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Xs(t,this.array)),t}setW(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Kt(t,this.array),r=Kt(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Kt(t,this.array),r=Kt(r,this.array),i=Kt(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Kt(t,this.array),r=Kt(r,this.array),i=Kt(i,this.array),s=Kt(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==th&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Q5 extends Tt{constructor(e,t,r){super(new Int8Array(e),t,r)}}class K5 extends Tt{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class ez extends Tt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class tz extends Tt{constructor(e,t,r){super(new Int16Array(e),t,r)}}class wS extends Tt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class nz extends Tt{constructor(e,t,r){super(new Int32Array(e),t,r)}}class SS extends Tt{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class rz extends Tt{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class Qe extends Tt{constructor(e,t,r){super(new Float32Array(e),t,r)}}class iz extends Tt{constructor(e,t,r){super(new Float64Array(e),t,r)}}let sz=0;const vi=new yt,zv=new Ut,eu=new Q,Yr=new da,ef=new da,qn=new Q;class ft extends bs{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:sz++}),this.uuid=ti(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(kI(e)?SS:wS)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Tn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return vi.makeRotationFromQuaternion(e),this.applyMatrix4(vi),this}rotateX(e){return vi.makeRotationX(e),this.applyMatrix4(vi),this}rotateY(e){return vi.makeRotationY(e),this.applyMatrix4(vi),this}rotateZ(e){return vi.makeRotationZ(e),this.applyMatrix4(vi),this}translate(e,t,r){return vi.makeTranslation(e,t,r),this.applyMatrix4(vi),this}scale(e,t,r){return vi.makeScale(e,t,r),this.applyMatrix4(vi),this}lookAt(e){return zv.lookAt(e),zv.updateMatrix(),this.applyMatrix4(zv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(eu).negate(),this.translate(eu.x,eu.y,eu.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Qe(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new da);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Q(-1/0,-1/0,-1/0),new Q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Yr.setFromBufferAttribute(s),this.morphTargetsRelative?(qn.addVectors(this.boundingBox.min,Yr.min),this.boundingBox.expandByPoint(qn),qn.addVectors(this.boundingBox.max,Yr.max),this.boundingBox.expandByPoint(qn)):(this.boundingBox.expandByPoint(Yr.min),this.boundingBox.expandByPoint(Yr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new bl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Q,1/0);return}if(e){const r=this.boundingSphere.center;if(Yr.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];ef.setFromBufferAttribute(a),this.morphTargetsRelative?(qn.addVectors(Yr.min,ef.min),Yr.expandByPoint(qn),qn.addVectors(Yr.max,ef.max),Yr.expandByPoint(qn)):(Yr.expandByPoint(ef.min),Yr.expandByPoint(ef.max))}Yr.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)qn.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(qn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,f=a.count;u<f;u++)qn.fromBufferAttribute(a,u),l&&(eu.fromBufferAttribute(e,u),qn.add(eu)),i=Math.max(i,r.distanceToSquared(qn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Tt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],f=[];for(let P=0;P<a;P++)u[P]=new Q,f[P]=new Q;const d=new Q,p=new Q,m=new Q,g=new be,v=new be,y=new be,_=new Q,x=new Q;function w(P,R,O){d.fromArray(i,P*3),p.fromArray(i,R*3),m.fromArray(i,O*3),g.fromArray(o,P*2),v.fromArray(o,R*2),y.fromArray(o,O*2),p.sub(d),m.sub(d),v.sub(g),y.sub(g);const F=1/(v.x*y.y-y.x*v.y);isFinite(F)&&(_.copy(p).multiplyScalar(y.y).addScaledVector(m,-v.y).multiplyScalar(F),x.copy(m).multiplyScalar(v.x).addScaledVector(p,-y.x).multiplyScalar(F),u[P].add(_),u[R].add(_),u[O].add(_),f[P].add(x),f[R].add(x),f[O].add(x))}let b=this.groups;b.length===0&&(b=[{start:0,count:r.length}]);for(let P=0,R=b.length;P<R;++P){const O=b[P],F=O.start,H=O.count;for(let $=F,X=F+H;$<X;$+=3)w(r[$+0],r[$+1],r[$+2])}const A=new Q,E=new Q,C=new Q,M=new Q;function I(P){C.fromArray(s,P*3),M.copy(C);const R=u[P];A.copy(R),A.sub(C.multiplyScalar(C.dot(R))).normalize(),E.crossVectors(M,R);const F=E.dot(f[P])<0?-1:1;l[P*4]=A.x,l[P*4+1]=A.y,l[P*4+2]=A.z,l[P*4+3]=F}for(let P=0,R=b.length;P<R;++P){const O=b[P],F=O.start,H=O.count;for(let $=F,X=F+H;$<X;$+=3)I(r[$+0]),I(r[$+1]),I(r[$+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Tt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new Q,s=new Q,o=new Q,a=new Q,l=new Q,u=new Q,f=new Q,d=new Q;if(e)for(let p=0,m=e.count;p<m;p+=3){const g=e.getX(p+0),v=e.getX(p+1),y=e.getX(p+2);i.fromBufferAttribute(t,g),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,y),f.subVectors(o,s),d.subVectors(i,s),f.cross(d),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),u.fromBufferAttribute(r,y),a.add(f),l.add(f),u.add(f),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),f.subVectors(o,s),d.subVectors(i,s),f.cross(d),r.setXYZ(p+0,f.x,f.y,f.z),r.setXYZ(p+1,f.x,f.y,f.z),r.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)qn.fromBufferAttribute(e,t),qn.normalize(),e.setXYZ(t,qn.x,qn.y,qn.z)}toNonIndexed(){function e(a,l){const u=a.array,f=a.itemSize,d=a.normalized,p=new u.constructor(l.length*f);let m=0,g=0;for(let v=0,y=l.length;v<y;v++){a.isInterleavedBufferAttribute?m=l[v]*a.data.stride+a.offset:m=l[v]*f;for(let _=0;_<f;_++)p[g++]=u[m++]}return new Tt(p,f,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ft,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let f=0,d=u.length;f<d;f++){const p=u[f],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],f=[];for(let d=0,p=u.length;d<p;d++){const m=u[d];f.push(m.toJSON(e.data))}f.length>0&&(i[l]=f,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const f=i[u];this.setAttribute(u,f.clone(t))}const s=e.morphAttributes;for(const u in s){const f=[],d=s[u];for(let p=0,m=d.length;p<m;p++)f.push(d[p].clone(t));this.morphAttributes[u]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,f=o.length;u<f;u++){const d=o[u];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const VE=new yt,tu=new kh,Bv=new bl,Mo=new Q,Eo=new Q,Co=new Q,Uv=new Q,Hv=new Q,Vv=new Q,Mp=new Q,Ep=new Q,Cp=new Q,Ap=new be,Tp=new be,Pp=new be,Wv=new Q,Ip=new Q;class rr extends Ut{constructor(e=new ft,t=new pa){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),Bv.copy(r.boundingSphere),Bv.applyMatrix4(s),e.ray.intersectsSphere(Bv)===!1)||(VE.copy(s).invert(),tu.copy(e.ray).applyMatrix4(VE),r.boundingBox!==null&&tu.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,u=r.morphAttributes.position,f=r.morphTargetsRelative,d=r.attributes.uv,p=r.attributes.uv2,m=r.groups,g=r.drawRange;if(a!==null)if(Array.isArray(i))for(let v=0,y=m.length;v<y;v++){const _=m[v],x=i[_.materialIndex],w=Math.max(_.start,g.start),b=Math.min(a.count,Math.min(_.start+_.count,g.start+g.count));for(let A=w,E=b;A<E;A+=3){const C=a.getX(A),M=a.getX(A+1),I=a.getX(A+2);o=Rp(this,x,e,tu,l,u,f,d,p,C,M,I),o&&(o.faceIndex=Math.floor(A/3),o.face.materialIndex=_.materialIndex,t.push(o))}}else{const v=Math.max(0,g.start),y=Math.min(a.count,g.start+g.count);for(let _=v,x=y;_<x;_+=3){const w=a.getX(_),b=a.getX(_+1),A=a.getX(_+2);o=Rp(this,i,e,tu,l,u,f,d,p,w,b,A),o&&(o.faceIndex=Math.floor(_/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let v=0,y=m.length;v<y;v++){const _=m[v],x=i[_.materialIndex],w=Math.max(_.start,g.start),b=Math.min(l.count,Math.min(_.start+_.count,g.start+g.count));for(let A=w,E=b;A<E;A+=3){const C=A,M=A+1,I=A+2;o=Rp(this,x,e,tu,l,u,f,d,p,C,M,I),o&&(o.faceIndex=Math.floor(A/3),o.face.materialIndex=_.materialIndex,t.push(o))}}else{const v=Math.max(0,g.start),y=Math.min(l.count,g.start+g.count);for(let _=v,x=y;_<x;_+=3){const w=_,b=_+1,A=_+2;o=Rp(this,i,e,tu,l,u,f,d,p,w,b,A),o&&(o.faceIndex=Math.floor(_/3),t.push(o))}}}}function oz(n,e,t,r,i,s,o,a){let l;if(e.side===ei?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==ji,a),l===null)return null;Ip.copy(a),Ip.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(Ip);return u<t.near||u>t.far?null:{distance:u,point:Ip.clone(),object:n}}function Rp(n,e,t,r,i,s,o,a,l,u,f,d){Mo.fromBufferAttribute(i,u),Eo.fromBufferAttribute(i,f),Co.fromBufferAttribute(i,d);const p=n.morphTargetInfluences;if(s&&p){Mp.set(0,0,0),Ep.set(0,0,0),Cp.set(0,0,0);for(let g=0,v=s.length;g<v;g++){const y=p[g],_=s[g];y!==0&&(Uv.fromBufferAttribute(_,u),Hv.fromBufferAttribute(_,f),Vv.fromBufferAttribute(_,d),o?(Mp.addScaledVector(Uv,y),Ep.addScaledVector(Hv,y),Cp.addScaledVector(Vv,y)):(Mp.addScaledVector(Uv.sub(Mo),y),Ep.addScaledVector(Hv.sub(Eo),y),Cp.addScaledVector(Vv.sub(Co),y)))}Mo.add(Mp),Eo.add(Ep),Co.add(Cp)}n.isSkinnedMesh&&(n.boneTransform(u,Mo),n.boneTransform(f,Eo),n.boneTransform(d,Co));const m=oz(n,e,t,r,Mo,Eo,Co,Wv);if(m){a&&(Ap.fromBufferAttribute(a,u),Tp.fromBufferAttribute(a,f),Pp.fromBufferAttribute(a,d),m.uv=Mi.getUV(Wv,Mo,Eo,Co,Ap,Tp,Pp,new be)),l&&(Ap.fromBufferAttribute(l,u),Tp.fromBufferAttribute(l,f),Pp.fromBufferAttribute(l,d),m.uv2=Mi.getUV(Wv,Mo,Eo,Co,Ap,Tp,Pp,new be));const g={a:u,b:f,c:d,normal:new Q,materialIndex:0};Mi.getNormal(Mo,Eo,Co,g.normal),m.face=g}return m}class ma extends ft{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],f=[],d=[];let p=0,m=0;g("z","y","x",-1,-1,r,t,e,o,s,0),g("z","y","x",1,-1,r,t,-e,o,s,1),g("x","z","y",1,1,e,r,t,i,o,2),g("x","z","y",1,-1,e,r,-t,i,o,3),g("x","y","z",1,-1,e,t,r,i,s,4),g("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Qe(u,3)),this.setAttribute("normal",new Qe(f,3)),this.setAttribute("uv",new Qe(d,2));function g(v,y,_,x,w,b,A,E,C,M,I){const P=b/C,R=A/M,O=b/2,F=A/2,H=E/2,$=C+1,X=M+1;let j=0,D=0;const q=new Q;for(let B=0;B<X;B++){const G=B*R-F;for(let N=0;N<$;N++){const U=N*P-O;q[v]=U*x,q[y]=G*w,q[_]=H,u.push(q.x,q.y,q.z),q[v]=0,q[y]=0,q[_]=E>0?1:-1,f.push(q.x,q.y,q.z),d.push(N/C),d.push(1-B/M),j+=1}}for(let B=0;B<M;B++)for(let G=0;G<C;G++){const N=p+G+$*B,U=p+G+$*(B+1),k=p+(G+1)+$*(B+1),W=p+(G+1)+$*B;l.push(N,U,W),l.push(U,k,W),D+=6}a.addGroup(m,D,I),m+=D,p+=j}}static fromJSON(e){return new ma(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ec(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Cr(n){const e={};for(let t=0;t<n.length;t++){const r=ec(n[t]);for(const i in r)e[i]=r[i]}return e}function az(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function NI(n){return n.getRenderTarget()===null&&n.outputEncoding===tn?Ui:Ku}const FI={clone:ec,merge:Cr};var lz=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,uz=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Qi extends or{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=lz,this.fragmentShader=uz,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ec(e.uniforms),this.uniformsGroups=az(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Dh extends Ut{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new yt,this.projectionMatrix=new yt,this.projectionMatrixInverse=new yt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let nn=class extends Dh{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=nh*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(il*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return nh*2*Math.atan(Math.tan(il*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(il*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const nu=-90,ru=1;class zI extends Ut{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new nn(nu,ru,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new nn(nu,ru,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new nn(nu,ru,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new nn(nu,ru,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new nn(nu,ru,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const u=new nn(nu,ru,e,t);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,f=e.getRenderTarget(),d=e.toneMapping,p=e.xr.enabled;e.toneMapping=Xi,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(f),e.toneMapping=d,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class Nh extends bn{constructor(e,t,r,i,s,o,a,l,u,f){e=e!==void 0?e:[],t=t!==void 0?t:sa,super(e,t,r,i,s,o,a,l,u,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class BI extends ri{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Nh(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:pn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new ma(5,5,5),s=new Qi({name:"CubemapFromEquirect",uniforms:ec(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ei,blending:Qs});s.uniforms.tEquirect.value=t;const o=new rr(i,s),a=t.minFilter;return t.minFilter===Sl&&(t.minFilter=pn),new zI(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const Gv=new Q,cz=new Q,fz=new Tn;class Lo{constructor(e=new Q(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=Gv.subVectors(r,t).cross(cz.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(Gv),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||fz.getNormalMatrix(e),i=this.coplanarPoint(Gv).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const iu=new bl,Lp=new Q;class w0{constructor(e=new Lo,t=new Lo,r=new Lo,i=new Lo,s=new Lo,o=new Lo){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],f=r[6],d=r[7],p=r[8],m=r[9],g=r[10],v=r[11],y=r[12],_=r[13],x=r[14],w=r[15];return t[0].setComponents(a-i,d-l,v-p,w-y).normalize(),t[1].setComponents(a+i,d+l,v+p,w+y).normalize(),t[2].setComponents(a+s,d+u,v+m,w+_).normalize(),t[3].setComponents(a-s,d-u,v-m,w-_).normalize(),t[4].setComponents(a-o,d-f,v-g,w-x).normalize(),t[5].setComponents(a+o,d+f,v+g,w+x).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),iu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(iu)}intersectsSprite(e){return iu.center.set(0,0,0),iu.radius=.7071067811865476,iu.applyMatrix4(e.matrixWorld),this.intersectsSphere(iu)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Lp.x=i.normal.x>0?e.max.x:e.min.x,Lp.y=i.normal.y>0?e.max.y:e.min.y,Lp.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Lp)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function UI(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function hz(n,e){const t=e.isWebGL2,r=new WeakMap;function i(u,f){const d=u.array,p=u.usage,m=n.createBuffer();n.bindBuffer(f,m),n.bufferData(f,d,p),u.onUploadCallback();let g;if(d instanceof Float32Array)g=5126;else if(d instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(d instanceof Int16Array)g=5122;else if(d instanceof Uint32Array)g=5125;else if(d instanceof Int32Array)g=5124;else if(d instanceof Int8Array)g=5120;else if(d instanceof Uint8Array)g=5121;else if(d instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version}}function s(u,f,d){const p=f.array,m=f.updateRange;n.bindBuffer(d,u),m.count===-1?n.bufferSubData(d,0,p):(t?n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),f.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f&&(n.deleteBuffer(f.buffer),r.delete(u))}function l(u,f){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const d=r.get(u);d===void 0?r.set(u,i(u,f)):d.version<u.version&&(s(d.buffer,u,f),d.version=u.version)}return{get:o,remove:a,update:l}}class Ml extends ft{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),u=a+1,f=l+1,d=e/a,p=t/l,m=[],g=[],v=[],y=[];for(let _=0;_<f;_++){const x=_*p-o;for(let w=0;w<u;w++){const b=w*d-s;g.push(b,-x,0),v.push(0,0,1),y.push(w/a),y.push(1-_/l)}}for(let _=0;_<l;_++)for(let x=0;x<a;x++){const w=x+u*_,b=x+u*(_+1),A=x+1+u*(_+1),E=x+1+u*_;m.push(w,b,E),m.push(b,A,E)}this.setIndex(m),this.setAttribute("position",new Qe(g,3)),this.setAttribute("normal",new Qe(v,3)),this.setAttribute("uv",new Qe(y,2))}static fromJSON(e){return new Ml(e.width,e.height,e.widthSegments,e.heightSegments)}}var dz=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,pz=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,mz=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,gz=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,yz=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,vz=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,_z="vec3 transformed = vec3( position );",xz=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,wz=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,Sz=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bz=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Mz=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Ez=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Cz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Az=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Tz=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Pz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Iz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Rz=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Lz=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Oz=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,kz=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Dz=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Nz=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Fz=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,zz=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Bz="gl_FragColor = linearToOutputTexel( gl_FragColor );",Uz=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Hz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Vz=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Wz=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Gz=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,jz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,$z=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,qz=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Xz=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Yz=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Jz=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Zz=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Qz=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Kz=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,eB=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,tB=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,nB=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,rB=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,iB=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,sB=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,oB=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,aB=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lB=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,uB=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,cB=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,fB=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,hB=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,dB=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,pB=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,mB=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,gB=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,yB=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,vB=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,_B=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,xB=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,wB=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,SB=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,bB=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,MB=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,EB=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,CB=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,AB=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,TB=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,PB=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,IB=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,RB=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,LB=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,OB=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,kB=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,DB=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,NB=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,FB=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,zB=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,BB=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,UB=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,HB=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,VB=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,WB=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,GB=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,jB=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,$B=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,qB=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,XB=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,YB=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,JB=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,ZB=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,QB=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,KB=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,e6=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,t6=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,n6=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,r6=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,i6=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,s6=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,o6=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,a6=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,l6=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,u6=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,c6=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const f6=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,h6=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,d6=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,p6=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,m6=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,g6=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,y6=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,v6=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,_6=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,x6=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,w6=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,S6=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,b6=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,M6=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,E6=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,C6=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,A6=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,T6=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,P6=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,I6=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,R6=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,L6=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,O6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,k6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,D6=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,N6=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,F6=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,z6=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,B6=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,U6=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,H6=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,V6=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,W6=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,G6=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Mt={alphamap_fragment:dz,alphamap_pars_fragment:pz,alphatest_fragment:mz,alphatest_pars_fragment:gz,aomap_fragment:yz,aomap_pars_fragment:vz,begin_vertex:_z,beginnormal_vertex:xz,bsdfs:wz,iridescence_fragment:Sz,bumpmap_pars_fragment:bz,clipping_planes_fragment:Mz,clipping_planes_pars_fragment:Ez,clipping_planes_pars_vertex:Cz,clipping_planes_vertex:Az,color_fragment:Tz,color_pars_fragment:Pz,color_pars_vertex:Iz,color_vertex:Rz,common:Lz,cube_uv_reflection_fragment:Oz,defaultnormal_vertex:kz,displacementmap_pars_vertex:Dz,displacementmap_vertex:Nz,emissivemap_fragment:Fz,emissivemap_pars_fragment:zz,encodings_fragment:Bz,encodings_pars_fragment:Uz,envmap_fragment:Hz,envmap_common_pars_fragment:Vz,envmap_pars_fragment:Wz,envmap_pars_vertex:Gz,envmap_physical_pars_fragment:nB,envmap_vertex:jz,fog_vertex:$z,fog_pars_vertex:qz,fog_fragment:Xz,fog_pars_fragment:Yz,gradientmap_pars_fragment:Jz,lightmap_fragment:Zz,lightmap_pars_fragment:Qz,lights_lambert_fragment:Kz,lights_lambert_pars_fragment:eB,lights_pars_begin:tB,lights_toon_fragment:rB,lights_toon_pars_fragment:iB,lights_phong_fragment:sB,lights_phong_pars_fragment:oB,lights_physical_fragment:aB,lights_physical_pars_fragment:lB,lights_fragment_begin:uB,lights_fragment_maps:cB,lights_fragment_end:fB,logdepthbuf_fragment:hB,logdepthbuf_pars_fragment:dB,logdepthbuf_pars_vertex:pB,logdepthbuf_vertex:mB,map_fragment:gB,map_pars_fragment:yB,map_particle_fragment:vB,map_particle_pars_fragment:_B,metalnessmap_fragment:xB,metalnessmap_pars_fragment:wB,morphcolor_vertex:SB,morphnormal_vertex:bB,morphtarget_pars_vertex:MB,morphtarget_vertex:EB,normal_fragment_begin:CB,normal_fragment_maps:AB,normal_pars_fragment:TB,normal_pars_vertex:PB,normal_vertex:IB,normalmap_pars_fragment:RB,clearcoat_normal_fragment_begin:LB,clearcoat_normal_fragment_maps:OB,clearcoat_pars_fragment:kB,iridescence_pars_fragment:DB,output_fragment:NB,packing:FB,premultiplied_alpha_fragment:zB,project_vertex:BB,dithering_fragment:UB,dithering_pars_fragment:HB,roughnessmap_fragment:VB,roughnessmap_pars_fragment:WB,shadowmap_pars_fragment:GB,shadowmap_pars_vertex:jB,shadowmap_vertex:$B,shadowmask_pars_fragment:qB,skinbase_vertex:XB,skinning_pars_vertex:YB,skinning_vertex:JB,skinnormal_vertex:ZB,specularmap_fragment:QB,specularmap_pars_fragment:KB,tonemapping_fragment:e6,tonemapping_pars_fragment:t6,transmission_fragment:n6,transmission_pars_fragment:r6,uv_pars_fragment:i6,uv_pars_vertex:s6,uv_vertex:o6,uv2_pars_fragment:a6,uv2_pars_vertex:l6,uv2_vertex:u6,worldpos_vertex:c6,background_vert:f6,background_frag:h6,backgroundCube_vert:d6,backgroundCube_frag:p6,cube_vert:m6,cube_frag:g6,depth_vert:y6,depth_frag:v6,distanceRGBA_vert:_6,distanceRGBA_frag:x6,equirect_vert:w6,equirect_frag:S6,linedashed_vert:b6,linedashed_frag:M6,meshbasic_vert:E6,meshbasic_frag:C6,meshlambert_vert:A6,meshlambert_frag:T6,meshmatcap_vert:P6,meshmatcap_frag:I6,meshnormal_vert:R6,meshnormal_frag:L6,meshphong_vert:O6,meshphong_frag:k6,meshphysical_vert:D6,meshphysical_frag:N6,meshtoon_vert:F6,meshtoon_frag:z6,points_vert:B6,points_frag:U6,shadow_vert:H6,shadow_frag:V6,sprite_vert:W6,sprite_frag:G6},je={common:{diffuse:{value:new Ye(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Tn},uv2Transform:{value:new Tn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new be(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ye(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ye(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Tn}},sprite:{diffuse:{value:new Ye(16777215)},opacity:{value:1},center:{value:new be(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Tn}}},Vi={basic:{uniforms:Cr([je.common,je.specularmap,je.envmap,je.aomap,je.lightmap,je.fog]),vertexShader:Mt.meshbasic_vert,fragmentShader:Mt.meshbasic_frag},lambert:{uniforms:Cr([je.common,je.specularmap,je.envmap,je.aomap,je.lightmap,je.emissivemap,je.bumpmap,je.normalmap,je.displacementmap,je.fog,je.lights,{emissive:{value:new Ye(0)}}]),vertexShader:Mt.meshlambert_vert,fragmentShader:Mt.meshlambert_frag},phong:{uniforms:Cr([je.common,je.specularmap,je.envmap,je.aomap,je.lightmap,je.emissivemap,je.bumpmap,je.normalmap,je.displacementmap,je.fog,je.lights,{emissive:{value:new Ye(0)},specular:{value:new Ye(1118481)},shininess:{value:30}}]),vertexShader:Mt.meshphong_vert,fragmentShader:Mt.meshphong_frag},standard:{uniforms:Cr([je.common,je.envmap,je.aomap,je.lightmap,je.emissivemap,je.bumpmap,je.normalmap,je.displacementmap,je.roughnessmap,je.metalnessmap,je.fog,je.lights,{emissive:{value:new Ye(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag},toon:{uniforms:Cr([je.common,je.aomap,je.lightmap,je.emissivemap,je.bumpmap,je.normalmap,je.displacementmap,je.gradientmap,je.fog,je.lights,{emissive:{value:new Ye(0)}}]),vertexShader:Mt.meshtoon_vert,fragmentShader:Mt.meshtoon_frag},matcap:{uniforms:Cr([je.common,je.bumpmap,je.normalmap,je.displacementmap,je.fog,{matcap:{value:null}}]),vertexShader:Mt.meshmatcap_vert,fragmentShader:Mt.meshmatcap_frag},points:{uniforms:Cr([je.points,je.fog]),vertexShader:Mt.points_vert,fragmentShader:Mt.points_frag},dashed:{uniforms:Cr([je.common,je.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mt.linedashed_vert,fragmentShader:Mt.linedashed_frag},depth:{uniforms:Cr([je.common,je.displacementmap]),vertexShader:Mt.depth_vert,fragmentShader:Mt.depth_frag},normal:{uniforms:Cr([je.common,je.bumpmap,je.normalmap,je.displacementmap,{opacity:{value:1}}]),vertexShader:Mt.meshnormal_vert,fragmentShader:Mt.meshnormal_frag},sprite:{uniforms:Cr([je.sprite,je.fog]),vertexShader:Mt.sprite_vert,fragmentShader:Mt.sprite_frag},background:{uniforms:{uvTransform:{value:new Tn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Mt.background_vert,fragmentShader:Mt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Mt.backgroundCube_vert,fragmentShader:Mt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Mt.cube_vert,fragmentShader:Mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mt.equirect_vert,fragmentShader:Mt.equirect_frag},distanceRGBA:{uniforms:Cr([je.common,je.displacementmap,{referencePosition:{value:new Q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mt.distanceRGBA_vert,fragmentShader:Mt.distanceRGBA_frag},shadow:{uniforms:Cr([je.lights,je.fog,{color:{value:new Ye(0)},opacity:{value:1}}]),vertexShader:Mt.shadow_vert,fragmentShader:Mt.shadow_frag}};Vi.physical={uniforms:Cr([Vi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new be(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Ye(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new be},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ye(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Ye(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag};const Op={r:0,b:0,g:0};function j6(n,e,t,r,i,s,o){const a=new Ye(0);let l=s===!0?0:1,u,f,d=null,p=0,m=null;function g(y,_){let x=!1,w=_.isScene===!0?_.background:null;w&&w.isTexture&&(w=(_.backgroundBlurriness>0?t:e).get(w));const b=n.xr,A=b.getSession&&b.getSession();A&&A.environmentBlendMode==="additive"&&(w=null),w===null?v(a,l):w&&w.isColor&&(v(w,1),x=!0),(n.autoClear||x)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),w&&(w.isCubeTexture||w.mapping===cc)?(f===void 0&&(f=new rr(new ma(1,1,1),new Qi({name:"BackgroundCubeMaterial",uniforms:ec(Vi.backgroundCube.uniforms),vertexShader:Vi.backgroundCube.vertexShader,fragmentShader:Vi.backgroundCube.fragmentShader,side:ei,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(E,C,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),f.material.uniforms.envMap.value=w,f.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,(d!==w||p!==w.version||m!==n.toneMapping)&&(f.material.needsUpdate=!0,d=w,p=w.version,m=n.toneMapping),f.layers.enableAll(),y.unshift(f,f.geometry,f.material,0,0,null)):w&&w.isTexture&&(u===void 0&&(u=new rr(new Ml(2,2),new Qi({name:"BackgroundMaterial",uniforms:ec(Vi.background.uniforms),vertexShader:Vi.background.vertexShader,fragmentShader:Vi.background.fragmentShader,side:pl,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=w,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,w.matrixAutoUpdate===!0&&w.updateMatrix(),u.material.uniforms.uvTransform.value.copy(w.matrix),(d!==w||p!==w.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,d=w,p=w.version,m=n.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null))}function v(y,_){y.getRGB(Op,NI(n)),r.buffers.color.setClear(Op.r,Op.g,Op.b,_,o)}return{getClearColor:function(){return a},setClearColor:function(y,_=1){a.set(y),l=_,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,v(a,l)},render:g}}function $6(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let u=l,f=!1;function d(H,$,X,j,D){let q=!1;if(o){const B=v(j,X,$);u!==B&&(u=B,m(u.object)),q=_(H,j,X,D),q&&x(H,j,X,D)}else{const B=$.wireframe===!0;(u.geometry!==j.id||u.program!==X.id||u.wireframe!==B)&&(u.geometry=j.id,u.program=X.id,u.wireframe=B,q=!0)}D!==null&&t.update(D,34963),(q||f)&&(f=!1,M(H,$,X,j),D!==null&&n.bindBuffer(34963,t.get(D).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(H){return r.isWebGL2?n.bindVertexArray(H):s.bindVertexArrayOES(H)}function g(H){return r.isWebGL2?n.deleteVertexArray(H):s.deleteVertexArrayOES(H)}function v(H,$,X){const j=X.wireframe===!0;let D=a[H.id];D===void 0&&(D={},a[H.id]=D);let q=D[$.id];q===void 0&&(q={},D[$.id]=q);let B=q[j];return B===void 0&&(B=y(p()),q[j]=B),B}function y(H){const $=[],X=[],j=[];for(let D=0;D<i;D++)$[D]=0,X[D]=0,j[D]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:X,attributeDivisors:j,object:H,attributes:{},index:null}}function _(H,$,X,j){const D=u.attributes,q=$.attributes;let B=0;const G=X.getAttributes();for(const N in G)if(G[N].location>=0){const k=D[N];let W=q[N];if(W===void 0&&(N==="instanceMatrix"&&H.instanceMatrix&&(W=H.instanceMatrix),N==="instanceColor"&&H.instanceColor&&(W=H.instanceColor)),k===void 0||k.attribute!==W||W&&k.data!==W.data)return!0;B++}return u.attributesNum!==B||u.index!==j}function x(H,$,X,j){const D={},q=$.attributes;let B=0;const G=X.getAttributes();for(const N in G)if(G[N].location>=0){let k=q[N];k===void 0&&(N==="instanceMatrix"&&H.instanceMatrix&&(k=H.instanceMatrix),N==="instanceColor"&&H.instanceColor&&(k=H.instanceColor));const W={};W.attribute=k,k&&k.data&&(W.data=k.data),D[N]=W,B++}u.attributes=D,u.attributesNum=B,u.index=j}function w(){const H=u.newAttributes;for(let $=0,X=H.length;$<X;$++)H[$]=0}function b(H){A(H,0)}function A(H,$){const X=u.newAttributes,j=u.enabledAttributes,D=u.attributeDivisors;X[H]=1,j[H]===0&&(n.enableVertexAttribArray(H),j[H]=1),D[H]!==$&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](H,$),D[H]=$)}function E(){const H=u.newAttributes,$=u.enabledAttributes;for(let X=0,j=$.length;X<j;X++)$[X]!==H[X]&&(n.disableVertexAttribArray(X),$[X]=0)}function C(H,$,X,j,D,q){r.isWebGL2===!0&&(X===5124||X===5125)?n.vertexAttribIPointer(H,$,X,D,q):n.vertexAttribPointer(H,$,X,j,D,q)}function M(H,$,X,j){if(r.isWebGL2===!1&&(H.isInstancedMesh||j.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const D=j.attributes,q=X.getAttributes(),B=$.defaultAttributeValues;for(const G in q){const N=q[G];if(N.location>=0){let U=D[G];if(U===void 0&&(G==="instanceMatrix"&&H.instanceMatrix&&(U=H.instanceMatrix),G==="instanceColor"&&H.instanceColor&&(U=H.instanceColor)),U!==void 0){const k=U.normalized,W=U.itemSize,V=t.get(U);if(V===void 0)continue;const J=V.buffer,re=V.type,Se=V.bytesPerElement;if(U.isInterleavedBufferAttribute){const pe=U.data,we=pe.stride,se=U.offset;if(pe.isInstancedInterleavedBuffer){for(let ce=0;ce<N.locationSize;ce++)A(N.location+ce,pe.meshPerAttribute);H.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let ce=0;ce<N.locationSize;ce++)b(N.location+ce);n.bindBuffer(34962,J);for(let ce=0;ce<N.locationSize;ce++)C(N.location+ce,W/N.locationSize,re,k,we*Se,(se+W/N.locationSize*ce)*Se)}else{if(U.isInstancedBufferAttribute){for(let pe=0;pe<N.locationSize;pe++)A(N.location+pe,U.meshPerAttribute);H.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=U.meshPerAttribute*U.count)}else for(let pe=0;pe<N.locationSize;pe++)b(N.location+pe);n.bindBuffer(34962,J);for(let pe=0;pe<N.locationSize;pe++)C(N.location+pe,W/N.locationSize,re,k,W*Se,W/N.locationSize*pe*Se)}}else if(B!==void 0){const k=B[G];if(k!==void 0)switch(k.length){case 2:n.vertexAttrib2fv(N.location,k);break;case 3:n.vertexAttrib3fv(N.location,k);break;case 4:n.vertexAttrib4fv(N.location,k);break;default:n.vertexAttrib1fv(N.location,k)}}}}E()}function I(){O();for(const H in a){const $=a[H];for(const X in $){const j=$[X];for(const D in j)g(j[D].object),delete j[D];delete $[X]}delete a[H]}}function P(H){if(a[H.id]===void 0)return;const $=a[H.id];for(const X in $){const j=$[X];for(const D in j)g(j[D].object),delete j[D];delete $[X]}delete a[H.id]}function R(H){for(const $ in a){const X=a[$];if(X[H.id]===void 0)continue;const j=X[H.id];for(const D in j)g(j[D].object),delete j[D];delete X[H.id]}}function O(){F(),f=!0,u!==l&&(u=l,m(u.object))}function F(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:O,resetDefaultState:F,dispose:I,releaseStatesOfGeometry:P,releaseStatesOfProgram:R,initAttributes:w,enableAttribute:b,disableUnusedAttributes:E}}function q6(n,e,t,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,f){n.drawArrays(s,u,f),t.update(f,s,1)}function l(u,f,d){if(d===0)return;let p,m;if(i)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,f,d),t.update(f,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function X6(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(C){if(C==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";C="mediump"}return C==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),f=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),g=n.getParameter(34076),v=n.getParameter(34921),y=n.getParameter(36347),_=n.getParameter(36348),x=n.getParameter(36349),w=p>0,b=o||e.has("OES_texture_float"),A=w&&b,E=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:f,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:y,maxVaryings:_,maxFragmentUniforms:x,vertexTextures:w,floatFragmentTextures:b,floatVertexTextures:A,maxSamples:E}}function Y6(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Lo,a=new Tn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p,m){const g=d.length!==0||p||r!==0||i;return i=p,t=f(d,m,0),r=d.length,g},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1,u()},this.setState=function(d,p,m){const g=d.clippingPlanes,v=d.clipIntersection,y=d.clipShadows,_=n.get(d);if(!i||g===null||g.length===0||s&&!y)s?f(null):u();else{const x=s?0:r,w=x*4;let b=_.clippingState||null;l.value=b,b=f(g,p,w,m);for(let A=0;A!==w;++A)b[A]=t[A];_.clippingState=b,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=x}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(d,p,m,g){const v=d!==null?d.length:0;let y=null;if(v!==0){if(y=l.value,g!==!0||y===null){const _=m+v*4,x=p.matrixWorldInverse;a.getNormalMatrix(x),(y===null||y.length<_)&&(y=new Float32Array(_));for(let w=0,b=m;w!==v;++w,b+=4)o.copy(d[w]).applyMatrix4(x,a),o.normal.toArray(y,b),y[b+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function J6(n){let e=new WeakMap;function t(o,a){return a===Xf?o.mapping=sa:a===Yf&&(o.mapping=oa),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Xf||a===Yf)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new BI(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",i),t(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class _s extends Dh{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Lu=4,WE=[.125,.215,.35,.446,.526,.582],Ga=20,jv=new _s,GE=new Ye;let $v=null;const Va=(1+Math.sqrt(5))/2,su=1/Va,jE=[new Q(1,1,1),new Q(-1,1,1),new Q(1,1,-1),new Q(-1,1,-1),new Q(0,Va,su),new Q(0,Va,-su),new Q(su,0,Va),new Q(-su,0,Va),new Q(Va,su,0),new Q(-Va,su,0)];class ax{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){$v=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=XE(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=qE(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget($v),e.scissorTest=!1,kp(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===sa||e.mapping===oa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),$v=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:pn,minFilter:pn,generateMipmaps:!1,type:ml,format:Zr,encoding:ro,depthBuffer:!1},i=$E(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=$E(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Z6(s)),this._blurMaterial=Q6(s,e,t)}return i}_compileMaterial(e){const t=new rr(this._lodPlanes[0],e);this._renderer.compile(t,jv)}_sceneToCubeUV(e,t,r,i){const a=new nn(90,1,t,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],f=this._renderer,d=f.autoClear,p=f.toneMapping;f.getClearColor(GE),f.toneMapping=Xi,f.autoClear=!1;const m=new pa({name:"PMREM.Background",side:ei,depthWrite:!1,depthTest:!1}),g=new rr(new ma,m);let v=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,v=!0):(m.color.copy(GE),v=!0);for(let _=0;_<6;_++){const x=_%3;x===0?(a.up.set(0,l[_],0),a.lookAt(u[_],0,0)):x===1?(a.up.set(0,0,l[_]),a.lookAt(0,u[_],0)):(a.up.set(0,l[_],0),a.lookAt(0,0,u[_]));const w=this._cubeSize;kp(i,x*w,_>2?w:0,w,w),f.setRenderTarget(i),v&&f.render(g,a),f.render(e,a)}g.geometry.dispose(),g.material.dispose(),f.toneMapping=p,f.autoClear=d,e.background=y}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===sa||e.mapping===oa;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=XE()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=qE());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new rr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;kp(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,jv)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=jE[(i-1)%jE.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,d=new rr(this._lodPlanes[i],u),p=u.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Ga-1),v=s/g,y=isFinite(s)?1+Math.floor(f*v):Ga;y>Ga&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Ga}`);const _=[];let x=0;for(let C=0;C<Ga;++C){const M=C/v,I=Math.exp(-M*M/2);_.push(I),C===0?x+=I:C<y&&(x+=2*I)}for(let C=0;C<_.length;C++)_[C]=_[C]/x;p.envMap.value=e.texture,p.samples.value=y,p.weights.value=_,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:w}=this;p.dTheta.value=g,p.mipInt.value=w-r;const b=this._sizeLods[i],A=3*b*(i>w-Lu?i-w+Lu:0),E=4*(this._cubeSize-b);kp(t,A,E,3*b,2*b),l.setRenderTarget(t),l.render(d,jv)}}function Z6(n){const e=[],t=[],r=[];let i=n;const s=n-Lu+1+WE.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-Lu?l=WE[o-n+Lu-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),f=-u,d=1+u,p=[f,f,d,f,d,d,f,f,d,d,f,d],m=6,g=6,v=3,y=2,_=1,x=new Float32Array(v*g*m),w=new Float32Array(y*g*m),b=new Float32Array(_*g*m);for(let E=0;E<m;E++){const C=E%3*2/3-1,M=E>2?0:-1,I=[C,M,0,C+2/3,M,0,C+2/3,M+1,0,C,M,0,C+2/3,M+1,0,C,M+1,0];x.set(I,v*g*E),w.set(p,y*g*E);const P=[E,E,E,E,E,E];b.set(P,_*g*E)}const A=new ft;A.setAttribute("position",new Tt(x,v)),A.setAttribute("uv",new Tt(w,y)),A.setAttribute("faceIndex",new Tt(b,_)),e.push(A),i>Lu&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function $E(n,e,t){const r=new ri(n,e,t);return r.texture.mapping=cc,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function kp(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Q6(n,e,t){const r=new Float32Array(Ga),i=new Q(0,1,0);return new Qi({name:"SphericalGaussianBlur",defines:{n:Ga,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:bS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Qs,depthTest:!1,depthWrite:!1})}function qE(){return new Qi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:bS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Qs,depthTest:!1,depthWrite:!1})}function XE(){return new Qi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:bS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Qs,depthTest:!1,depthWrite:!1})}function bS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function K6(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===Xf||l===Yf,f=l===sa||l===oa;if(u||f)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new ax(n)),d=u?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(u&&d&&d.height>0||f&&d&&i(d)){t===null&&(t=new ax(n));const p=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let f=0;f<u;f++)a[f]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function eU(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function tU(n,e,t,r){const i={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const g in p.attributes)e.remove(p.attributes[g]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const g in p)e.update(p[g],34962);const m=d.morphAttributes;for(const g in m){const v=m[g];for(let y=0,_=v.length;y<_;y++)e.update(v[y],34962)}}function u(d){const p=[],m=d.index,g=d.attributes.position;let v=0;if(m!==null){const x=m.array;v=m.version;for(let w=0,b=x.length;w<b;w+=3){const A=x[w+0],E=x[w+1],C=x[w+2];p.push(A,E,E,C,C,A)}}else{const x=g.array;v=g.version;for(let w=0,b=x.length/3-1;w<b;w+=3){const A=w+0,E=w+1,C=w+2;p.push(A,E,E,C,C,A)}}const y=new(kI(p)?SS:wS)(p,1);y.version=v;const _=s.get(d);_&&e.remove(_),s.set(d,y)}function f(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&u(d)}else u(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:f}}function nU(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function f(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function d(p,m,g){if(g===0)return;let v,y;if(i)v=n,y="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](s,m,a,p*l,g),t.update(m,s,g)}this.setMode=o,this.setIndex=u,this.render=f,this.renderInstances=d}function rU(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function iU(n,e){return n[0]-e[0]}function sU(n,e){return Math.abs(e[1])-Math.abs(n[1])}function oU(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new $t,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,f,d,p){const m=u.morphTargetInfluences;if(e.isWebGL2===!0){const v=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,y=v!==void 0?v.length:0;let _=s.get(f);if(_===void 0||_.count!==y){let X=function(){H.dispose(),s.delete(f),f.removeEventListener("dispose",X)};var g=X;_!==void 0&&_.texture.dispose();const b=f.morphAttributes.position!==void 0,A=f.morphAttributes.normal!==void 0,E=f.morphAttributes.color!==void 0,C=f.morphAttributes.position||[],M=f.morphAttributes.normal||[],I=f.morphAttributes.color||[];let P=0;b===!0&&(P=1),A===!0&&(P=2),E===!0&&(P=3);let R=f.attributes.position.count*P,O=1;R>e.maxTextureSize&&(O=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const F=new Float32Array(R*O*4*y),H=new Oh(F,R,O,y);H.type=qs,H.needsUpdate=!0;const $=P*4;for(let j=0;j<y;j++){const D=C[j],q=M[j],B=I[j],G=R*O*4*j;for(let N=0;N<D.count;N++){const U=N*$;b===!0&&(o.fromBufferAttribute(D,N),F[G+U+0]=o.x,F[G+U+1]=o.y,F[G+U+2]=o.z,F[G+U+3]=0),A===!0&&(o.fromBufferAttribute(q,N),F[G+U+4]=o.x,F[G+U+5]=o.y,F[G+U+6]=o.z,F[G+U+7]=0),E===!0&&(o.fromBufferAttribute(B,N),F[G+U+8]=o.x,F[G+U+9]=o.y,F[G+U+10]=o.z,F[G+U+11]=B.itemSize===4?o.w:1)}}_={count:y,texture:H,size:new be(R,O)},s.set(f,_),f.addEventListener("dispose",X)}let x=0;for(let b=0;b<m.length;b++)x+=m[b];const w=f.morphTargetsRelative?1:1-x;p.getUniforms().setValue(n,"morphTargetBaseInfluence",w),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const v=m===void 0?0:m.length;let y=r[f.id];if(y===void 0||y.length!==v){y=[];for(let A=0;A<v;A++)y[A]=[A,0];r[f.id]=y}for(let A=0;A<v;A++){const E=y[A];E[0]=A,E[1]=m[A]}y.sort(sU);for(let A=0;A<8;A++)A<v&&y[A][1]?(a[A][0]=y[A][0],a[A][1]=y[A][1]):(a[A][0]=Number.MAX_SAFE_INTEGER,a[A][1]=0);a.sort(iU);const _=f.morphAttributes.position,x=f.morphAttributes.normal;let w=0;for(let A=0;A<8;A++){const E=a[A],C=E[0],M=E[1];C!==Number.MAX_SAFE_INTEGER&&M?(_&&f.getAttribute("morphTarget"+A)!==_[C]&&f.setAttribute("morphTarget"+A,_[C]),x&&f.getAttribute("morphNormal"+A)!==x[C]&&f.setAttribute("morphNormal"+A,x[C]),i[A]=M,w+=M):(_&&f.hasAttribute("morphTarget"+A)===!0&&f.deleteAttribute("morphTarget"+A),x&&f.hasAttribute("morphNormal"+A)===!0&&f.deleteAttribute("morphNormal"+A),i[A]=0)}const b=f.morphTargetsRelative?1:1-w;p.getUniforms().setValue(n,"morphTargetBaseInfluence",b),p.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function aU(n,e,t,r){let i=new WeakMap;function s(l){const u=r.render.frame,f=l.geometry,d=e.get(l,f);return i.get(d)!==u&&(e.update(d),i.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const HI=new bn,VI=new Oh,WI=new x0,GI=new Nh,YE=[],JE=[],ZE=new Float32Array(16),QE=new Float32Array(9),KE=new Float32Array(4);function hc(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=YE[i];if(s===void 0&&(s=new Float32Array(i),YE[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Hn(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Vn(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function S0(n,e){let t=JE[e];t===void 0&&(t=new Int32Array(e),JE[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function lU(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function uU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Hn(t,e))return;n.uniform2fv(this.addr,e),Vn(t,e)}}function cU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Hn(t,e))return;n.uniform3fv(this.addr,e),Vn(t,e)}}function fU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Hn(t,e))return;n.uniform4fv(this.addr,e),Vn(t,e)}}function hU(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Hn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Vn(t,e)}else{if(Hn(t,r))return;KE.set(r),n.uniformMatrix2fv(this.addr,!1,KE),Vn(t,r)}}function dU(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Hn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Vn(t,e)}else{if(Hn(t,r))return;QE.set(r),n.uniformMatrix3fv(this.addr,!1,QE),Vn(t,r)}}function pU(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Hn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Vn(t,e)}else{if(Hn(t,r))return;ZE.set(r),n.uniformMatrix4fv(this.addr,!1,ZE),Vn(t,r)}}function mU(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function gU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Hn(t,e))return;n.uniform2iv(this.addr,e),Vn(t,e)}}function yU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Hn(t,e))return;n.uniform3iv(this.addr,e),Vn(t,e)}}function vU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Hn(t,e))return;n.uniform4iv(this.addr,e),Vn(t,e)}}function _U(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function xU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Hn(t,e))return;n.uniform2uiv(this.addr,e),Vn(t,e)}}function wU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Hn(t,e))return;n.uniform3uiv(this.addr,e),Vn(t,e)}}function SU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Hn(t,e))return;n.uniform4uiv(this.addr,e),Vn(t,e)}}function bU(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||HI,i)}function MU(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||WI,i)}function EU(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||GI,i)}function CU(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||VI,i)}function AU(n){switch(n){case 5126:return lU;case 35664:return uU;case 35665:return cU;case 35666:return fU;case 35674:return hU;case 35675:return dU;case 35676:return pU;case 5124:case 35670:return mU;case 35667:case 35671:return gU;case 35668:case 35672:return yU;case 35669:case 35673:return vU;case 5125:return _U;case 36294:return xU;case 36295:return wU;case 36296:return SU;case 35678:case 36198:case 36298:case 36306:case 35682:return bU;case 35679:case 36299:case 36307:return MU;case 35680:case 36300:case 36308:case 36293:return EU;case 36289:case 36303:case 36311:case 36292:return CU}}function TU(n,e){n.uniform1fv(this.addr,e)}function PU(n,e){const t=hc(e,this.size,2);n.uniform2fv(this.addr,t)}function IU(n,e){const t=hc(e,this.size,3);n.uniform3fv(this.addr,t)}function RU(n,e){const t=hc(e,this.size,4);n.uniform4fv(this.addr,t)}function LU(n,e){const t=hc(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function OU(n,e){const t=hc(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function kU(n,e){const t=hc(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function DU(n,e){n.uniform1iv(this.addr,e)}function NU(n,e){n.uniform2iv(this.addr,e)}function FU(n,e){n.uniform3iv(this.addr,e)}function zU(n,e){n.uniform4iv(this.addr,e)}function BU(n,e){n.uniform1uiv(this.addr,e)}function UU(n,e){n.uniform2uiv(this.addr,e)}function HU(n,e){n.uniform3uiv(this.addr,e)}function VU(n,e){n.uniform4uiv(this.addr,e)}function WU(n,e,t){const r=this.cache,i=e.length,s=S0(t,i);Hn(r,s)||(n.uniform1iv(this.addr,s),Vn(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||HI,s[o])}function GU(n,e,t){const r=this.cache,i=e.length,s=S0(t,i);Hn(r,s)||(n.uniform1iv(this.addr,s),Vn(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||WI,s[o])}function jU(n,e,t){const r=this.cache,i=e.length,s=S0(t,i);Hn(r,s)||(n.uniform1iv(this.addr,s),Vn(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||GI,s[o])}function $U(n,e,t){const r=this.cache,i=e.length,s=S0(t,i);Hn(r,s)||(n.uniform1iv(this.addr,s),Vn(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||VI,s[o])}function qU(n){switch(n){case 5126:return TU;case 35664:return PU;case 35665:return IU;case 35666:return RU;case 35674:return LU;case 35675:return OU;case 35676:return kU;case 5124:case 35670:return DU;case 35667:case 35671:return NU;case 35668:case 35672:return FU;case 35669:case 35673:return zU;case 5125:return BU;case 36294:return UU;case 36295:return HU;case 36296:return VU;case 35678:case 36198:case 36298:case 36306:case 35682:return WU;case 35679:case 36299:case 36307:return GU;case 35680:case 36300:case 36308:case 36293:return jU;case 36289:case 36303:case 36311:case 36292:return $U}}class XU{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=AU(t.type)}}class YU{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=qU(t.type)}}class JU{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const qv=/(\w+)(\])?(\[|\.)?/g;function eC(n,e){n.seq.push(e),n.map[e.id]=e}function ZU(n,e,t){const r=n.name,i=r.length;for(qv.lastIndex=0;;){const s=qv.exec(r),o=qv.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){eC(t,u===void 0?new XU(a,n,e):new YU(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new JU(a),eC(t,d)),t=d}}}class Fm{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);ZU(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function tC(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let QU=0;function KU(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function e8(n){switch(n){case ro:return["Linear","( value )"];case tn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function nC(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+KU(n.getShaderSource(e),o)}else return i}function t8(n,e){const t=e8(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function n8(n,e){let t;switch(e){case aI:t="Linear";break;case lI:t="Reinhard";break;case uI:t="OptimizedCineon";break;case mS:t="ACESFilmic";break;case cI:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function r8(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(pf).join(`
`)}function i8(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function s8(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function pf(n){return n!==""}function rC(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function iC(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const o8=/^[ \t]*#include +<([\w\d./]+)>/gm;function lx(n){return n.replace(o8,a8)}function a8(n,e){const t=Mt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return lx(t)}const l8=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function sC(n){return n.replace(l8,u8)}function u8(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function oC(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function c8(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===fS?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===hS?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Iu&&(e="SHADOWMAP_TYPE_VSM"),e}function f8(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case sa:case oa:e="ENVMAP_TYPE_CUBE";break;case cc:e="ENVMAP_TYPE_CUBE_UV";break}return e}function h8(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case oa:e="ENVMAP_MODE_REFRACTION";break}return e}function d8(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Lh:e="ENVMAP_BLENDING_MULTIPLY";break;case sI:e="ENVMAP_BLENDING_MIX";break;case oI:e="ENVMAP_BLENDING_ADD";break}return e}function p8(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function m8(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=c8(t),u=f8(t),f=h8(t),d=d8(t),p=p8(t),m=t.isWebGL2?"":r8(t),g=i8(s),v=i.createProgram();let y,_,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=[g].filter(pf).join(`
`),y.length>0&&(y+=`
`),_=[m,g].filter(pf).join(`
`),_.length>0&&(_+=`
`)):(y=[oC(t),"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(pf).join(`
`),_=[m,oC(t),"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Xi?"#define TONE_MAPPING":"",t.toneMapping!==Xi?Mt.tonemapping_pars_fragment:"",t.toneMapping!==Xi?n8("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Mt.encodings_pars_fragment,t8("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(pf).join(`
`)),o=lx(o),o=rC(o,t),o=iC(o,t),a=lx(a),a=rC(a,t),a=iC(a,t),o=sC(o),a=sC(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,_=["#define varying in",t.glslVersion===sx?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===sx?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const w=x+y+o,b=x+_+a,A=tC(i,35633,w),E=tC(i,35632,b);if(i.attachShader(v,A),i.attachShader(v,E),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),n.debug.checkShaderErrors){const I=i.getProgramInfoLog(v).trim(),P=i.getShaderInfoLog(A).trim(),R=i.getShaderInfoLog(E).trim();let O=!0,F=!0;if(i.getProgramParameter(v,35714)===!1){O=!1;const H=nC(i,A,"vertex"),$=nC(i,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+I+`
`+H+`
`+$)}else I!==""?console.warn("THREE.WebGLProgram: Program Info Log:",I):(P===""||R==="")&&(F=!1);F&&(this.diagnostics={runnable:O,programLog:I,vertexShader:{log:P,prefix:y},fragmentShader:{log:R,prefix:_}})}i.deleteShader(A),i.deleteShader(E);let C;this.getUniforms=function(){return C===void 0&&(C=new Fm(i,v)),C};let M;return this.getAttributes=function(){return M===void 0&&(M=s8(i,v)),M},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=QU++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=A,this.fragmentShader=E,this}let g8=0;class y8{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new v8(e),t.set(e,r)),r}}class v8{constructor(e){this.id=g8++,this.code=e,this.usedTimes=0}}function _8(n,e,t,r,i,s,o){const a=new ol,l=new y8,u=[],f=i.isWebGL2,d=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(M,I,P,R,O){const F=R.fog,H=O.geometry,$=M.isMeshStandardMaterial?R.environment:null,X=(M.isMeshStandardMaterial?t:e).get(M.envMap||$),j=X&&X.mapping===cc?X.image.height:null,D=g[M.type];M.precision!==null&&(m=i.getMaxPrecision(M.precision),m!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",m,"instead."));const q=H.morphAttributes.position||H.morphAttributes.normal||H.morphAttributes.color,B=q!==void 0?q.length:0;let G=0;H.morphAttributes.position!==void 0&&(G=1),H.morphAttributes.normal!==void 0&&(G=2),H.morphAttributes.color!==void 0&&(G=3);let N,U,k,W;if(D){const we=Vi[D];N=we.vertexShader,U=we.fragmentShader}else N=M.vertexShader,U=M.fragmentShader,l.update(M),k=l.getVertexShaderID(M),W=l.getFragmentShaderID(M);const V=n.getRenderTarget(),J=M.alphaTest>0,re=M.clearcoat>0,Se=M.iridescence>0;return{isWebGL2:f,shaderID:D,shaderName:M.type,vertexShader:N,fragmentShader:U,defines:M.defines,customVertexShaderID:k,customFragmentShaderID:W,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:m,instancing:O.isInstancedMesh===!0,instancingColor:O.isInstancedMesh===!0&&O.instanceColor!==null,supportsVertexTextures:p,outputEncoding:V===null?n.outputEncoding:V.isXRRenderTarget===!0?V.texture.encoding:ro,map:!!M.map,matcap:!!M.matcap,envMap:!!X,envMapMode:X&&X.mapping,envMapCubeUVHeight:j,lightMap:!!M.lightMap,aoMap:!!M.aoMap,emissiveMap:!!M.emissiveMap,bumpMap:!!M.bumpMap,normalMap:!!M.normalMap,objectSpaceNormalMap:M.normalMapType===RI,tangentSpaceNormalMap:M.normalMapType===ha,decodeVideoTexture:!!M.map&&M.map.isVideoTexture===!0&&M.map.encoding===tn,clearcoat:re,clearcoatMap:re&&!!M.clearcoatMap,clearcoatRoughnessMap:re&&!!M.clearcoatRoughnessMap,clearcoatNormalMap:re&&!!M.clearcoatNormalMap,iridescence:Se,iridescenceMap:Se&&!!M.iridescenceMap,iridescenceThicknessMap:Se&&!!M.iridescenceThicknessMap,displacementMap:!!M.displacementMap,roughnessMap:!!M.roughnessMap,metalnessMap:!!M.metalnessMap,specularMap:!!M.specularMap,specularIntensityMap:!!M.specularIntensityMap,specularColorMap:!!M.specularColorMap,opaque:M.transparent===!1&&M.blending===nl,alphaMap:!!M.alphaMap,alphaTest:J,gradientMap:!!M.gradientMap,sheen:M.sheen>0,sheenColorMap:!!M.sheenColorMap,sheenRoughnessMap:!!M.sheenRoughnessMap,transmission:M.transmission>0,transmissionMap:!!M.transmissionMap,thicknessMap:!!M.thicknessMap,combine:M.combine,vertexTangents:!!M.normalMap&&!!H.attributes.tangent,vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!H.attributes.color&&H.attributes.color.itemSize===4,vertexUvs:!!M.map||!!M.bumpMap||!!M.normalMap||!!M.specularMap||!!M.alphaMap||!!M.emissiveMap||!!M.roughnessMap||!!M.metalnessMap||!!M.clearcoatMap||!!M.clearcoatRoughnessMap||!!M.clearcoatNormalMap||!!M.iridescenceMap||!!M.iridescenceThicknessMap||!!M.displacementMap||!!M.transmissionMap||!!M.thicknessMap||!!M.specularIntensityMap||!!M.specularColorMap||!!M.sheenColorMap||!!M.sheenRoughnessMap,uvsVertexOnly:!(M.map||M.bumpMap||M.normalMap||M.specularMap||M.alphaMap||M.emissiveMap||M.roughnessMap||M.metalnessMap||M.clearcoatNormalMap||M.iridescenceMap||M.iridescenceThicknessMap||M.transmission>0||M.transmissionMap||M.thicknessMap||M.specularIntensityMap||M.specularColorMap||M.sheen>0||M.sheenColorMap||M.sheenRoughnessMap)&&!!M.displacementMap,fog:!!F,useFog:M.fog===!0,fogExp2:F&&F.isFogExp2,flatShading:!!M.flatShading,sizeAttenuation:M.sizeAttenuation,logarithmicDepthBuffer:d,skinning:O.isSkinnedMesh===!0,morphTargets:H.morphAttributes.position!==void 0,morphNormals:H.morphAttributes.normal!==void 0,morphColors:H.morphAttributes.color!==void 0,morphTargetsCount:B,morphTextureStride:G,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:M.dithering,shadowMapEnabled:n.shadowMap.enabled&&P.length>0,shadowMapType:n.shadowMap.type,toneMapping:M.toneMapped?n.toneMapping:Xi,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===ji,flipSided:M.side===ei,useDepthPacking:!!M.depthPacking,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionDerivatives:M.extensions&&M.extensions.derivatives,extensionFragDepth:M.extensions&&M.extensions.fragDepth,extensionDrawBuffers:M.extensions&&M.extensions.drawBuffers,extensionShaderTextureLOD:M.extensions&&M.extensions.shaderTextureLOD,rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),customProgramCacheKey:M.customProgramCacheKey()}}function y(M){const I=[];if(M.shaderID?I.push(M.shaderID):(I.push(M.customVertexShaderID),I.push(M.customFragmentShaderID)),M.defines!==void 0)for(const P in M.defines)I.push(P),I.push(M.defines[P]);return M.isRawShaderMaterial===!1&&(_(I,M),x(I,M),I.push(n.outputEncoding)),I.push(M.customProgramCacheKey),I.join()}function _(M,I){M.push(I.precision),M.push(I.outputEncoding),M.push(I.envMapMode),M.push(I.envMapCubeUVHeight),M.push(I.combine),M.push(I.vertexUvs),M.push(I.fogExp2),M.push(I.sizeAttenuation),M.push(I.morphTargetsCount),M.push(I.morphAttributeCount),M.push(I.numDirLights),M.push(I.numPointLights),M.push(I.numSpotLights),M.push(I.numSpotLightMaps),M.push(I.numHemiLights),M.push(I.numRectAreaLights),M.push(I.numDirLightShadows),M.push(I.numPointLightShadows),M.push(I.numSpotLightShadows),M.push(I.numSpotLightShadowsWithMaps),M.push(I.shadowMapType),M.push(I.toneMapping),M.push(I.numClippingPlanes),M.push(I.numClipIntersection),M.push(I.depthPacking)}function x(M,I){a.disableAll(),I.isWebGL2&&a.enable(0),I.supportsVertexTextures&&a.enable(1),I.instancing&&a.enable(2),I.instancingColor&&a.enable(3),I.map&&a.enable(4),I.matcap&&a.enable(5),I.envMap&&a.enable(6),I.lightMap&&a.enable(7),I.aoMap&&a.enable(8),I.emissiveMap&&a.enable(9),I.bumpMap&&a.enable(10),I.normalMap&&a.enable(11),I.objectSpaceNormalMap&&a.enable(12),I.tangentSpaceNormalMap&&a.enable(13),I.clearcoat&&a.enable(14),I.clearcoatMap&&a.enable(15),I.clearcoatRoughnessMap&&a.enable(16),I.clearcoatNormalMap&&a.enable(17),I.iridescence&&a.enable(18),I.iridescenceMap&&a.enable(19),I.iridescenceThicknessMap&&a.enable(20),I.displacementMap&&a.enable(21),I.specularMap&&a.enable(22),I.roughnessMap&&a.enable(23),I.metalnessMap&&a.enable(24),I.gradientMap&&a.enable(25),I.alphaMap&&a.enable(26),I.alphaTest&&a.enable(27),I.vertexColors&&a.enable(28),I.vertexAlphas&&a.enable(29),I.vertexUvs&&a.enable(30),I.vertexTangents&&a.enable(31),I.uvsVertexOnly&&a.enable(32),M.push(a.mask),a.disableAll(),I.fog&&a.enable(0),I.useFog&&a.enable(1),I.flatShading&&a.enable(2),I.logarithmicDepthBuffer&&a.enable(3),I.skinning&&a.enable(4),I.morphTargets&&a.enable(5),I.morphNormals&&a.enable(6),I.morphColors&&a.enable(7),I.premultipliedAlpha&&a.enable(8),I.shadowMapEnabled&&a.enable(9),I.physicallyCorrectLights&&a.enable(10),I.doubleSided&&a.enable(11),I.flipSided&&a.enable(12),I.useDepthPacking&&a.enable(13),I.dithering&&a.enable(14),I.specularIntensityMap&&a.enable(15),I.specularColorMap&&a.enable(16),I.transmission&&a.enable(17),I.transmissionMap&&a.enable(18),I.thicknessMap&&a.enable(19),I.sheen&&a.enable(20),I.sheenColorMap&&a.enable(21),I.sheenRoughnessMap&&a.enable(22),I.decodeVideoTexture&&a.enable(23),I.opaque&&a.enable(24),M.push(a.mask)}function w(M){const I=g[M.type];let P;if(I){const R=Vi[I];P=FI.clone(R.uniforms)}else P=M.uniforms;return P}function b(M,I){let P;for(let R=0,O=u.length;R<O;R++){const F=u[R];if(F.cacheKey===I){P=F,++P.usedTimes;break}}return P===void 0&&(P=new m8(n,I,M,s),u.push(P)),P}function A(M){if(--M.usedTimes===0){const I=u.indexOf(M);u[I]=u[u.length-1],u.pop(),M.destroy()}}function E(M){l.remove(M)}function C(){l.dispose()}return{getParameters:v,getProgramCacheKey:y,getUniforms:w,acquireProgram:b,releaseProgram:A,releaseShaderCache:E,programs:u,dispose:C}}function x8(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function w8(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function aC(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function lC(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(d,p,m,g,v,y){let _=n[e];return _===void 0?(_={id:d.id,object:d,geometry:p,material:m,groupOrder:g,renderOrder:d.renderOrder,z:v,group:y},n[e]=_):(_.id=d.id,_.object=d,_.geometry=p,_.material=m,_.groupOrder=g,_.renderOrder=d.renderOrder,_.z=v,_.group=y),e++,_}function a(d,p,m,g,v,y){const _=o(d,p,m,g,v,y);m.transmission>0?r.push(_):m.transparent===!0?i.push(_):t.push(_)}function l(d,p,m,g,v,y){const _=o(d,p,m,g,v,y);m.transmission>0?r.unshift(_):m.transparent===!0?i.unshift(_):t.unshift(_)}function u(d,p){t.length>1&&t.sort(d||w8),r.length>1&&r.sort(p||aC),i.length>1&&i.sort(p||aC)}function f(){for(let d=e,p=n.length;d<p;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:f,sort:u}}function S8(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new lC,n.set(r,[o])):i>=s.length?(o=new lC,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function b8(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Q,color:new Ye};break;case"SpotLight":t={position:new Q,direction:new Q,color:new Ye,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Q,color:new Ye,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Q,skyColor:new Ye,groundColor:new Ye};break;case"RectAreaLight":t={color:new Ye,position:new Q,halfWidth:new Q,halfHeight:new Q};break}return n[e.id]=t,t}}}function M8(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new be};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new be};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new be,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let E8=0;function C8(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function A8(n,e){const t=new b8,r=M8(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let f=0;f<9;f++)i.probe.push(new Q);const s=new Q,o=new yt,a=new yt;function l(f,d){let p=0,m=0,g=0;for(let R=0;R<9;R++)i.probe[R].set(0,0,0);let v=0,y=0,_=0,x=0,w=0,b=0,A=0,E=0,C=0,M=0;f.sort(C8);const I=d!==!0?Math.PI:1;for(let R=0,O=f.length;R<O;R++){const F=f[R],H=F.color,$=F.intensity,X=F.distance,j=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)p+=H.r*$*I,m+=H.g*$*I,g+=H.b*$*I;else if(F.isLightProbe)for(let D=0;D<9;D++)i.probe[D].addScaledVector(F.sh.coefficients[D],$);else if(F.isDirectionalLight){const D=t.get(F);if(D.color.copy(F.color).multiplyScalar(F.intensity*I),F.castShadow){const q=F.shadow,B=r.get(F);B.shadowBias=q.bias,B.shadowNormalBias=q.normalBias,B.shadowRadius=q.radius,B.shadowMapSize=q.mapSize,i.directionalShadow[v]=B,i.directionalShadowMap[v]=j,i.directionalShadowMatrix[v]=F.shadow.matrix,b++}i.directional[v]=D,v++}else if(F.isSpotLight){const D=t.get(F);D.position.setFromMatrixPosition(F.matrixWorld),D.color.copy(H).multiplyScalar($*I),D.distance=X,D.coneCos=Math.cos(F.angle),D.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),D.decay=F.decay,i.spot[_]=D;const q=F.shadow;if(F.map&&(i.spotLightMap[C]=F.map,C++,q.updateMatrices(F),F.castShadow&&M++),i.spotLightMatrix[_]=q.matrix,F.castShadow){const B=r.get(F);B.shadowBias=q.bias,B.shadowNormalBias=q.normalBias,B.shadowRadius=q.radius,B.shadowMapSize=q.mapSize,i.spotShadow[_]=B,i.spotShadowMap[_]=j,E++}_++}else if(F.isRectAreaLight){const D=t.get(F);D.color.copy(H).multiplyScalar($),D.halfWidth.set(F.width*.5,0,0),D.halfHeight.set(0,F.height*.5,0),i.rectArea[x]=D,x++}else if(F.isPointLight){const D=t.get(F);if(D.color.copy(F.color).multiplyScalar(F.intensity*I),D.distance=F.distance,D.decay=F.decay,F.castShadow){const q=F.shadow,B=r.get(F);B.shadowBias=q.bias,B.shadowNormalBias=q.normalBias,B.shadowRadius=q.radius,B.shadowMapSize=q.mapSize,B.shadowCameraNear=q.camera.near,B.shadowCameraFar=q.camera.far,i.pointShadow[y]=B,i.pointShadowMap[y]=j,i.pointShadowMatrix[y]=F.shadow.matrix,A++}i.point[y]=D,y++}else if(F.isHemisphereLight){const D=t.get(F);D.skyColor.copy(F.color).multiplyScalar($*I),D.groundColor.copy(F.groundColor).multiplyScalar($*I),i.hemi[w]=D,w++}}x>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=je.LTC_FLOAT_1,i.rectAreaLTC2=je.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=je.LTC_HALF_1,i.rectAreaLTC2=je.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=g;const P=i.hash;(P.directionalLength!==v||P.pointLength!==y||P.spotLength!==_||P.rectAreaLength!==x||P.hemiLength!==w||P.numDirectionalShadows!==b||P.numPointShadows!==A||P.numSpotShadows!==E||P.numSpotMaps!==C)&&(i.directional.length=v,i.spot.length=_,i.rectArea.length=x,i.point.length=y,i.hemi.length=w,i.directionalShadow.length=b,i.directionalShadowMap.length=b,i.pointShadow.length=A,i.pointShadowMap.length=A,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=b,i.pointShadowMatrix.length=A,i.spotLightMatrix.length=E+C-M,i.spotLightMap.length=C,i.numSpotLightShadowsWithMaps=M,P.directionalLength=v,P.pointLength=y,P.spotLength=_,P.rectAreaLength=x,P.hemiLength=w,P.numDirectionalShadows=b,P.numPointShadows=A,P.numSpotShadows=E,P.numSpotMaps=C,i.version=E8++)}function u(f,d){let p=0,m=0,g=0,v=0,y=0;const _=d.matrixWorldInverse;for(let x=0,w=f.length;x<w;x++){const b=f[x];if(b.isDirectionalLight){const A=i.directional[p];A.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(_),p++}else if(b.isSpotLight){const A=i.spot[g];A.position.setFromMatrixPosition(b.matrixWorld),A.position.applyMatrix4(_),A.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(_),g++}else if(b.isRectAreaLight){const A=i.rectArea[v];A.position.setFromMatrixPosition(b.matrixWorld),A.position.applyMatrix4(_),a.identity(),o.copy(b.matrixWorld),o.premultiply(_),a.extractRotation(o),A.halfWidth.set(b.width*.5,0,0),A.halfHeight.set(0,b.height*.5,0),A.halfWidth.applyMatrix4(a),A.halfHeight.applyMatrix4(a),v++}else if(b.isPointLight){const A=i.point[m];A.position.setFromMatrixPosition(b.matrixWorld),A.position.applyMatrix4(_),m++}else if(b.isHemisphereLight){const A=i.hemi[y];A.direction.setFromMatrixPosition(b.matrixWorld),A.direction.transformDirection(_),y++}}}return{setup:l,setupView:u,state:i}}function uC(n,e){const t=new A8(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(d){r.push(d)}function a(d){i.push(d)}function l(d){t.setup(r,d)}function u(d){t.setupView(r,d)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function T8(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new uC(n,e),t.set(s,[l])):o>=a.length?(l=new uC(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class MS extends or{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=PI,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class ES extends or{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Q,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const P8=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,I8=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function R8(n,e,t){let r=new w0;const i=new be,s=new be,o=new $t,a=new MS({depthPacking:II}),l=new ES,u={},f=t.maxTextureSize,d={0:ei,1:pl,2:ji},p=new Qi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new be},radius:{value:4}},vertexShader:P8,fragmentShader:I8}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const g=new ft;g.setAttribute("position",new Tt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new rr(g,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=fS,this.render=function(b,A,E){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||b.length===0)return;const C=n.getRenderTarget(),M=n.getActiveCubeFace(),I=n.getActiveMipmapLevel(),P=n.state;P.setBlending(Qs),P.buffers.color.setClear(1,1,1,1),P.buffers.depth.setTest(!0),P.setScissorTest(!1);for(let R=0,O=b.length;R<O;R++){const F=b[R],H=F.shadow;if(H===void 0){console.warn("THREE.WebGLShadowMap:",F,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;i.copy(H.mapSize);const $=H.getFrameExtents();if(i.multiply($),s.copy(H.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(s.x=Math.floor(f/$.x),i.x=s.x*$.x,H.mapSize.x=s.x),i.y>f&&(s.y=Math.floor(f/$.y),i.y=s.y*$.y,H.mapSize.y=s.y)),H.map===null){const j=this.type!==Iu?{minFilter:On,magFilter:On}:{};H.map=new ri(i.x,i.y,j),H.map.texture.name=F.name+".shadowMap",H.camera.updateProjectionMatrix()}n.setRenderTarget(H.map),n.clear();const X=H.getViewportCount();for(let j=0;j<X;j++){const D=H.getViewport(j);o.set(s.x*D.x,s.y*D.y,s.x*D.z,s.y*D.w),P.viewport(o),H.updateMatrices(F,j),r=H.getFrustum(),w(A,E,H.camera,F,this.type)}H.isPointLightShadow!==!0&&this.type===Iu&&_(H,E),H.needsUpdate=!1}y.needsUpdate=!1,n.setRenderTarget(C,M,I)};function _(b,A){const E=e.update(v);p.defines.VSM_SAMPLES!==b.blurSamples&&(p.defines.VSM_SAMPLES=b.blurSamples,m.defines.VSM_SAMPLES=b.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new ri(i.x,i.y)),p.uniforms.shadow_pass.value=b.map.texture,p.uniforms.resolution.value=b.mapSize,p.uniforms.radius.value=b.radius,n.setRenderTarget(b.mapPass),n.clear(),n.renderBufferDirect(A,null,E,p,v,null),m.uniforms.shadow_pass.value=b.mapPass.texture,m.uniforms.resolution.value=b.mapSize,m.uniforms.radius.value=b.radius,n.setRenderTarget(b.map),n.clear(),n.renderBufferDirect(A,null,E,m,v,null)}function x(b,A,E,C,M,I){let P=null;const R=E.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(R!==void 0?P=R:P=E.isPointLight===!0?l:a,n.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const O=P.uuid,F=A.uuid;let H=u[O];H===void 0&&(H={},u[O]=H);let $=H[F];$===void 0&&($=P.clone(),H[F]=$),P=$}return P.visible=A.visible,P.wireframe=A.wireframe,I===Iu?P.side=A.shadowSide!==null?A.shadowSide:A.side:P.side=A.shadowSide!==null?A.shadowSide:d[A.side],P.alphaMap=A.alphaMap,P.alphaTest=A.alphaTest,P.map=A.map,P.clipShadows=A.clipShadows,P.clippingPlanes=A.clippingPlanes,P.clipIntersection=A.clipIntersection,P.displacementMap=A.displacementMap,P.displacementScale=A.displacementScale,P.displacementBias=A.displacementBias,P.wireframeLinewidth=A.wireframeLinewidth,P.linewidth=A.linewidth,E.isPointLight===!0&&P.isMeshDistanceMaterial===!0&&(P.referencePosition.setFromMatrixPosition(E.matrixWorld),P.nearDistance=C,P.farDistance=M),P}function w(b,A,E,C,M){if(b.visible===!1)return;if(b.layers.test(A.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&M===Iu)&&(!b.frustumCulled||r.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,b.matrixWorld);const R=e.update(b),O=b.material;if(Array.isArray(O)){const F=R.groups;for(let H=0,$=F.length;H<$;H++){const X=F[H],j=O[X.materialIndex];if(j&&j.visible){const D=x(b,j,C,E.near,E.far,M);n.renderBufferDirect(E,null,R,D,b,X)}}}else if(O.visible){const F=x(b,O,C,E.near,E.far,M);n.renderBufferDirect(E,null,R,F,b,null)}}const P=b.children;for(let R=0,O=P.length;R<O;R++)w(P[R],A,E,C,M)}}function L8(n,e,t){const r=t.isWebGL2;function i(){let fe=!1;const Ce=new $t;let ie=null;const le=new $t(0,0,0,0);return{setMask:function(He){ie!==He&&!fe&&(n.colorMask(He,He,He,He),ie=He)},setLocked:function(He){fe=He},setClear:function(He,tt,ht,st,Dn){Dn===!0&&(He*=st,tt*=st,ht*=st),Ce.set(He,tt,ht,st),le.equals(Ce)===!1&&(n.clearColor(He,tt,ht,st),le.copy(Ce))},reset:function(){fe=!1,ie=null,le.set(-1,0,0,0)}}}function s(){let fe=!1,Ce=null,ie=null,le=null;return{setTest:function(He){He?J(2929):re(2929)},setMask:function(He){Ce!==He&&!fe&&(n.depthMask(He),Ce=He)},setFunc:function(He){if(ie!==He){switch(He){case QP:n.depthFunc(512);break;case KP:n.depthFunc(519);break;case eI:n.depthFunc(513);break;case pg:n.depthFunc(515);break;case tI:n.depthFunc(514);break;case nI:n.depthFunc(518);break;case rI:n.depthFunc(516);break;case iI:n.depthFunc(517);break;default:n.depthFunc(515)}ie=He}},setLocked:function(He){fe=He},setClear:function(He){le!==He&&(n.clearDepth(He),le=He)},reset:function(){fe=!1,Ce=null,ie=null,le=null}}}function o(){let fe=!1,Ce=null,ie=null,le=null,He=null,tt=null,ht=null,st=null,Dn=null;return{setTest:function(Rt){fe||(Rt?J(2960):re(2960))},setMask:function(Rt){Ce!==Rt&&!fe&&(n.stencilMask(Rt),Ce=Rt)},setFunc:function(Rt,en,fn){(ie!==Rt||le!==en||He!==fn)&&(n.stencilFunc(Rt,en,fn),ie=Rt,le=en,He=fn)},setOp:function(Rt,en,fn){(tt!==Rt||ht!==en||st!==fn)&&(n.stencilOp(Rt,en,fn),tt=Rt,ht=en,st=fn)},setLocked:function(Rt){fe=Rt},setClear:function(Rt){Dn!==Rt&&(n.clearStencil(Rt),Dn=Rt)},reset:function(){fe=!1,Ce=null,ie=null,le=null,He=null,tt=null,ht=null,st=null,Dn=null}}}const a=new i,l=new s,u=new o,f=new WeakMap,d=new WeakMap;let p={},m={},g=new WeakMap,v=[],y=null,_=!1,x=null,w=null,b=null,A=null,E=null,C=null,M=null,I=!1,P=null,R=null,O=null,F=null,H=null;const $=n.getParameter(35661);let X=!1,j=0;const D=n.getParameter(7938);D.indexOf("WebGL")!==-1?(j=parseFloat(/^WebGL (\d)/.exec(D)[1]),X=j>=1):D.indexOf("OpenGL ES")!==-1&&(j=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),X=j>=2);let q=null,B={};const G=n.getParameter(3088),N=n.getParameter(2978),U=new $t().fromArray(G),k=new $t().fromArray(N);function W(fe,Ce,ie){const le=new Uint8Array(4),He=n.createTexture();n.bindTexture(fe,He),n.texParameteri(fe,10241,9728),n.texParameteri(fe,10240,9728);for(let tt=0;tt<ie;tt++)n.texImage2D(Ce+tt,0,6408,1,1,0,6408,5121,le);return He}const V={};V[3553]=W(3553,3553,1),V[34067]=W(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),J(2929),l.setFunc(pg),te(!1),Z(L1),J(2884),ge(Qs);function J(fe){p[fe]!==!0&&(n.enable(fe),p[fe]=!0)}function re(fe){p[fe]!==!1&&(n.disable(fe),p[fe]=!1)}function Se(fe,Ce){return m[fe]!==Ce?(n.bindFramebuffer(fe,Ce),m[fe]=Ce,r&&(fe===36009&&(m[36160]=Ce),fe===36160&&(m[36009]=Ce)),!0):!1}function pe(fe,Ce){let ie=v,le=!1;if(fe)if(ie=g.get(Ce),ie===void 0&&(ie=[],g.set(Ce,ie)),fe.isWebGLMultipleRenderTargets){const He=fe.texture;if(ie.length!==He.length||ie[0]!==36064){for(let tt=0,ht=He.length;tt<ht;tt++)ie[tt]=36064+tt;ie.length=He.length,le=!0}}else ie[0]!==36064&&(ie[0]=36064,le=!0);else ie[0]!==1029&&(ie[0]=1029,le=!0);le&&(t.isWebGL2?n.drawBuffers(ie):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ie))}function we(fe){return y!==fe?(n.useProgram(fe),y=fe,!0):!1}const se={[Wa]:32774,[HP]:32778,[VP]:32779};if(r)se[N1]=32775,se[F1]=32776;else{const fe=e.get("EXT_blend_minmax");fe!==null&&(se[N1]=fe.MIN_EXT,se[F1]=fe.MAX_EXT)}const ce={[WP]:0,[GP]:1,[jP]:768,[dS]:770,[ZP]:776,[YP]:774,[qP]:772,[$P]:769,[pS]:771,[JP]:775,[XP]:773};function ge(fe,Ce,ie,le,He,tt,ht,st){if(fe===Qs){_===!0&&(re(3042),_=!1);return}if(_===!1&&(J(3042),_=!0),fe!==UP){if(fe!==x||st!==I){if((w!==Wa||E!==Wa)&&(n.blendEquation(32774),w=Wa,E=Wa),st)switch(fe){case nl:n.blendFuncSeparate(1,771,1,771);break;case O1:n.blendFunc(1,1);break;case k1:n.blendFuncSeparate(0,769,0,1);break;case D1:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",fe);break}else switch(fe){case nl:n.blendFuncSeparate(770,771,1,771);break;case O1:n.blendFunc(770,1);break;case k1:n.blendFuncSeparate(0,769,0,1);break;case D1:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",fe);break}b=null,A=null,C=null,M=null,x=fe,I=st}return}He=He||Ce,tt=tt||ie,ht=ht||le,(Ce!==w||He!==E)&&(n.blendEquationSeparate(se[Ce],se[He]),w=Ce,E=He),(ie!==b||le!==A||tt!==C||ht!==M)&&(n.blendFuncSeparate(ce[ie],ce[le],ce[tt],ce[ht]),b=ie,A=le,C=tt,M=ht),x=fe,I=!1}function ye(fe,Ce){fe.side===ji?re(2884):J(2884);let ie=fe.side===ei;Ce&&(ie=!ie),te(ie),fe.blending===nl&&fe.transparent===!1?ge(Qs):ge(fe.blending,fe.blendEquation,fe.blendSrc,fe.blendDst,fe.blendEquationAlpha,fe.blendSrcAlpha,fe.blendDstAlpha,fe.premultipliedAlpha),l.setFunc(fe.depthFunc),l.setTest(fe.depthTest),l.setMask(fe.depthWrite),a.setMask(fe.colorWrite);const le=fe.stencilWrite;u.setTest(le),le&&(u.setMask(fe.stencilWriteMask),u.setFunc(fe.stencilFunc,fe.stencilRef,fe.stencilFuncMask),u.setOp(fe.stencilFail,fe.stencilZFail,fe.stencilZPass)),Ne(fe.polygonOffset,fe.polygonOffsetFactor,fe.polygonOffsetUnits),fe.alphaToCoverage===!0?J(32926):re(32926)}function te(fe){P!==fe&&(fe?n.frontFace(2304):n.frontFace(2305),P=fe)}function Z(fe){fe!==zP?(J(2884),fe!==R&&(fe===L1?n.cullFace(1029):fe===BP?n.cullFace(1028):n.cullFace(1032))):re(2884),R=fe}function Me(fe){fe!==O&&(X&&n.lineWidth(fe),O=fe)}function Ne(fe,Ce,ie){fe?(J(32823),(F!==Ce||H!==ie)&&(n.polygonOffset(Ce,ie),F=Ce,H=ie)):re(32823)}function Ge(fe){fe?J(3089):re(3089)}function nt(fe){fe===void 0&&(fe=33984+$-1),q!==fe&&(n.activeTexture(fe),q=fe)}function K(fe,Ce,ie){ie===void 0&&(q===null?ie=33984+$-1:ie=q);let le=B[ie];le===void 0&&(le={type:void 0,texture:void 0},B[ie]=le),(le.type!==fe||le.texture!==Ce)&&(q!==ie&&(n.activeTexture(ie),q=ie),n.bindTexture(fe,Ce||V[fe]),le.type=fe,le.texture=Ce)}function Y(){const fe=B[q];fe!==void 0&&fe.type!==void 0&&(n.bindTexture(fe.type,null),fe.type=void 0,fe.texture=void 0)}function he(){try{n.compressedTexImage2D.apply(n,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Le(){try{n.compressedTexImage3D.apply(n,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function ze(){try{n.texSubImage2D.apply(n,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function We(){try{n.texSubImage3D.apply(n,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Ke(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function $e(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Oe(){try{n.texStorage2D.apply(n,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function et(){try{n.texStorage3D.apply(n,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function ae(){try{n.texImage2D.apply(n,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Ee(){try{n.texImage3D.apply(n,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Fe(fe){U.equals(fe)===!1&&(n.scissor(fe.x,fe.y,fe.z,fe.w),U.copy(fe))}function Ue(fe){k.equals(fe)===!1&&(n.viewport(fe.x,fe.y,fe.z,fe.w),k.copy(fe))}function lt(fe,Ce){let ie=d.get(Ce);ie===void 0&&(ie=new WeakMap,d.set(Ce,ie));let le=ie.get(fe);le===void 0&&(le=n.getUniformBlockIndex(Ce,fe.name),ie.set(fe,le))}function wt(fe,Ce){const le=d.get(Ce).get(fe);f.get(fe)!==le&&(n.uniformBlockBinding(Ce,le,fe.__bindingPointIndex),f.set(fe,le))}function Zt(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},q=null,B={},m={},g=new WeakMap,v=[],y=null,_=!1,x=null,w=null,b=null,A=null,E=null,C=null,M=null,I=!1,P=null,R=null,O=null,F=null,H=null,U.set(0,0,n.canvas.width,n.canvas.height),k.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:J,disable:re,bindFramebuffer:Se,drawBuffers:pe,useProgram:we,setBlending:ge,setMaterial:ye,setFlipSided:te,setCullFace:Z,setLineWidth:Me,setPolygonOffset:Ne,setScissorTest:Ge,activeTexture:nt,bindTexture:K,unbindTexture:Y,compressedTexImage2D:he,compressedTexImage3D:Le,texImage2D:ae,texImage3D:Ee,updateUBOMapping:lt,uniformBlockBinding:wt,texStorage2D:Oe,texStorage3D:et,texSubImage2D:ze,texSubImage3D:We,compressedTexSubImage2D:Ke,compressedTexSubImage3D:$e,scissor:Fe,viewport:Ue,reset:Zt}}function O8(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,f=i.maxTextureSize,d=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let v;const y=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(K,Y){return _?new OffscreenCanvas(K,Y):rh("canvas")}function w(K,Y,he,Le){let ze=1;if((K.width>Le||K.height>Le)&&(ze=Le/Math.max(K.width,K.height)),ze<1||Y===!0)if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap){const We=Y?vg:Math.floor,Ke=We(ze*K.width),$e=We(ze*K.height);v===void 0&&(v=x(Ke,$e));const Oe=he?x(Ke,$e):v;return Oe.width=Ke,Oe.height=$e,Oe.getContext("2d").drawImage(K,0,0,Ke,$e),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+K.width+"x"+K.height+") to ("+Ke+"x"+$e+")."),Oe}else return"data"in K&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+K.width+"x"+K.height+")."),K;return K}function b(K){return ox(K.width)&&ox(K.height)}function A(K){return a?!1:K.wrapS!==vr||K.wrapT!==vr||K.minFilter!==On&&K.minFilter!==pn}function E(K,Y){return K.generateMipmaps&&Y&&K.minFilter!==On&&K.minFilter!==pn}function C(K){n.generateMipmap(K)}function M(K,Y,he,Le,ze=!1){if(a===!1)return Y;if(K!==null){if(n[K]!==void 0)return n[K];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let We=Y;return Y===6403&&(he===5126&&(We=33326),he===5131&&(We=33325),he===5121&&(We=33321)),Y===33319&&(he===5126&&(We=33328),he===5131&&(We=33327),he===5121&&(We=33323)),Y===6408&&(he===5126&&(We=34836),he===5131&&(We=34842),he===5121&&(We=Le===tn&&ze===!1?35907:32856),he===32819&&(We=32854),he===32820&&(We=32855)),(We===33325||We===33326||We===33327||We===33328||We===34842||We===34836)&&e.get("EXT_color_buffer_float"),We}function I(K,Y,he){return E(K,he)===!0||K.isFramebufferTexture&&K.minFilter!==On&&K.minFilter!==pn?Math.log2(Math.max(Y.width,Y.height))+1:K.mipmaps!==void 0&&K.mipmaps.length>0?K.mipmaps.length:K.isCompressedTexture&&Array.isArray(K.image)?Y.mipmaps.length:1}function P(K){return K===On||K===mg||K===gg?9728:9729}function R(K){const Y=K.target;Y.removeEventListener("dispose",R),F(Y),Y.isVideoTexture&&g.delete(Y)}function O(K){const Y=K.target;Y.removeEventListener("dispose",O),$(Y)}function F(K){const Y=r.get(K);if(Y.__webglInit===void 0)return;const he=K.source,Le=y.get(he);if(Le){const ze=Le[Y.__cacheKey];ze.usedTimes--,ze.usedTimes===0&&H(K),Object.keys(Le).length===0&&y.delete(he)}r.remove(K)}function H(K){const Y=r.get(K);n.deleteTexture(Y.__webglTexture);const he=K.source,Le=y.get(he);delete Le[Y.__cacheKey],o.memory.textures--}function $(K){const Y=K.texture,he=r.get(K),Le=r.get(Y);if(Le.__webglTexture!==void 0&&(n.deleteTexture(Le.__webglTexture),o.memory.textures--),K.depthTexture&&K.depthTexture.dispose(),K.isWebGLCubeRenderTarget)for(let ze=0;ze<6;ze++)n.deleteFramebuffer(he.__webglFramebuffer[ze]),he.__webglDepthbuffer&&n.deleteRenderbuffer(he.__webglDepthbuffer[ze]);else{if(n.deleteFramebuffer(he.__webglFramebuffer),he.__webglDepthbuffer&&n.deleteRenderbuffer(he.__webglDepthbuffer),he.__webglMultisampledFramebuffer&&n.deleteFramebuffer(he.__webglMultisampledFramebuffer),he.__webglColorRenderbuffer)for(let ze=0;ze<he.__webglColorRenderbuffer.length;ze++)he.__webglColorRenderbuffer[ze]&&n.deleteRenderbuffer(he.__webglColorRenderbuffer[ze]);he.__webglDepthRenderbuffer&&n.deleteRenderbuffer(he.__webglDepthRenderbuffer)}if(K.isWebGLMultipleRenderTargets)for(let ze=0,We=Y.length;ze<We;ze++){const Ke=r.get(Y[ze]);Ke.__webglTexture&&(n.deleteTexture(Ke.__webglTexture),o.memory.textures--),r.remove(Y[ze])}r.remove(Y),r.remove(K)}let X=0;function j(){X=0}function D(){const K=X;return K>=l&&console.warn("THREE.WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+l),X+=1,K}function q(K){const Y=[];return Y.push(K.wrapS),Y.push(K.wrapT),Y.push(K.wrapR||0),Y.push(K.magFilter),Y.push(K.minFilter),Y.push(K.anisotropy),Y.push(K.internalFormat),Y.push(K.format),Y.push(K.type),Y.push(K.generateMipmaps),Y.push(K.premultiplyAlpha),Y.push(K.flipY),Y.push(K.unpackAlignment),Y.push(K.encoding),Y.join()}function B(K,Y){const he=r.get(K);if(K.isVideoTexture&&Ge(K),K.isRenderTargetTexture===!1&&K.version>0&&he.__version!==K.version){const Le=K.image;if(Le===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Le.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{re(he,K,Y);return}}t.bindTexture(3553,he.__webglTexture,33984+Y)}function G(K,Y){const he=r.get(K);if(K.version>0&&he.__version!==K.version){re(he,K,Y);return}t.bindTexture(35866,he.__webglTexture,33984+Y)}function N(K,Y){const he=r.get(K);if(K.version>0&&he.__version!==K.version){re(he,K,Y);return}t.bindTexture(32879,he.__webglTexture,33984+Y)}function U(K,Y){const he=r.get(K);if(K.version>0&&he.__version!==K.version){Se(he,K,Y);return}t.bindTexture(34067,he.__webglTexture,33984+Y)}const k={[Jf]:10497,[vr]:33071,[Zf]:33648},W={[On]:9728,[mg]:9984,[gg]:9986,[pn]:9729,[gS]:9985,[Sl]:9987};function V(K,Y,he){if(he?(n.texParameteri(K,10242,k[Y.wrapS]),n.texParameteri(K,10243,k[Y.wrapT]),(K===32879||K===35866)&&n.texParameteri(K,32882,k[Y.wrapR]),n.texParameteri(K,10240,W[Y.magFilter]),n.texParameteri(K,10241,W[Y.minFilter])):(n.texParameteri(K,10242,33071),n.texParameteri(K,10243,33071),(K===32879||K===35866)&&n.texParameteri(K,32882,33071),(Y.wrapS!==vr||Y.wrapT!==vr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(K,10240,P(Y.magFilter)),n.texParameteri(K,10241,P(Y.minFilter)),Y.minFilter!==On&&Y.minFilter!==pn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Le=e.get("EXT_texture_filter_anisotropic");if(Y.type===qs&&e.has("OES_texture_float_linear")===!1||a===!1&&Y.type===ml&&e.has("OES_texture_half_float_linear")===!1)return;(Y.anisotropy>1||r.get(Y).__currentAnisotropy)&&(n.texParameterf(K,Le.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Y.anisotropy,i.getMaxAnisotropy())),r.get(Y).__currentAnisotropy=Y.anisotropy)}}function J(K,Y){let he=!1;K.__webglInit===void 0&&(K.__webglInit=!0,Y.addEventListener("dispose",R));const Le=Y.source;let ze=y.get(Le);ze===void 0&&(ze={},y.set(Le,ze));const We=q(Y);if(We!==K.__cacheKey){ze[We]===void 0&&(ze[We]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,he=!0),ze[We].usedTimes++;const Ke=ze[K.__cacheKey];Ke!==void 0&&(ze[K.__cacheKey].usedTimes--,Ke.usedTimes===0&&H(Y)),K.__cacheKey=We,K.__webglTexture=ze[We].texture}return he}function re(K,Y,he){let Le=3553;(Y.isDataArrayTexture||Y.isCompressedArrayTexture)&&(Le=35866),Y.isData3DTexture&&(Le=32879);const ze=J(K,Y),We=Y.source;t.bindTexture(Le,K.__webglTexture,33984+he);const Ke=r.get(We);if(We.version!==Ke.__version||ze===!0){t.activeTexture(33984+he),n.pixelStorei(37440,Y.flipY),n.pixelStorei(37441,Y.premultiplyAlpha),n.pixelStorei(3317,Y.unpackAlignment),n.pixelStorei(37443,0);const $e=A(Y)&&b(Y.image)===!1;let Oe=w(Y.image,$e,!1,f);Oe=nt(Y,Oe);const et=b(Oe)||a,ae=s.convert(Y.format,Y.encoding);let Ee=s.convert(Y.type),Fe=M(Y.internalFormat,ae,Ee,Y.encoding,Y.isVideoTexture);V(Le,Y,et);let Ue;const lt=Y.mipmaps,wt=a&&Y.isVideoTexture!==!0,Zt=Ke.__version===void 0||ze===!0,fe=I(Y,Oe,et);if(Y.isDepthTexture)Fe=6402,a?Y.type===qs?Fe=36012:Y.type===Uo?Fe=33190:Y.type===rl?Fe=35056:Fe=33189:Y.type===qs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Y.format===Ko&&Fe===6402&&Y.type!==yS&&Y.type!==Uo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Y.type=Uo,Ee=s.convert(Y.type)),Y.format===gl&&Fe===6402&&(Fe=34041,Y.type!==rl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Y.type=rl,Ee=s.convert(Y.type))),Zt&&(wt?t.texStorage2D(3553,1,Fe,Oe.width,Oe.height):t.texImage2D(3553,0,Fe,Oe.width,Oe.height,0,ae,Ee,null));else if(Y.isDataTexture)if(lt.length>0&&et){wt&&Zt&&t.texStorage2D(3553,fe,Fe,lt[0].width,lt[0].height);for(let Ce=0,ie=lt.length;Ce<ie;Ce++)Ue=lt[Ce],wt?t.texSubImage2D(3553,Ce,0,0,Ue.width,Ue.height,ae,Ee,Ue.data):t.texImage2D(3553,Ce,Fe,Ue.width,Ue.height,0,ae,Ee,Ue.data);Y.generateMipmaps=!1}else wt?(Zt&&t.texStorage2D(3553,fe,Fe,Oe.width,Oe.height),t.texSubImage2D(3553,0,0,0,Oe.width,Oe.height,ae,Ee,Oe.data)):t.texImage2D(3553,0,Fe,Oe.width,Oe.height,0,ae,Ee,Oe.data);else if(Y.isCompressedTexture)if(Y.isCompressedArrayTexture){wt&&Zt&&t.texStorage3D(35866,fe,Fe,lt[0].width,lt[0].height,Oe.depth);for(let Ce=0,ie=lt.length;Ce<ie;Ce++)Ue=lt[Ce],Y.format!==Zr?ae!==null?wt?t.compressedTexSubImage3D(35866,Ce,0,0,0,Ue.width,Ue.height,Oe.depth,ae,Ue.data,0,0):t.compressedTexImage3D(35866,Ce,Fe,Ue.width,Ue.height,Oe.depth,0,Ue.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):wt?t.texSubImage3D(35866,Ce,0,0,0,Ue.width,Ue.height,Oe.depth,ae,Ee,Ue.data):t.texImage3D(35866,Ce,Fe,Ue.width,Ue.height,Oe.depth,0,ae,Ee,Ue.data)}else{wt&&Zt&&t.texStorage2D(3553,fe,Fe,lt[0].width,lt[0].height);for(let Ce=0,ie=lt.length;Ce<ie;Ce++)Ue=lt[Ce],Y.format!==Zr?ae!==null?wt?t.compressedTexSubImage2D(3553,Ce,0,0,Ue.width,Ue.height,ae,Ue.data):t.compressedTexImage2D(3553,Ce,Fe,Ue.width,Ue.height,0,Ue.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):wt?t.texSubImage2D(3553,Ce,0,0,Ue.width,Ue.height,ae,Ee,Ue.data):t.texImage2D(3553,Ce,Fe,Ue.width,Ue.height,0,ae,Ee,Ue.data)}else if(Y.isDataArrayTexture)wt?(Zt&&t.texStorage3D(35866,fe,Fe,Oe.width,Oe.height,Oe.depth),t.texSubImage3D(35866,0,0,0,0,Oe.width,Oe.height,Oe.depth,ae,Ee,Oe.data)):t.texImage3D(35866,0,Fe,Oe.width,Oe.height,Oe.depth,0,ae,Ee,Oe.data);else if(Y.isData3DTexture)wt?(Zt&&t.texStorage3D(32879,fe,Fe,Oe.width,Oe.height,Oe.depth),t.texSubImage3D(32879,0,0,0,0,Oe.width,Oe.height,Oe.depth,ae,Ee,Oe.data)):t.texImage3D(32879,0,Fe,Oe.width,Oe.height,Oe.depth,0,ae,Ee,Oe.data);else if(Y.isFramebufferTexture){if(Zt)if(wt)t.texStorage2D(3553,fe,Fe,Oe.width,Oe.height);else{let Ce=Oe.width,ie=Oe.height;for(let le=0;le<fe;le++)t.texImage2D(3553,le,Fe,Ce,ie,0,ae,Ee,null),Ce>>=1,ie>>=1}}else if(lt.length>0&&et){wt&&Zt&&t.texStorage2D(3553,fe,Fe,lt[0].width,lt[0].height);for(let Ce=0,ie=lt.length;Ce<ie;Ce++)Ue=lt[Ce],wt?t.texSubImage2D(3553,Ce,0,0,ae,Ee,Ue):t.texImage2D(3553,Ce,Fe,ae,Ee,Ue);Y.generateMipmaps=!1}else wt?(Zt&&t.texStorage2D(3553,fe,Fe,Oe.width,Oe.height),t.texSubImage2D(3553,0,0,0,ae,Ee,Oe)):t.texImage2D(3553,0,Fe,ae,Ee,Oe);E(Y,et)&&C(Le),Ke.__version=We.version,Y.onUpdate&&Y.onUpdate(Y)}K.__version=Y.version}function Se(K,Y,he){if(Y.image.length!==6)return;const Le=J(K,Y),ze=Y.source;t.bindTexture(34067,K.__webglTexture,33984+he);const We=r.get(ze);if(ze.version!==We.__version||Le===!0){t.activeTexture(33984+he),n.pixelStorei(37440,Y.flipY),n.pixelStorei(37441,Y.premultiplyAlpha),n.pixelStorei(3317,Y.unpackAlignment),n.pixelStorei(37443,0);const Ke=Y.isCompressedTexture||Y.image[0].isCompressedTexture,$e=Y.image[0]&&Y.image[0].isDataTexture,Oe=[];for(let Ce=0;Ce<6;Ce++)!Ke&&!$e?Oe[Ce]=w(Y.image[Ce],!1,!0,u):Oe[Ce]=$e?Y.image[Ce].image:Y.image[Ce],Oe[Ce]=nt(Y,Oe[Ce]);const et=Oe[0],ae=b(et)||a,Ee=s.convert(Y.format,Y.encoding),Fe=s.convert(Y.type),Ue=M(Y.internalFormat,Ee,Fe,Y.encoding),lt=a&&Y.isVideoTexture!==!0,wt=We.__version===void 0||Le===!0;let Zt=I(Y,et,ae);V(34067,Y,ae);let fe;if(Ke){lt&&wt&&t.texStorage2D(34067,Zt,Ue,et.width,et.height);for(let Ce=0;Ce<6;Ce++){fe=Oe[Ce].mipmaps;for(let ie=0;ie<fe.length;ie++){const le=fe[ie];Y.format!==Zr?Ee!==null?lt?t.compressedTexSubImage2D(34069+Ce,ie,0,0,le.width,le.height,Ee,le.data):t.compressedTexImage2D(34069+Ce,ie,Ue,le.width,le.height,0,le.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):lt?t.texSubImage2D(34069+Ce,ie,0,0,le.width,le.height,Ee,Fe,le.data):t.texImage2D(34069+Ce,ie,Ue,le.width,le.height,0,Ee,Fe,le.data)}}}else{fe=Y.mipmaps,lt&&wt&&(fe.length>0&&Zt++,t.texStorage2D(34067,Zt,Ue,Oe[0].width,Oe[0].height));for(let Ce=0;Ce<6;Ce++)if($e){lt?t.texSubImage2D(34069+Ce,0,0,0,Oe[Ce].width,Oe[Ce].height,Ee,Fe,Oe[Ce].data):t.texImage2D(34069+Ce,0,Ue,Oe[Ce].width,Oe[Ce].height,0,Ee,Fe,Oe[Ce].data);for(let ie=0;ie<fe.length;ie++){const He=fe[ie].image[Ce].image;lt?t.texSubImage2D(34069+Ce,ie+1,0,0,He.width,He.height,Ee,Fe,He.data):t.texImage2D(34069+Ce,ie+1,Ue,He.width,He.height,0,Ee,Fe,He.data)}}else{lt?t.texSubImage2D(34069+Ce,0,0,0,Ee,Fe,Oe[Ce]):t.texImage2D(34069+Ce,0,Ue,Ee,Fe,Oe[Ce]);for(let ie=0;ie<fe.length;ie++){const le=fe[ie];lt?t.texSubImage2D(34069+Ce,ie+1,0,0,Ee,Fe,le.image[Ce]):t.texImage2D(34069+Ce,ie+1,Ue,Ee,Fe,le.image[Ce])}}}E(Y,ae)&&C(34067),We.__version=ze.version,Y.onUpdate&&Y.onUpdate(Y)}K.__version=Y.version}function pe(K,Y,he,Le,ze){const We=s.convert(he.format,he.encoding),Ke=s.convert(he.type),$e=M(he.internalFormat,We,Ke,he.encoding);r.get(Y).__hasExternalTextures||(ze===32879||ze===35866?t.texImage3D(ze,0,$e,Y.width,Y.height,Y.depth,0,We,Ke,null):t.texImage2D(ze,0,$e,Y.width,Y.height,0,We,Ke,null)),t.bindFramebuffer(36160,K),Ne(Y)?p.framebufferTexture2DMultisampleEXT(36160,Le,ze,r.get(he).__webglTexture,0,Me(Y)):(ze===3553||ze>=34069&&ze<=34074)&&n.framebufferTexture2D(36160,Le,ze,r.get(he).__webglTexture,0),t.bindFramebuffer(36160,null)}function we(K,Y,he){if(n.bindRenderbuffer(36161,K),Y.depthBuffer&&!Y.stencilBuffer){let Le=33189;if(he||Ne(Y)){const ze=Y.depthTexture;ze&&ze.isDepthTexture&&(ze.type===qs?Le=36012:ze.type===Uo&&(Le=33190));const We=Me(Y);Ne(Y)?p.renderbufferStorageMultisampleEXT(36161,We,Le,Y.width,Y.height):n.renderbufferStorageMultisample(36161,We,Le,Y.width,Y.height)}else n.renderbufferStorage(36161,Le,Y.width,Y.height);n.framebufferRenderbuffer(36160,36096,36161,K)}else if(Y.depthBuffer&&Y.stencilBuffer){const Le=Me(Y);he&&Ne(Y)===!1?n.renderbufferStorageMultisample(36161,Le,35056,Y.width,Y.height):Ne(Y)?p.renderbufferStorageMultisampleEXT(36161,Le,35056,Y.width,Y.height):n.renderbufferStorage(36161,34041,Y.width,Y.height),n.framebufferRenderbuffer(36160,33306,36161,K)}else{const Le=Y.isWebGLMultipleRenderTargets===!0?Y.texture:[Y.texture];for(let ze=0;ze<Le.length;ze++){const We=Le[ze],Ke=s.convert(We.format,We.encoding),$e=s.convert(We.type),Oe=M(We.internalFormat,Ke,$e,We.encoding),et=Me(Y);he&&Ne(Y)===!1?n.renderbufferStorageMultisample(36161,et,Oe,Y.width,Y.height):Ne(Y)?p.renderbufferStorageMultisampleEXT(36161,et,Oe,Y.width,Y.height):n.renderbufferStorage(36161,Oe,Y.width,Y.height)}}n.bindRenderbuffer(36161,null)}function se(K,Y){if(Y&&Y.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,K),!(Y.depthTexture&&Y.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(Y.depthTexture).__webglTexture||Y.depthTexture.image.width!==Y.width||Y.depthTexture.image.height!==Y.height)&&(Y.depthTexture.image.width=Y.width,Y.depthTexture.image.height=Y.height,Y.depthTexture.needsUpdate=!0),B(Y.depthTexture,0);const Le=r.get(Y.depthTexture).__webglTexture,ze=Me(Y);if(Y.depthTexture.format===Ko)Ne(Y)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,Le,0,ze):n.framebufferTexture2D(36160,36096,3553,Le,0);else if(Y.depthTexture.format===gl)Ne(Y)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,Le,0,ze):n.framebufferTexture2D(36160,33306,3553,Le,0);else throw new Error("Unknown depthTexture format")}function ce(K){const Y=r.get(K),he=K.isWebGLCubeRenderTarget===!0;if(K.depthTexture&&!Y.__autoAllocateDepthBuffer){if(he)throw new Error("target.depthTexture not supported in Cube render targets");se(Y.__webglFramebuffer,K)}else if(he){Y.__webglDepthbuffer=[];for(let Le=0;Le<6;Le++)t.bindFramebuffer(36160,Y.__webglFramebuffer[Le]),Y.__webglDepthbuffer[Le]=n.createRenderbuffer(),we(Y.__webglDepthbuffer[Le],K,!1)}else t.bindFramebuffer(36160,Y.__webglFramebuffer),Y.__webglDepthbuffer=n.createRenderbuffer(),we(Y.__webglDepthbuffer,K,!1);t.bindFramebuffer(36160,null)}function ge(K,Y,he){const Le=r.get(K);Y!==void 0&&pe(Le.__webglFramebuffer,K,K.texture,36064,3553),he!==void 0&&ce(K)}function ye(K){const Y=K.texture,he=r.get(K),Le=r.get(Y);K.addEventListener("dispose",O),K.isWebGLMultipleRenderTargets!==!0&&(Le.__webglTexture===void 0&&(Le.__webglTexture=n.createTexture()),Le.__version=Y.version,o.memory.textures++);const ze=K.isWebGLCubeRenderTarget===!0,We=K.isWebGLMultipleRenderTargets===!0,Ke=b(K)||a;if(ze){he.__webglFramebuffer=[];for(let $e=0;$e<6;$e++)he.__webglFramebuffer[$e]=n.createFramebuffer()}else{if(he.__webglFramebuffer=n.createFramebuffer(),We)if(i.drawBuffers){const $e=K.texture;for(let Oe=0,et=$e.length;Oe<et;Oe++){const ae=r.get($e[Oe]);ae.__webglTexture===void 0&&(ae.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&K.samples>0&&Ne(K)===!1){const $e=We?Y:[Y];he.__webglMultisampledFramebuffer=n.createFramebuffer(),he.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,he.__webglMultisampledFramebuffer);for(let Oe=0;Oe<$e.length;Oe++){const et=$e[Oe];he.__webglColorRenderbuffer[Oe]=n.createRenderbuffer(),n.bindRenderbuffer(36161,he.__webglColorRenderbuffer[Oe]);const ae=s.convert(et.format,et.encoding),Ee=s.convert(et.type),Fe=M(et.internalFormat,ae,Ee,et.encoding,K.isXRRenderTarget===!0),Ue=Me(K);n.renderbufferStorageMultisample(36161,Ue,Fe,K.width,K.height),n.framebufferRenderbuffer(36160,36064+Oe,36161,he.__webglColorRenderbuffer[Oe])}n.bindRenderbuffer(36161,null),K.depthBuffer&&(he.__webglDepthRenderbuffer=n.createRenderbuffer(),we(he.__webglDepthRenderbuffer,K,!0)),t.bindFramebuffer(36160,null)}}if(ze){t.bindTexture(34067,Le.__webglTexture),V(34067,Y,Ke);for(let $e=0;$e<6;$e++)pe(he.__webglFramebuffer[$e],K,Y,36064,34069+$e);E(Y,Ke)&&C(34067),t.unbindTexture()}else if(We){const $e=K.texture;for(let Oe=0,et=$e.length;Oe<et;Oe++){const ae=$e[Oe],Ee=r.get(ae);t.bindTexture(3553,Ee.__webglTexture),V(3553,ae,Ke),pe(he.__webglFramebuffer,K,ae,36064+Oe,3553),E(ae,Ke)&&C(3553)}t.unbindTexture()}else{let $e=3553;(K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(a?$e=K.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture($e,Le.__webglTexture),V($e,Y,Ke),pe(he.__webglFramebuffer,K,Y,36064,$e),E(Y,Ke)&&C($e),t.unbindTexture()}K.depthBuffer&&ce(K)}function te(K){const Y=b(K)||a,he=K.isWebGLMultipleRenderTargets===!0?K.texture:[K.texture];for(let Le=0,ze=he.length;Le<ze;Le++){const We=he[Le];if(E(We,Y)){const Ke=K.isWebGLCubeRenderTarget?34067:3553,$e=r.get(We).__webglTexture;t.bindTexture(Ke,$e),C(Ke),t.unbindTexture()}}}function Z(K){if(a&&K.samples>0&&Ne(K)===!1){const Y=K.isWebGLMultipleRenderTargets?K.texture:[K.texture],he=K.width,Le=K.height;let ze=16384;const We=[],Ke=K.stencilBuffer?33306:36096,$e=r.get(K),Oe=K.isWebGLMultipleRenderTargets===!0;if(Oe)for(let et=0;et<Y.length;et++)t.bindFramebuffer(36160,$e.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+et,36161,null),t.bindFramebuffer(36160,$e.__webglFramebuffer),n.framebufferTexture2D(36009,36064+et,3553,null,0);t.bindFramebuffer(36008,$e.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,$e.__webglFramebuffer);for(let et=0;et<Y.length;et++){We.push(36064+et),K.depthBuffer&&We.push(Ke);const ae=$e.__ignoreDepthValues!==void 0?$e.__ignoreDepthValues:!1;if(ae===!1&&(K.depthBuffer&&(ze|=256),K.stencilBuffer&&(ze|=1024)),Oe&&n.framebufferRenderbuffer(36008,36064,36161,$e.__webglColorRenderbuffer[et]),ae===!0&&(n.invalidateFramebuffer(36008,[Ke]),n.invalidateFramebuffer(36009,[Ke])),Oe){const Ee=r.get(Y[et]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,Ee,0)}n.blitFramebuffer(0,0,he,Le,0,0,he,Le,ze,9728),m&&n.invalidateFramebuffer(36008,We)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),Oe)for(let et=0;et<Y.length;et++){t.bindFramebuffer(36160,$e.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+et,36161,$e.__webglColorRenderbuffer[et]);const ae=r.get(Y[et]).__webglTexture;t.bindFramebuffer(36160,$e.__webglFramebuffer),n.framebufferTexture2D(36009,36064+et,3553,ae,0)}t.bindFramebuffer(36009,$e.__webglMultisampledFramebuffer)}}function Me(K){return Math.min(d,K.samples)}function Ne(K){const Y=r.get(K);return a&&K.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Y.__useRenderToTexture!==!1}function Ge(K){const Y=o.render.frame;g.get(K)!==Y&&(g.set(K,Y),K.update())}function nt(K,Y){const he=K.encoding,Le=K.format,ze=K.type;return K.isCompressedTexture===!0||K.isVideoTexture===!0||K.format===yg||he!==ro&&(he===tn?a===!1?e.has("EXT_sRGB")===!0&&Le===Zr?(K.format=yg,K.minFilter=pn,K.generateMipmaps=!1):Y=xS.sRGBToLinear(Y):(Le!==Zr||ze!==aa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",he)),Y}this.allocateTextureUnit=D,this.resetTextureUnits=j,this.setTexture2D=B,this.setTexture2DArray=G,this.setTexture3D=N,this.setTextureCube=U,this.rebindTextures=ge,this.setupRenderTarget=ye,this.updateRenderTargetMipmap=te,this.updateMultisampleRenderTarget=Z,this.setupDepthRenderbuffer=ce,this.setupFrameBufferTexture=pe,this.useMultisampledRTT=Ne}function jI(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===aa)return 5121;if(s===pI)return 32819;if(s===mI)return 32820;if(s===fI)return 5120;if(s===hI)return 5122;if(s===yS)return 5123;if(s===dI)return 5124;if(s===Uo)return 5125;if(s===qs)return 5126;if(s===ml)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===gI)return 6406;if(s===Zr)return 6408;if(s===vI)return 6409;if(s===_I)return 6410;if(s===Ko)return 6402;if(s===gl)return 34041;if(s===yI)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===yg)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===xI)return 6403;if(s===wI)return 36244;if(s===SI)return 33319;if(s===bI)return 33320;if(s===MI)return 36249;if(s===Im||s===Rm||s===Lm||s===Om)if(o===tn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Im)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Rm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Lm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Om)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Im)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Rm)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Lm)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Om)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===z1||s===B1||s===U1||s===H1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===z1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===B1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===U1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===H1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===EI)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===V1||s===W1)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===V1)return o===tn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===W1)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===G1||s===j1||s===$1||s===q1||s===X1||s===Y1||s===J1||s===Z1||s===Q1||s===K1||s===ex||s===tx||s===nx||s===rx)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===G1)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===j1)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===$1)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===q1)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===X1)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Y1)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===J1)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Z1)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Q1)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===K1)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===ex)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===tx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===nx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===rx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===ix)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===ix)return o===tn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===rl?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class $I extends nn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ou extends Ut{constructor(){super(),this.isGroup=!0,this.type="Group"}}const k8={type:"move"};class Xv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ou,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ou,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ou,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const v of e.hand.values()){const y=t.getJointPose(v,r),_=this._getHandJoint(u,v);y!==null&&(_.matrix.fromArray(y.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.jointRadius=y.radius),_.visible=y!==null}const f=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],p=f.position.distanceTo(d.position),m=.02,g=.005;u.inputState.pinching&&p>m+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(k8)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Ou;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class qI extends bn{constructor(e,t,r,i,s,o,a,l,u,f){if(f=f!==void 0?f:Ko,f!==Ko&&f!==gl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&f===Ko&&(r=Uo),r===void 0&&f===gl&&(r=rl),super(null,i,s,o,a,l,f,r,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:On,this.minFilter=l!==void 0?l:On,this.flipY=!1,this.generateMipmaps=!1}}class D8 extends bs{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,u=null,f=null,d=null,p=null,m=null;const g=t.getContextAttributes();let v=null,y=null;const _=[],x=[],w=new Set,b=new Map,A=new nn;A.layers.enable(1),A.viewport=new $t;const E=new nn;E.layers.enable(2),E.viewport=new $t;const C=[A,E],M=new $I;M.layers.enable(1),M.layers.enable(2);let I=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let N=_[G];return N===void 0&&(N=new Xv,_[G]=N),N.getTargetRaySpace()},this.getControllerGrip=function(G){let N=_[G];return N===void 0&&(N=new Xv,_[G]=N),N.getGripSpace()},this.getHand=function(G){let N=_[G];return N===void 0&&(N=new Xv,_[G]=N),N.getHandSpace()};function R(G){const N=x.indexOf(G.inputSource);if(N===-1)return;const U=_[N];U!==void 0&&U.dispatchEvent({type:G.type,data:G.inputSource})}function O(){i.removeEventListener("select",R),i.removeEventListener("selectstart",R),i.removeEventListener("selectend",R),i.removeEventListener("squeeze",R),i.removeEventListener("squeezestart",R),i.removeEventListener("squeezeend",R),i.removeEventListener("end",O),i.removeEventListener("inputsourceschange",F);for(let G=0;G<_.length;G++){const N=x[G];N!==null&&(x[G]=null,_[G].disconnect(N))}I=null,P=null,e.setRenderTarget(v),p=null,d=null,f=null,i=null,y=null,B.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){s=G,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){a=G,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(G){l=G},this.getBaseLayer=function(){return d!==null?d:p},this.getBinding=function(){return f},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(G){if(i=G,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",R),i.addEventListener("selectstart",R),i.addEventListener("selectend",R),i.addEventListener("squeeze",R),i.addEventListener("squeezestart",R),i.addEventListener("squeezeend",R),i.addEventListener("end",O),i.addEventListener("inputsourceschange",F),g.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const N={antialias:i.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(i,t,N),i.updateRenderState({baseLayer:p}),y=new ri(p.framebufferWidth,p.framebufferHeight,{format:Zr,type:aa,encoding:e.outputEncoding,stencilBuffer:g.stencil})}else{let N=null,U=null,k=null;g.depth&&(k=g.stencil?35056:33190,N=g.stencil?gl:Ko,U=g.stencil?rl:Uo);const W={colorFormat:32856,depthFormat:k,scaleFactor:s};f=new XRWebGLBinding(i,t),d=f.createProjectionLayer(W),i.updateRenderState({layers:[d]}),y=new ri(d.textureWidth,d.textureHeight,{format:Zr,type:aa,depthTexture:new qI(d.textureWidth,d.textureHeight,U,void 0,void 0,void 0,void 0,void 0,void 0,N),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const V=e.properties.get(y);V.__ignoreDepthValues=d.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),B.setContext(i),B.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function F(G){for(let N=0;N<G.removed.length;N++){const U=G.removed[N],k=x.indexOf(U);k>=0&&(x[k]=null,_[k].disconnect(U))}for(let N=0;N<G.added.length;N++){const U=G.added[N];let k=x.indexOf(U);if(k===-1){for(let V=0;V<_.length;V++)if(V>=x.length){x.push(U),k=V;break}else if(x[V]===null){x[V]=U,k=V;break}if(k===-1)break}const W=_[k];W&&W.connect(U)}}const H=new Q,$=new Q;function X(G,N,U){H.setFromMatrixPosition(N.matrixWorld),$.setFromMatrixPosition(U.matrixWorld);const k=H.distanceTo($),W=N.projectionMatrix.elements,V=U.projectionMatrix.elements,J=W[14]/(W[10]-1),re=W[14]/(W[10]+1),Se=(W[9]+1)/W[5],pe=(W[9]-1)/W[5],we=(W[8]-1)/W[0],se=(V[8]+1)/V[0],ce=J*we,ge=J*se,ye=k/(-we+se),te=ye*-we;N.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(te),G.translateZ(ye),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert();const Z=J+ye,Me=re+ye,Ne=ce-te,Ge=ge+(k-te),nt=Se*re/Me*Z,K=pe*re/Me*Z;G.projectionMatrix.makePerspective(Ne,Ge,nt,K,Z,Me)}function j(G,N){N===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(N.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(i===null)return;M.near=E.near=A.near=G.near,M.far=E.far=A.far=G.far,(I!==M.near||P!==M.far)&&(i.updateRenderState({depthNear:M.near,depthFar:M.far}),I=M.near,P=M.far);const N=G.parent,U=M.cameras;j(M,N);for(let W=0;W<U.length;W++)j(U[W],N);M.matrixWorld.decompose(M.position,M.quaternion,M.scale),G.matrix.copy(M.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale);const k=G.children;for(let W=0,V=k.length;W<V;W++)k[W].updateMatrixWorld(!0);U.length===2?X(M,A,E):M.projectionMatrix.copy(A.projectionMatrix)},this.getCamera=function(){return M},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(p!==null)return p.fixedFoveation},this.setFoveation=function(G){d!==null&&(d.fixedFoveation=G),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=G)},this.getPlanes=function(){return w};let D=null;function q(G,N){if(u=N.getViewerPose(l||o),m=N,u!==null){const U=u.views;p!==null&&(e.setRenderTargetFramebuffer(y,p.framebuffer),e.setRenderTarget(y));let k=!1;U.length!==M.cameras.length&&(M.cameras.length=0,k=!0);for(let W=0;W<U.length;W++){const V=U[W];let J=null;if(p!==null)J=p.getViewport(V);else{const Se=f.getViewSubImage(d,V);J=Se.viewport,W===0&&(e.setRenderTargetTextures(y,Se.colorTexture,d.ignoreDepthValues?void 0:Se.depthStencilTexture),e.setRenderTarget(y))}let re=C[W];re===void 0&&(re=new nn,re.layers.enable(W),re.viewport=new $t,C[W]=re),re.matrix.fromArray(V.transform.matrix),re.projectionMatrix.fromArray(V.projectionMatrix),re.viewport.set(J.x,J.y,J.width,J.height),W===0&&M.matrix.copy(re.matrix),k===!0&&M.cameras.push(re)}}for(let U=0;U<_.length;U++){const k=x[U],W=_[U];k!==null&&W!==void 0&&W.update(k,N,l||o)}if(D&&D(G,N),N.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:N.detectedPlanes});let U=null;for(const k of w)N.detectedPlanes.has(k)||(U===null&&(U=[]),U.push(k));if(U!==null)for(const k of U)w.delete(k),b.delete(k),r.dispatchEvent({type:"planeremoved",data:k});for(const k of N.detectedPlanes)if(!w.has(k))w.add(k),b.set(k,N.lastChangedTime),r.dispatchEvent({type:"planeadded",data:k});else{const W=b.get(k);k.lastChangedTime>W&&(b.set(k,k.lastChangedTime),r.dispatchEvent({type:"planechanged",data:k}))}}m=null}const B=new UI;B.setAnimationLoop(q),this.setAnimationLoop=function(G){D=G},this.dispose=function(){}}}function N8(n,e){function t(v,y){y.color.getRGB(v.fogColor.value,NI(n)),y.isFog?(v.fogNear.value=y.near,v.fogFar.value=y.far):y.isFogExp2&&(v.fogDensity.value=y.density)}function r(v,y,_,x,w){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(v,y):y.isMeshToonMaterial?(i(v,y),f(v,y)):y.isMeshPhongMaterial?(i(v,y),u(v,y)):y.isMeshStandardMaterial?(i(v,y),d(v,y),y.isMeshPhysicalMaterial&&p(v,y,w)):y.isMeshMatcapMaterial?(i(v,y),m(v,y)):y.isMeshDepthMaterial?i(v,y):y.isMeshDistanceMaterial?(i(v,y),g(v,y)):y.isMeshNormalMaterial?i(v,y):y.isLineBasicMaterial?(s(v,y),y.isLineDashedMaterial&&o(v,y)):y.isPointsMaterial?a(v,y,_,x):y.isSpriteMaterial?l(v,y):y.isShadowMaterial?(v.color.value.copy(y.color),v.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(v,y){v.opacity.value=y.opacity,y.color&&v.diffuse.value.copy(y.color),y.emissive&&v.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.bumpMap&&(v.bumpMap.value=y.bumpMap,v.bumpScale.value=y.bumpScale,y.side===ei&&(v.bumpScale.value*=-1)),y.displacementMap&&(v.displacementMap.value=y.displacementMap,v.displacementScale.value=y.displacementScale,v.displacementBias.value=y.displacementBias),y.emissiveMap&&(v.emissiveMap.value=y.emissiveMap),y.normalMap&&(v.normalMap.value=y.normalMap,v.normalScale.value.copy(y.normalScale),y.side===ei&&v.normalScale.value.negate()),y.specularMap&&(v.specularMap.value=y.specularMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);const _=e.get(y).envMap;if(_&&(v.envMap.value=_,v.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=y.reflectivity,v.ior.value=y.ior,v.refractionRatio.value=y.refractionRatio),y.lightMap){v.lightMap.value=y.lightMap;const b=n.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=y.lightMapIntensity*b}y.aoMap&&(v.aoMap.value=y.aoMap,v.aoMapIntensity.value=y.aoMapIntensity);let x;y.map?x=y.map:y.specularMap?x=y.specularMap:y.displacementMap?x=y.displacementMap:y.normalMap?x=y.normalMap:y.bumpMap?x=y.bumpMap:y.roughnessMap?x=y.roughnessMap:y.metalnessMap?x=y.metalnessMap:y.alphaMap?x=y.alphaMap:y.emissiveMap?x=y.emissiveMap:y.clearcoatMap?x=y.clearcoatMap:y.clearcoatNormalMap?x=y.clearcoatNormalMap:y.clearcoatRoughnessMap?x=y.clearcoatRoughnessMap:y.iridescenceMap?x=y.iridescenceMap:y.iridescenceThicknessMap?x=y.iridescenceThicknessMap:y.specularIntensityMap?x=y.specularIntensityMap:y.specularColorMap?x=y.specularColorMap:y.transmissionMap?x=y.transmissionMap:y.thicknessMap?x=y.thicknessMap:y.sheenColorMap?x=y.sheenColorMap:y.sheenRoughnessMap&&(x=y.sheenRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),v.uvTransform.value.copy(x.matrix));let w;y.aoMap?w=y.aoMap:y.lightMap&&(w=y.lightMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uv2Transform.value.copy(w.matrix))}function s(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity}function o(v,y){v.dashSize.value=y.dashSize,v.totalSize.value=y.dashSize+y.gapSize,v.scale.value=y.scale}function a(v,y,_,x){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.size.value=y.size*_,v.scale.value=x*.5,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let w;y.map?w=y.map:y.alphaMap&&(w=y.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uvTransform.value.copy(w.matrix))}function l(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.rotation.value=y.rotation,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let _;y.map?_=y.map:y.alphaMap&&(_=y.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),v.uvTransform.value.copy(_.matrix))}function u(v,y){v.specular.value.copy(y.specular),v.shininess.value=Math.max(y.shininess,1e-4)}function f(v,y){y.gradientMap&&(v.gradientMap.value=y.gradientMap)}function d(v,y){v.roughness.value=y.roughness,v.metalness.value=y.metalness,y.roughnessMap&&(v.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(v.metalnessMap.value=y.metalnessMap),e.get(y).envMap&&(v.envMapIntensity.value=y.envMapIntensity)}function p(v,y,_){v.ior.value=y.ior,y.sheen>0&&(v.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),v.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(v.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(v.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(v.clearcoat.value=y.clearcoat,v.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(v.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),v.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===ei&&v.clearcoatNormalScale.value.negate())),y.iridescence>0&&(v.iridescence.value=y.iridescence,v.iridescenceIOR.value=y.iridescenceIOR,v.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(v.iridescenceMap.value=y.iridescenceMap),y.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=y.iridescenceThicknessMap)),y.transmission>0&&(v.transmission.value=y.transmission,v.transmissionSamplerMap.value=_.texture,v.transmissionSamplerSize.value.set(_.width,_.height),y.transmissionMap&&(v.transmissionMap.value=y.transmissionMap),v.thickness.value=y.thickness,y.thicknessMap&&(v.thicknessMap.value=y.thicknessMap),v.attenuationDistance.value=y.attenuationDistance,v.attenuationColor.value.copy(y.attenuationColor)),v.specularIntensity.value=y.specularIntensity,v.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(v.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(v.specularColorMap.value=y.specularColorMap)}function m(v,y){y.matcap&&(v.matcap.value=y.matcap)}function g(v,y){v.referencePosition.value.copy(y.referencePosition),v.nearDistance.value=y.nearDistance,v.farDistance.value=y.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function F8(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(x,w){const b=w.program;r.uniformBlockBinding(x,b)}function u(x,w){let b=i[x.id];b===void 0&&(g(x),b=f(x),i[x.id]=b,x.addEventListener("dispose",y));const A=w.program;r.updateUBOMapping(x,A);const E=e.render.frame;s[x.id]!==E&&(p(x),s[x.id]=E)}function f(x){const w=d();x.__bindingPointIndex=w;const b=n.createBuffer(),A=x.__size,E=x.usage;return n.bindBuffer(35345,b),n.bufferData(35345,A,E),n.bindBuffer(35345,null),n.bindBufferBase(35345,w,b),b}function d(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(x){const w=i[x.id],b=x.uniforms,A=x.__cache;n.bindBuffer(35345,w);for(let E=0,C=b.length;E<C;E++){const M=b[E];if(m(M,E,A)===!0){const I=M.value,P=M.__offset;typeof I=="number"?(M.__data[0]=I,n.bufferSubData(35345,P,M.__data)):(M.value.isMatrix3?(M.__data[0]=M.value.elements[0],M.__data[1]=M.value.elements[1],M.__data[2]=M.value.elements[2],M.__data[3]=M.value.elements[0],M.__data[4]=M.value.elements[3],M.__data[5]=M.value.elements[4],M.__data[6]=M.value.elements[5],M.__data[7]=M.value.elements[0],M.__data[8]=M.value.elements[6],M.__data[9]=M.value.elements[7],M.__data[10]=M.value.elements[8],M.__data[11]=M.value.elements[0]):I.toArray(M.__data),n.bufferSubData(35345,P,M.__data))}}n.bindBuffer(35345,null)}function m(x,w,b){const A=x.value;if(b[w]===void 0)return typeof A=="number"?b[w]=A:b[w]=A.clone(),!0;if(typeof A=="number"){if(b[w]!==A)return b[w]=A,!0}else{const E=b[w];if(E.equals(A)===!1)return E.copy(A),!0}return!1}function g(x){const w=x.uniforms;let b=0;const A=16;let E=0;for(let C=0,M=w.length;C<M;C++){const I=w[C],P=v(I);if(I.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=b,C>0){E=b%A;const R=A-E;E!==0&&R-P.boundary<0&&(b+=A-E,I.__offset=b)}b+=P.storage}return E=b%A,E>0&&(b+=A-E),x.__size=b,x.__cache={},this}function v(x){const w=x.value,b={boundary:0,storage:0};return typeof w=="number"?(b.boundary=4,b.storage=4):w.isVector2?(b.boundary=8,b.storage=8):w.isVector3||w.isColor?(b.boundary=16,b.storage=12):w.isVector4?(b.boundary=16,b.storage=16):w.isMatrix3?(b.boundary=48,b.storage=48):w.isMatrix4?(b.boundary=64,b.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),b}function y(x){const w=x.target;w.removeEventListener("dispose",y);const b=o.indexOf(w.__bindingPointIndex);o.splice(b,1),n.deleteBuffer(i[w.id]),delete i[w.id],delete s[w.id]}function _(){for(const x in i)n.deleteBuffer(i[x]);o=[],i={},s={}}return{bind:l,update:u,dispose:_}}function z8(){const n=rh("canvas");return n.style.display="block",n}function CS(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:z8(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let f;t!==null?f=t.getContextAttributes().alpha:f=n.alpha!==void 0?n.alpha:!1;let d=null,p=null;const m=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=ro,this.physicallyCorrectLights=!1,this.toneMapping=Xi,this.toneMappingExposure=1;const v=this;let y=!1,_=0,x=0,w=null,b=-1,A=null;const E=new $t,C=new $t;let M=null,I=e.width,P=e.height,R=1,O=null,F=null;const H=new $t(0,0,I,P),$=new $t(0,0,I,P);let X=!1;const j=new w0;let D=!1,q=!1,B=null;const G=new yt,N=new be,U=new Q,k={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function W(){return w===null?R:1}let V=t;function J(ee,_e){for(let Ie=0;Ie<ee.length;Ie++){const ve=ee[Ie],Re=e.getContext(ve,_e);if(Re!==null)return Re}return null}try{const ee={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${y0}`),e.addEventListener("webglcontextlost",Fe,!1),e.addEventListener("webglcontextrestored",Ue,!1),e.addEventListener("webglcontextcreationerror",lt,!1),V===null){const _e=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&_e.shift(),V=J(_e,ee),V===null)throw J(_e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}V.getShaderPrecisionFormat===void 0&&(V.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ee){throw console.error("THREE.WebGLRenderer: "+ee.message),ee}let re,Se,pe,we,se,ce,ge,ye,te,Z,Me,Ne,Ge,nt,K,Y,he,Le,ze,We,Ke,$e,Oe,et;function ae(){re=new eU(V),Se=new X6(V,re,n),re.init(Se),$e=new jI(V,re,Se),pe=new L8(V,re,Se),we=new rU,se=new x8,ce=new O8(V,re,pe,se,Se,$e,we),ge=new J6(v),ye=new K6(v),te=new hz(V,Se),Oe=new $6(V,re,te,Se),Z=new tU(V,te,we,Oe),Me=new aU(V,Z,te,we),ze=new oU(V,Se,ce),Y=new Y6(se),Ne=new _8(v,ge,ye,re,Se,Oe,Y),Ge=new N8(v,se),nt=new S8,K=new T8(re,Se),Le=new j6(v,ge,ye,pe,Me,f,o),he=new R8(v,Me,Se),et=new F8(V,we,Se,pe),We=new q6(V,re,we,Se),Ke=new nU(V,re,we,Se),we.programs=Ne.programs,v.capabilities=Se,v.extensions=re,v.properties=se,v.renderLists=nt,v.shadowMap=he,v.state=pe,v.info=we}ae();const Ee=new D8(v,V);this.xr=Ee,this.getContext=function(){return V},this.getContextAttributes=function(){return V.getContextAttributes()},this.forceContextLoss=function(){const ee=re.get("WEBGL_lose_context");ee&&ee.loseContext()},this.forceContextRestore=function(){const ee=re.get("WEBGL_lose_context");ee&&ee.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(ee){ee!==void 0&&(R=ee,this.setSize(I,P,!1))},this.getSize=function(ee){return ee.set(I,P)},this.setSize=function(ee,_e,Ie){if(Ee.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}I=ee,P=_e,e.width=Math.floor(ee*R),e.height=Math.floor(_e*R),Ie!==!1&&(e.style.width=ee+"px",e.style.height=_e+"px"),this.setViewport(0,0,ee,_e)},this.getDrawingBufferSize=function(ee){return ee.set(I*R,P*R).floor()},this.setDrawingBufferSize=function(ee,_e,Ie){I=ee,P=_e,R=Ie,e.width=Math.floor(ee*Ie),e.height=Math.floor(_e*Ie),this.setViewport(0,0,ee,_e)},this.getCurrentViewport=function(ee){return ee.copy(E)},this.getViewport=function(ee){return ee.copy(H)},this.setViewport=function(ee,_e,Ie,ve){ee.isVector4?H.set(ee.x,ee.y,ee.z,ee.w):H.set(ee,_e,Ie,ve),pe.viewport(E.copy(H).multiplyScalar(R).floor())},this.getScissor=function(ee){return ee.copy($)},this.setScissor=function(ee,_e,Ie,ve){ee.isVector4?$.set(ee.x,ee.y,ee.z,ee.w):$.set(ee,_e,Ie,ve),pe.scissor(C.copy($).multiplyScalar(R).floor())},this.getScissorTest=function(){return X},this.setScissorTest=function(ee){pe.setScissorTest(X=ee)},this.setOpaqueSort=function(ee){O=ee},this.setTransparentSort=function(ee){F=ee},this.getClearColor=function(ee){return ee.copy(Le.getClearColor())},this.setClearColor=function(){Le.setClearColor.apply(Le,arguments)},this.getClearAlpha=function(){return Le.getClearAlpha()},this.setClearAlpha=function(){Le.setClearAlpha.apply(Le,arguments)},this.clear=function(ee=!0,_e=!0,Ie=!0){let ve=0;ee&&(ve|=16384),_e&&(ve|=256),Ie&&(ve|=1024),V.clear(ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Fe,!1),e.removeEventListener("webglcontextrestored",Ue,!1),e.removeEventListener("webglcontextcreationerror",lt,!1),nt.dispose(),K.dispose(),se.dispose(),ge.dispose(),ye.dispose(),Me.dispose(),Oe.dispose(),et.dispose(),Ne.dispose(),Ee.dispose(),Ee.removeEventListener("sessionstart",le),Ee.removeEventListener("sessionend",He),B&&(B.dispose(),B=null),tt.stop()};function Fe(ee){ee.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function Ue(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const ee=we.autoReset,_e=he.enabled,Ie=he.autoUpdate,ve=he.needsUpdate,Re=he.type;ae(),we.autoReset=ee,he.enabled=_e,he.autoUpdate=Ie,he.needsUpdate=ve,he.type=Re}function lt(ee){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ee.statusMessage)}function wt(ee){const _e=ee.target;_e.removeEventListener("dispose",wt),Zt(_e)}function Zt(ee){fe(ee),se.remove(ee)}function fe(ee){const _e=se.get(ee).programs;_e!==void 0&&(_e.forEach(function(Ie){Ne.releaseProgram(Ie)}),ee.isShaderMaterial&&Ne.releaseShaderCache(ee))}this.renderBufferDirect=function(ee,_e,Ie,ve,Re,ot){_e===null&&(_e=k);const ct=Re.isMesh&&Re.matrixWorld.determinant()<0,dt=ns(ee,_e,Ie,ve,Re);pe.setMaterial(ve,ct);let vt=Ie.index,Et=1;ve.wireframe===!0&&(vt=Z.getWireframeAttribute(Ie),Et=2);const Ct=Ie.drawRange,St=Ie.attributes.position;let sn=Ct.start*Et,er=(Ct.start+Ct.count)*Et;ot!==null&&(sn=Math.max(sn,ot.start*Et),er=Math.min(er,(ot.start+ot.count)*Et)),vt!==null?(sn=Math.max(sn,0),er=Math.min(er,vt.count)):St!=null&&(sn=Math.max(sn,0),er=Math.min(er,St.count));const Sr=er-sn;if(Sr<0||Sr===1/0)return;Oe.setup(Re,ve,dt,Ie,vt);let lr,Wt=We;if(vt!==null&&(lr=te.get(vt),Wt=Ke,Wt.setIndex(lr)),Re.isMesh)ve.wireframe===!0?(pe.setLineWidth(ve.wireframeLinewidth*W()),Wt.setMode(1)):Wt.setMode(4);else if(Re.isLine){let _t=ve.linewidth;_t===void 0&&(_t=1),pe.setLineWidth(_t*W()),Re.isLineSegments?Wt.setMode(1):Re.isLineLoop?Wt.setMode(2):Wt.setMode(3)}else Re.isPoints?Wt.setMode(0):Re.isSprite&&Wt.setMode(4);if(Re.isInstancedMesh)Wt.renderInstances(sn,Sr,Re.count);else if(Ie.isInstancedBufferGeometry){const _t=Ie._maxInstanceCount!==void 0?Ie._maxInstanceCount:1/0,rs=Math.min(Ie.instanceCount,_t);Wt.renderInstances(sn,Sr,rs)}else Wt.render(sn,Sr)},this.compile=function(ee,_e){function Ie(ve,Re,ot){ve.transparent===!0&&ve.side===ji?(ve.side=ei,ve.needsUpdate=!0,fn(ve,Re,ot),ve.side=pl,ve.needsUpdate=!0,fn(ve,Re,ot),ve.side=ji):fn(ve,Re,ot)}p=K.get(ee),p.init(),g.push(p),ee.traverseVisible(function(ve){ve.isLight&&ve.layers.test(_e.layers)&&(p.pushLight(ve),ve.castShadow&&p.pushShadow(ve))}),p.setupLights(v.physicallyCorrectLights),ee.traverse(function(ve){const Re=ve.material;if(Re)if(Array.isArray(Re))for(let ot=0;ot<Re.length;ot++){const ct=Re[ot];Ie(ct,ee,ve)}else Ie(Re,ee,ve)}),g.pop(),p=null};let Ce=null;function ie(ee){Ce&&Ce(ee)}function le(){tt.stop()}function He(){tt.start()}const tt=new UI;tt.setAnimationLoop(ie),typeof self<"u"&&tt.setContext(self),this.setAnimationLoop=function(ee){Ce=ee,Ee.setAnimationLoop(ee),ee===null?tt.stop():tt.start()},Ee.addEventListener("sessionstart",le),Ee.addEventListener("sessionend",He),this.render=function(ee,_e){if(_e!==void 0&&_e.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;ee.matrixWorldAutoUpdate===!0&&ee.updateMatrixWorld(),_e.parent===null&&_e.matrixWorldAutoUpdate===!0&&_e.updateMatrixWorld(),Ee.enabled===!0&&Ee.isPresenting===!0&&(Ee.cameraAutoUpdate===!0&&Ee.updateCamera(_e),_e=Ee.getCamera()),ee.isScene===!0&&ee.onBeforeRender(v,ee,_e,w),p=K.get(ee,g.length),p.init(),g.push(p),G.multiplyMatrices(_e.projectionMatrix,_e.matrixWorldInverse),j.setFromProjectionMatrix(G),q=this.localClippingEnabled,D=Y.init(this.clippingPlanes,q,_e),d=nt.get(ee,m.length),d.init(),m.push(d),ht(ee,_e,0,v.sortObjects),d.finish(),v.sortObjects===!0&&d.sort(O,F),D===!0&&Y.beginShadows();const Ie=p.state.shadowsArray;if(he.render(Ie,ee,_e),D===!0&&Y.endShadows(),this.info.autoReset===!0&&this.info.reset(),Le.render(d,ee),p.setupLights(v.physicallyCorrectLights),_e.isArrayCamera){const ve=_e.cameras;for(let Re=0,ot=ve.length;Re<ot;Re++){const ct=ve[Re];st(d,ee,ct,ct.viewport)}}else st(d,ee,_e);w!==null&&(ce.updateMultisampleRenderTarget(w),ce.updateRenderTargetMipmap(w)),ee.isScene===!0&&ee.onAfterRender(v,ee,_e),Oe.resetDefaultState(),b=-1,A=null,g.pop(),g.length>0?p=g[g.length-1]:p=null,m.pop(),m.length>0?d=m[m.length-1]:d=null};function ht(ee,_e,Ie,ve){if(ee.visible===!1)return;if(ee.layers.test(_e.layers)){if(ee.isGroup)Ie=ee.renderOrder;else if(ee.isLOD)ee.autoUpdate===!0&&ee.update(_e);else if(ee.isLight)p.pushLight(ee),ee.castShadow&&p.pushShadow(ee);else if(ee.isSprite){if(!ee.frustumCulled||j.intersectsSprite(ee)){ve&&U.setFromMatrixPosition(ee.matrixWorld).applyMatrix4(G);const ct=Me.update(ee),dt=ee.material;dt.visible&&d.push(ee,ct,dt,Ie,U.z,null)}}else if((ee.isMesh||ee.isLine||ee.isPoints)&&(ee.isSkinnedMesh&&ee.skeleton.frame!==we.render.frame&&(ee.skeleton.update(),ee.skeleton.frame=we.render.frame),!ee.frustumCulled||j.intersectsObject(ee))){ve&&U.setFromMatrixPosition(ee.matrixWorld).applyMatrix4(G);const ct=Me.update(ee),dt=ee.material;if(Array.isArray(dt)){const vt=ct.groups;for(let Et=0,Ct=vt.length;Et<Ct;Et++){const St=vt[Et],sn=dt[St.materialIndex];sn&&sn.visible&&d.push(ee,ct,sn,Ie,U.z,St)}}else dt.visible&&d.push(ee,ct,dt,Ie,U.z,null)}}const ot=ee.children;for(let ct=0,dt=ot.length;ct<dt;ct++)ht(ot[ct],_e,Ie,ve)}function st(ee,_e,Ie,ve){const Re=ee.opaque,ot=ee.transmissive,ct=ee.transparent;p.setupLightsView(Ie),ot.length>0&&Dn(Re,_e,Ie),ve&&pe.viewport(E.copy(ve)),Re.length>0&&Rt(Re,_e,Ie),ot.length>0&&Rt(ot,_e,Ie),ct.length>0&&Rt(ct,_e,Ie),pe.buffers.depth.setTest(!0),pe.buffers.depth.setMask(!0),pe.buffers.color.setMask(!0),pe.setPolygonOffset(!1)}function Dn(ee,_e,Ie){const ve=Se.isWebGL2;B===null&&(B=new ri(1,1,{generateMipmaps:!0,type:re.has("EXT_color_buffer_half_float")?ml:aa,minFilter:Sl,samples:ve&&s===!0?4:0})),v.getDrawingBufferSize(N),ve?B.setSize(N.x,N.y):B.setSize(vg(N.x),vg(N.y));const Re=v.getRenderTarget();v.setRenderTarget(B),v.clear();const ot=v.toneMapping;v.toneMapping=Xi,Rt(ee,_e,Ie),v.toneMapping=ot,ce.updateMultisampleRenderTarget(B),ce.updateRenderTargetMipmap(B),v.setRenderTarget(Re)}function Rt(ee,_e,Ie){const ve=_e.isScene===!0?_e.overrideMaterial:null;for(let Re=0,ot=ee.length;Re<ot;Re++){const ct=ee[Re],dt=ct.object,vt=ct.geometry,Et=ve===null?ct.material:ve,Ct=ct.group;dt.layers.test(Ie.layers)&&en(dt,_e,Ie,vt,Et,Ct)}}function en(ee,_e,Ie,ve,Re,ot){ee.onBeforeRender(v,_e,Ie,ve,Re,ot),ee.modelViewMatrix.multiplyMatrices(Ie.matrixWorldInverse,ee.matrixWorld),ee.normalMatrix.getNormalMatrix(ee.modelViewMatrix),Re.onBeforeRender(v,_e,Ie,ve,ee,ot),Re.transparent===!0&&Re.side===ji?(Re.side=ei,Re.needsUpdate=!0,v.renderBufferDirect(Ie,_e,ve,Re,ee,ot),Re.side=pl,Re.needsUpdate=!0,v.renderBufferDirect(Ie,_e,ve,Re,ee,ot),Re.side=ji):v.renderBufferDirect(Ie,_e,ve,Re,ee,ot),ee.onAfterRender(v,_e,Ie,ve,Re,ot)}function fn(ee,_e,Ie){_e.isScene!==!0&&(_e=k);const ve=se.get(ee),Re=p.state.lights,ot=p.state.shadowsArray,ct=Re.state.version,dt=Ne.getParameters(ee,Re.state,ot,_e,Ie),vt=Ne.getProgramCacheKey(dt);let Et=ve.programs;ve.environment=ee.isMeshStandardMaterial?_e.environment:null,ve.fog=_e.fog,ve.envMap=(ee.isMeshStandardMaterial?ye:ge).get(ee.envMap||ve.environment),Et===void 0&&(ee.addEventListener("dispose",wt),Et=new Map,ve.programs=Et);let Ct=Et.get(vt);if(Ct!==void 0){if(ve.currentProgram===Ct&&ve.lightsStateVersion===ct)return va(ee,dt),Ct}else dt.uniforms=Ne.getUniforms(ee),ee.onBuild(Ie,dt,v),ee.onBeforeCompile(dt,v),Ct=Ne.acquireProgram(dt,vt),Et.set(vt,Ct),ve.uniforms=dt.uniforms;const St=ve.uniforms;(!ee.isShaderMaterial&&!ee.isRawShaderMaterial||ee.clipping===!0)&&(St.clippingPlanes=Y.uniform),va(ee,dt),ve.needsLights=lo(ee),ve.lightsStateVersion=ct,ve.needsLights&&(St.ambientLightColor.value=Re.state.ambient,St.lightProbe.value=Re.state.probe,St.directionalLights.value=Re.state.directional,St.directionalLightShadows.value=Re.state.directionalShadow,St.spotLights.value=Re.state.spot,St.spotLightShadows.value=Re.state.spotShadow,St.rectAreaLights.value=Re.state.rectArea,St.ltc_1.value=Re.state.rectAreaLTC1,St.ltc_2.value=Re.state.rectAreaLTC2,St.pointLights.value=Re.state.point,St.pointLightShadows.value=Re.state.pointShadow,St.hemisphereLights.value=Re.state.hemi,St.directionalShadowMap.value=Re.state.directionalShadowMap,St.directionalShadowMatrix.value=Re.state.directionalShadowMatrix,St.spotShadowMap.value=Re.state.spotShadowMap,St.spotLightMatrix.value=Re.state.spotLightMatrix,St.spotLightMap.value=Re.state.spotLightMap,St.pointShadowMap.value=Re.state.pointShadowMap,St.pointShadowMatrix.value=Re.state.pointShadowMatrix);const sn=Ct.getUniforms(),er=Fm.seqWithValue(sn.seq,St);return ve.currentProgram=Ct,ve.uniformsList=er,Ct}function va(ee,_e){const Ie=se.get(ee);Ie.outputEncoding=_e.outputEncoding,Ie.instancing=_e.instancing,Ie.skinning=_e.skinning,Ie.morphTargets=_e.morphTargets,Ie.morphNormals=_e.morphNormals,Ie.morphColors=_e.morphColors,Ie.morphTargetsCount=_e.morphTargetsCount,Ie.numClippingPlanes=_e.numClippingPlanes,Ie.numIntersection=_e.numClipIntersection,Ie.vertexAlphas=_e.vertexAlphas,Ie.vertexTangents=_e.vertexTangents,Ie.toneMapping=_e.toneMapping}function ns(ee,_e,Ie,ve,Re){_e.isScene!==!0&&(_e=k),ce.resetTextureUnits();const ot=_e.fog,ct=ve.isMeshStandardMaterial?_e.environment:null,dt=w===null?v.outputEncoding:w.isXRRenderTarget===!0?w.texture.encoding:ro,vt=(ve.isMeshStandardMaterial?ye:ge).get(ve.envMap||ct),Et=ve.vertexColors===!0&&!!Ie.attributes.color&&Ie.attributes.color.itemSize===4,Ct=!!ve.normalMap&&!!Ie.attributes.tangent,St=!!Ie.morphAttributes.position,sn=!!Ie.morphAttributes.normal,er=!!Ie.morphAttributes.color,Sr=ve.toneMapped?v.toneMapping:Xi,lr=Ie.morphAttributes.position||Ie.morphAttributes.normal||Ie.morphAttributes.color,Wt=lr!==void 0?lr.length:0,_t=se.get(ve),rs=p.state.lights;if(D===!0&&(q===!0||ee!==A)){const Vt=ee===A&&ve.id===b;Y.setState(ve,ee,Vt)}let vn=!1;ve.version===_t.__version?(_t.needsLights&&_t.lightsStateVersion!==rs.state.version||_t.outputEncoding!==dt||Re.isInstancedMesh&&_t.instancing===!1||!Re.isInstancedMesh&&_t.instancing===!0||Re.isSkinnedMesh&&_t.skinning===!1||!Re.isSkinnedMesh&&_t.skinning===!0||_t.envMap!==vt||ve.fog===!0&&_t.fog!==ot||_t.numClippingPlanes!==void 0&&(_t.numClippingPlanes!==Y.numPlanes||_t.numIntersection!==Y.numIntersection)||_t.vertexAlphas!==Et||_t.vertexTangents!==Ct||_t.morphTargets!==St||_t.morphNormals!==sn||_t.morphColors!==er||_t.toneMapping!==Sr||Se.isWebGL2===!0&&_t.morphTargetsCount!==Wt)&&(vn=!0):(vn=!0,_t.__version=ve.version);let Cs=_t.currentProgram;vn===!0&&(Cs=fn(ve,_e,Re));let Rl=!1,ai=!1,li=!1;const xt=Cs.getUniforms(),Ot=_t.uniforms;if(pe.useProgram(Cs.program)&&(Rl=!0,ai=!0,li=!0),ve.id!==b&&(b=ve.id,ai=!0),Rl||A!==ee){if(xt.setValue(V,"projectionMatrix",ee.projectionMatrix),Se.logarithmicDepthBuffer&&xt.setValue(V,"logDepthBufFC",2/(Math.log(ee.far+1)/Math.LN2)),A!==ee&&(A=ee,ai=!0,li=!0),ve.isShaderMaterial||ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshStandardMaterial||ve.envMap){const Vt=xt.map.cameraPosition;Vt!==void 0&&Vt.setValue(V,U.setFromMatrixPosition(ee.matrixWorld))}(ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshLambertMaterial||ve.isMeshBasicMaterial||ve.isMeshStandardMaterial||ve.isShaderMaterial)&&xt.setValue(V,"isOrthographic",ee.isOrthographicCamera===!0),(ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshLambertMaterial||ve.isMeshBasicMaterial||ve.isMeshStandardMaterial||ve.isShaderMaterial||ve.isShadowMaterial||Re.isSkinnedMesh)&&xt.setValue(V,"viewMatrix",ee.matrixWorldInverse)}if(Re.isSkinnedMesh){xt.setOptional(V,Re,"bindMatrix"),xt.setOptional(V,Re,"bindMatrixInverse");const Vt=Re.skeleton;Vt&&(Se.floatVertexTextures?(Vt.boneTexture===null&&Vt.computeBoneTexture(),xt.setValue(V,"boneTexture",Vt.boneTexture,ce),xt.setValue(V,"boneTextureSize",Vt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const ui=Ie.morphAttributes;if((ui.position!==void 0||ui.normal!==void 0||ui.color!==void 0&&Se.isWebGL2===!0)&&ze.update(Re,Ie,ve,Cs),(ai||_t.receiveShadow!==Re.receiveShadow)&&(_t.receiveShadow=Re.receiveShadow,xt.setValue(V,"receiveShadow",Re.receiveShadow)),ve.isMeshGouraudMaterial&&ve.envMap!==null&&(Ot.envMap.value=vt,Ot.flipEnvMap.value=vt.isCubeTexture&&vt.isRenderTargetTexture===!1?-1:1),ai&&(xt.setValue(V,"toneMappingExposure",v.toneMappingExposure),_t.needsLights&&ar(Ot,li),ot&&ve.fog===!0&&Ge.refreshFogUniforms(Ot,ot),Ge.refreshMaterialUniforms(Ot,ve,R,P,B),Fm.upload(V,_t.uniformsList,Ot,ce)),ve.isShaderMaterial&&ve.uniformsNeedUpdate===!0&&(Fm.upload(V,_t.uniformsList,Ot,ce),ve.uniformsNeedUpdate=!1),ve.isSpriteMaterial&&xt.setValue(V,"center",Re.center),xt.setValue(V,"modelViewMatrix",Re.modelViewMatrix),xt.setValue(V,"normalMatrix",Re.normalMatrix),xt.setValue(V,"modelMatrix",Re.matrixWorld),ve.isShaderMaterial||ve.isRawShaderMaterial){const Vt=ve.uniformsGroups;for(let Wn=0,As=Vt.length;Wn<As;Wn++)if(Se.isWebGL2){const Ts=Vt[Wn];et.update(Ts,Cs),et.bind(Ts,Cs)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Cs}function ar(ee,_e){ee.ambientLightColor.needsUpdate=_e,ee.lightProbe.needsUpdate=_e,ee.directionalLights.needsUpdate=_e,ee.directionalLightShadows.needsUpdate=_e,ee.pointLights.needsUpdate=_e,ee.pointLightShadows.needsUpdate=_e,ee.spotLights.needsUpdate=_e,ee.spotLightShadows.needsUpdate=_e,ee.rectAreaLights.needsUpdate=_e,ee.hemisphereLights.needsUpdate=_e}function lo(ee){return ee.isMeshLambertMaterial||ee.isMeshToonMaterial||ee.isMeshPhongMaterial||ee.isMeshStandardMaterial||ee.isShadowMaterial||ee.isShaderMaterial&&ee.lights===!0}this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(ee,_e,Ie){se.get(ee.texture).__webglTexture=_e,se.get(ee.depthTexture).__webglTexture=Ie;const ve=se.get(ee);ve.__hasExternalTextures=!0,ve.__hasExternalTextures&&(ve.__autoAllocateDepthBuffer=Ie===void 0,ve.__autoAllocateDepthBuffer||re.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ve.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ee,_e){const Ie=se.get(ee);Ie.__webglFramebuffer=_e,Ie.__useDefaultFramebuffer=_e===void 0},this.setRenderTarget=function(ee,_e=0,Ie=0){w=ee,_=_e,x=Ie;let ve=!0,Re=null,ot=!1,ct=!1;if(ee){const vt=se.get(ee);vt.__useDefaultFramebuffer!==void 0?(pe.bindFramebuffer(36160,null),ve=!1):vt.__webglFramebuffer===void 0?ce.setupRenderTarget(ee):vt.__hasExternalTextures&&ce.rebindTextures(ee,se.get(ee.texture).__webglTexture,se.get(ee.depthTexture).__webglTexture);const Et=ee.texture;(Et.isData3DTexture||Et.isDataArrayTexture||Et.isCompressedArrayTexture)&&(ct=!0);const Ct=se.get(ee).__webglFramebuffer;ee.isWebGLCubeRenderTarget?(Re=Ct[_e],ot=!0):Se.isWebGL2&&ee.samples>0&&ce.useMultisampledRTT(ee)===!1?Re=se.get(ee).__webglMultisampledFramebuffer:Re=Ct,E.copy(ee.viewport),C.copy(ee.scissor),M=ee.scissorTest}else E.copy(H).multiplyScalar(R).floor(),C.copy($).multiplyScalar(R).floor(),M=X;if(pe.bindFramebuffer(36160,Re)&&Se.drawBuffers&&ve&&pe.drawBuffers(ee,Re),pe.viewport(E),pe.scissor(C),pe.setScissorTest(M),ot){const vt=se.get(ee.texture);V.framebufferTexture2D(36160,36064,34069+_e,vt.__webglTexture,Ie)}else if(ct){const vt=se.get(ee.texture),Et=_e||0;V.framebufferTextureLayer(36160,36064,vt.__webglTexture,Ie||0,Et)}b=-1},this.readRenderTargetPixels=function(ee,_e,Ie,ve,Re,ot,ct){if(!(ee&&ee.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let dt=se.get(ee).__webglFramebuffer;if(ee.isWebGLCubeRenderTarget&&ct!==void 0&&(dt=dt[ct]),dt){pe.bindFramebuffer(36160,dt);try{const vt=ee.texture,Et=vt.format,Ct=vt.type;if(Et!==Zr&&$e.convert(Et)!==V.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const St=Ct===ml&&(re.has("EXT_color_buffer_half_float")||Se.isWebGL2&&re.has("EXT_color_buffer_float"));if(Ct!==aa&&$e.convert(Ct)!==V.getParameter(35738)&&!(Ct===qs&&(Se.isWebGL2||re.has("OES_texture_float")||re.has("WEBGL_color_buffer_float")))&&!St){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}_e>=0&&_e<=ee.width-ve&&Ie>=0&&Ie<=ee.height-Re&&V.readPixels(_e,Ie,ve,Re,$e.convert(Et),$e.convert(Ct),ot)}finally{const vt=w!==null?se.get(w).__webglFramebuffer:null;pe.bindFramebuffer(36160,vt)}}},this.copyFramebufferToTexture=function(ee,_e,Ie=0){const ve=Math.pow(2,-Ie),Re=Math.floor(_e.image.width*ve),ot=Math.floor(_e.image.height*ve);ce.setTexture2D(_e,0),V.copyTexSubImage2D(3553,Ie,0,0,ee.x,ee.y,Re,ot),pe.unbindTexture()},this.copyTextureToTexture=function(ee,_e,Ie,ve=0){const Re=_e.image.width,ot=_e.image.height,ct=$e.convert(Ie.format),dt=$e.convert(Ie.type);ce.setTexture2D(Ie,0),V.pixelStorei(37440,Ie.flipY),V.pixelStorei(37441,Ie.premultiplyAlpha),V.pixelStorei(3317,Ie.unpackAlignment),_e.isDataTexture?V.texSubImage2D(3553,ve,ee.x,ee.y,Re,ot,ct,dt,_e.image.data):_e.isCompressedTexture?V.compressedTexSubImage2D(3553,ve,ee.x,ee.y,_e.mipmaps[0].width,_e.mipmaps[0].height,ct,_e.mipmaps[0].data):V.texSubImage2D(3553,ve,ee.x,ee.y,ct,dt,_e.image),ve===0&&Ie.generateMipmaps&&V.generateMipmap(3553),pe.unbindTexture()},this.copyTextureToTexture3D=function(ee,_e,Ie,ve,Re=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ot=ee.max.x-ee.min.x+1,ct=ee.max.y-ee.min.y+1,dt=ee.max.z-ee.min.z+1,vt=$e.convert(ve.format),Et=$e.convert(ve.type);let Ct;if(ve.isData3DTexture)ce.setTexture3D(ve,0),Ct=32879;else if(ve.isDataArrayTexture)ce.setTexture2DArray(ve,0),Ct=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}V.pixelStorei(37440,ve.flipY),V.pixelStorei(37441,ve.premultiplyAlpha),V.pixelStorei(3317,ve.unpackAlignment);const St=V.getParameter(3314),sn=V.getParameter(32878),er=V.getParameter(3316),Sr=V.getParameter(3315),lr=V.getParameter(32877),Wt=Ie.isCompressedTexture?Ie.mipmaps[0]:Ie.image;V.pixelStorei(3314,Wt.width),V.pixelStorei(32878,Wt.height),V.pixelStorei(3316,ee.min.x),V.pixelStorei(3315,ee.min.y),V.pixelStorei(32877,ee.min.z),Ie.isDataTexture||Ie.isData3DTexture?V.texSubImage3D(Ct,Re,_e.x,_e.y,_e.z,ot,ct,dt,vt,Et,Wt.data):Ie.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),V.compressedTexSubImage3D(Ct,Re,_e.x,_e.y,_e.z,ot,ct,dt,vt,Wt.data)):V.texSubImage3D(Ct,Re,_e.x,_e.y,_e.z,ot,ct,dt,vt,Et,Wt),V.pixelStorei(3314,St),V.pixelStorei(32878,sn),V.pixelStorei(3316,er),V.pixelStorei(3315,Sr),V.pixelStorei(32877,lr),Re===0&&ve.generateMipmaps&&V.generateMipmap(Ct),pe.unbindTexture()},this.initTexture=function(ee){ee.isCubeTexture?ce.setTextureCube(ee,0):ee.isData3DTexture?ce.setTexture3D(ee,0):ee.isDataArrayTexture||ee.isCompressedArrayTexture?ce.setTexture2DArray(ee,0):ce.setTexture2D(ee,0),pe.unbindTexture()},this.resetState=function(){_=0,x=0,w=null,pe.reset(),Oe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class XI extends CS{}XI.prototype.isWebGL1Renderer=!0;class b0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ye(e),this.density=t}clone(){return new b0(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class M0{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Ye(e),this.near=t,this.far=r}clone(){return new M0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class AS extends Ut{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class E0{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=th,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ti()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ti()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ti()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Er=new Q;class yl{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Er.fromBufferAttribute(this,t),Er.applyMatrix4(e),this.setXYZ(t,Er.x,Er.y,Er.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Er.fromBufferAttribute(this,t),Er.applyNormalMatrix(e),this.setXYZ(t,Er.x,Er.y,Er.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Er.fromBufferAttribute(this,t),Er.transformDirection(e),this.setXYZ(t,Er.x,Er.y,Er.z);return this}setX(e,t){return this.normalized&&(t=Kt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Kt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Kt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Kt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Xs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Xs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Xs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Xs(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Kt(t,this.array),r=Kt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Kt(t,this.array),r=Kt(r,this.array),i=Kt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Kt(t,this.array),r=Kt(r,this.array),i=Kt(i,this.array),s=Kt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Tt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new yl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class TS extends or{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ye(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ou;const tf=new Q,au=new Q,lu=new Q,uu=new be,nf=new be,YI=new yt,Dp=new Q,rf=new Q,Np=new Q,cC=new be,Yv=new be,fC=new be;class JI extends Ut{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",ou===void 0){ou=new ft;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new E0(t,5);ou.setIndex([0,1,2,0,2,3]),ou.setAttribute("position",new yl(r,3,0,!1)),ou.setAttribute("uv",new yl(r,2,3,!1))}this.geometry=ou,this.material=e!==void 0?e:new TS,this.center=new be(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),au.setFromMatrixScale(this.matrixWorld),YI.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),lu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&au.multiplyScalar(-lu.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Fp(Dp.set(-.5,-.5,0),lu,o,au,i,s),Fp(rf.set(.5,-.5,0),lu,o,au,i,s),Fp(Np.set(.5,.5,0),lu,o,au,i,s),cC.set(0,0),Yv.set(1,0),fC.set(1,1);let a=e.ray.intersectTriangle(Dp,rf,Np,!1,tf);if(a===null&&(Fp(rf.set(-.5,.5,0),lu,o,au,i,s),Yv.set(0,1),a=e.ray.intersectTriangle(Dp,Np,rf,!1,tf),a===null))return;const l=e.ray.origin.distanceTo(tf);l<e.near||l>e.far||t.push({distance:l,point:tf.clone(),uv:Mi.getUV(tf,Dp,rf,Np,cC,Yv,fC,new be),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Fp(n,e,t,r,i,s){uu.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(nf.x=s*uu.x-i*uu.y,nf.y=i*uu.x+s*uu.y):nf.copy(uu),n.copy(e),n.x+=nf.x,n.y+=nf.y,n.applyMatrix4(YI)}const zp=new Q,hC=new Q;class ZI extends Ut{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){zp.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(zp);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){zp.setFromMatrixPosition(e.matrixWorld),hC.setFromMatrixPosition(this.matrixWorld);const r=zp.distanceTo(hC)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const dC=new Q,pC=new $t,mC=new $t,B8=new Q,gC=new yt;class QI extends rr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new yt,this.bindMatrixInverse=new yt}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new $t,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;pC.fromBufferAttribute(i.attributes.skinIndex,e),mC.fromBufferAttribute(i.attributes.skinWeight,e),dC.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=mC.getComponent(s);if(o!==0){const a=pC.getComponent(s);gC.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(B8.copy(dC).applyMatrix4(gC),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class PS extends Ut{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Hu extends bn{constructor(e=null,t=1,r=1,i,s,o,a,l,u=On,f=On,d,p){super(null,o,a,l,u,f,i,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const yC=new yt,U8=new yt;class C0{constructor(e=[],t=[]){this.uuid=ti(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new yt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new yt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:U8;yC.multiplyMatrices(a,t[s]),yC.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new C0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=OI(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Hu(t,e,e,Zr,qs);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new PS),this.bones.push(o),this.boneInverses.push(new yt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class tc extends Tt{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const vC=new yt,_C=new yt,Bp=[],H8=new yt,sf=new rr;class KI extends rr{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new tc(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,H8)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(sf.geometry=this.geometry,sf.material=this.material,sf.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,vC),_C.multiplyMatrices(r,vC),sf.matrixWorld=_C,sf.raycast(e,Bp);for(let o=0,a=Bp.length;o<a;o++){const l=Bp[o];l.instanceId=s,l.object=this,t.push(l)}Bp.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new tc(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Lr extends or{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ye(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const xC=new Q,wC=new Q,SC=new yt,Jv=new kh,Up=new bl;let la=class extends Ut{constructor(e=new ft,t=new Lr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)xC.fromBufferAttribute(t,i-1),wC.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=xC.distanceTo(wC);e.setAttribute("lineDistance",new Qe(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Up.copy(r.boundingSphere),Up.applyMatrix4(i),Up.radius+=s,e.ray.intersectsSphere(Up)===!1)return;SC.copy(i).invert(),Jv.copy(e.ray).applyMatrix4(SC);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new Q,f=new Q,d=new Q,p=new Q,m=this.isLineSegments?2:1,g=r.index,y=r.attributes.position;if(g!==null){const _=Math.max(0,o.start),x=Math.min(g.count,o.start+o.count);for(let w=_,b=x-1;w<b;w+=m){const A=g.getX(w),E=g.getX(w+1);if(u.fromBufferAttribute(y,A),f.fromBufferAttribute(y,E),Jv.distanceSqToSegment(u,f,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(p);M<e.near||M>e.far||t.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const _=Math.max(0,o.start),x=Math.min(y.count,o.start+o.count);for(let w=_,b=x-1;w<b;w+=m){if(u.fromBufferAttribute(y,w),f.fromBufferAttribute(y,w+1),Jv.distanceSqToSegment(u,f,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(p);E<e.near||E>e.far||t.push({distance:E,point:d.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};const bC=new Q,MC=new Q;class Ms extends la{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)bC.fromBufferAttribute(t,i),MC.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+bC.distanceTo(MC);e.setAttribute("lineDistance",new Qe(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class eR extends la{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class IS extends or{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ye(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const EC=new yt,ux=new kh,Hp=new bl,Vp=new Q;class tR extends Ut{constructor(e=new ft,t=new IS){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Hp.copy(r.boundingSphere),Hp.applyMatrix4(i),Hp.radius+=s,e.ray.intersectsSphere(Hp)===!1)return;EC.copy(i).invert(),ux.copy(e.ray).applyMatrix4(EC);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,d=r.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let g=p,v=m;g<v;g++){const y=u.getX(g);Vp.fromBufferAttribute(d,y),CC(Vp,y,l,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let g=p,v=m;g<v;g++)Vp.fromBufferAttribute(d,g),CC(Vp,g,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function CC(n,e,t,r,i,s,o){const a=ux.distanceSqToPoint(n);if(a<t){const l=new Q;ux.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class V8 extends bn{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:pn,this.magFilter=s!==void 0?s:pn,this.generateMipmaps=!1;const f=this;function d(){f.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class W8 extends bn{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=On,this.minFilter=On,this.generateMipmaps=!1,this.needsUpdate=!0}}class RS extends bn{constructor(e,t,r,i,s,o,a,l,u,f,d,p){super(null,o,a,l,u,f,i,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class G8 extends RS{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=vr}}class j8 extends bn{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class es{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const f=r[i],p=r[i+1]-f,m=(o-f)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new be:new Q);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new Q,i=[],s=[],o=[],a=new Q,l=new yt;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new Q)}s[0]=new Q,o[0]=new Q;let u=Number.MAX_VALUE;const f=Math.abs(i[0].x),d=Math.abs(i[0].y),p=Math.abs(i[0].z);f<=u&&(u=f,r.set(1,0,0)),d<=u&&(u=d,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(An(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(An(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class A0 extends es{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new be,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*f-m*d+this.aX,u=p*d+m*f+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class nR extends A0{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function LS(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,f,d){let p=(o-s)/u-(a-s)/(u+f)+(a-o)/f,m=(a-o)/f-(l-o)/(f+d)+(l-a)/d;p*=f,m*=f,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const Wp=new Q,Zv=new LS,Qv=new LS,Kv=new LS;class OS extends es{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new Q){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,f;this.closed||a>0?u=i[(a-1)%s]:(Wp.subVectors(i[0],i[1]).add(i[0]),u=Wp);const d=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?f=i[(a+2)%s]:(Wp.subVectors(i[s-1],i[s-2]).add(i[s-1]),f=Wp),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(d),m),v=Math.pow(d.distanceToSquared(p),m),y=Math.pow(p.distanceToSquared(f),m);v<1e-4&&(v=1),g<1e-4&&(g=v),y<1e-4&&(y=v),Zv.initNonuniformCatmullRom(u.x,d.x,p.x,f.x,g,v,y),Qv.initNonuniformCatmullRom(u.y,d.y,p.y,f.y,g,v,y),Kv.initNonuniformCatmullRom(u.z,d.z,p.z,f.z,g,v,y)}else this.curveType==="catmullrom"&&(Zv.initCatmullRom(u.x,d.x,p.x,f.x,this.tension),Qv.initCatmullRom(u.y,d.y,p.y,f.y,this.tension),Kv.initCatmullRom(u.z,d.z,p.z,f.z,this.tension));return r.set(Zv.calc(l),Qv.calc(l),Kv.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Q().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function AC(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function $8(n,e){const t=1-n;return t*t*e}function q8(n,e){return 2*(1-n)*n*e}function X8(n,e){return n*n*e}function Cf(n,e,t,r){return $8(n,e)+q8(n,t)+X8(n,r)}function Y8(n,e){const t=1-n;return t*t*t*e}function J8(n,e){const t=1-n;return 3*t*t*n*e}function Z8(n,e){return 3*(1-n)*n*n*e}function Q8(n,e){return n*n*n*e}function Af(n,e,t,r,i){return Y8(n,e)+J8(n,t)+Z8(n,r)+Q8(n,i)}class kS extends es{constructor(e=new be,t=new be,r=new be,i=new be){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new be){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Af(e,i.x,s.x,o.x,a.x),Af(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class rR extends es{constructor(e=new Q,t=new Q,r=new Q,i=new Q){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Q){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Af(e,i.x,s.x,o.x,a.x),Af(e,i.y,s.y,o.y,a.y),Af(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class T0 extends es{constructor(e=new be,t=new be){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new be){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new be;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iR extends es{constructor(e=new Q,t=new Q){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Q){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class DS extends es{constructor(e=new be,t=new be,r=new be){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new be){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Cf(e,i.x,s.x,o.x),Cf(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NS extends es{constructor(e=new Q,t=new Q,r=new Q){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Q){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Cf(e,i.x,s.x,o.x),Cf(e,i.y,s.y,o.y),Cf(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FS extends es{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new be){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],f=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(AC(a,l.x,u.x,f.x,d.x),AC(a,l.y,u.y,f.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new be().fromArray(i))}return this}}var zS=Object.freeze({__proto__:null,ArcCurve:nR,CatmullRomCurve3:OS,CubicBezierCurve:kS,CubicBezierCurve3:rR,EllipseCurve:A0,LineCurve:T0,LineCurve3:iR,QuadraticBezierCurve:DS,QuadraticBezierCurve3:NS,SplineCurve:FS});class sR extends es{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new T0(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const f=l[u];r&&r.equals(f)||(t.push(f),r=f)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new zS[i.type]().fromJSON(i))}return this}}class ea extends sR{constructor(e){super(),this.type="Path",this.currentPoint=new be,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new T0(this.currentPoint.clone(),new be(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new DS(this.currentPoint.clone(),new be(e,t),new be(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new kS(this.currentPoint.clone(),new be(e,t),new be(r,i),new be(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new FS(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const u=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+u,t+f,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const u=new A0(e,t,r,i,s,o,a,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const f=u.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class dc extends ft{constructor(e=[new be(0,-.5),new be(.5,0),new be(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=An(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],f=1/t,d=new Q,p=new be,m=new Q,g=new Q,v=new Q;let y=0,_=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:y=e[x+1].x-e[x].x,_=e[x+1].y-e[x].y,m.x=_*1,m.y=-y,m.z=_*0,v.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:y=e[x+1].x-e[x].x,_=e[x+1].y-e[x].y,m.x=_*1,m.y=-y,m.z=_*0,g.copy(m),m.x+=v.x,m.y+=v.y,m.z+=v.z,m.normalize(),l.push(m.x,m.y,m.z),v.copy(g)}for(let x=0;x<=t;x++){const w=r+x*f*i,b=Math.sin(w),A=Math.cos(w);for(let E=0;E<=e.length-1;E++){d.x=e[E].x*b,d.y=e[E].y,d.z=e[E].x*A,o.push(d.x,d.y,d.z),p.x=x/t,p.y=E/(e.length-1),a.push(p.x,p.y);const C=l[3*E+0]*b,M=l[3*E+1],I=l[3*E+0]*A;u.push(C,M,I)}}for(let x=0;x<t;x++)for(let w=0;w<e.length-1;w++){const b=w+x*e.length,A=b,E=b+e.length,C=b+e.length+1,M=b+1;s.push(A,E,M),s.push(C,M,E)}this.setIndex(s),this.setAttribute("position",new Qe(o,3)),this.setAttribute("uv",new Qe(a,2)),this.setAttribute("normal",new Qe(u,3))}static fromJSON(e){return new dc(e.points,e.segments,e.phiStart,e.phiLength)}}class Fh extends dc{constructor(e=1,t=1,r=4,i=8){const s=new ea;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new Fh(e.radius,e.length,e.capSegments,e.radialSegments)}}class zh extends ft{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new Q,f=new be;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const m=r+d/t*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),f.x=(o[p]/e+1)/2,f.y=(o[p+1]/e+1)/2,l.push(f.x,f.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Qe(o,3)),this.setAttribute("normal",new Qe(a,3)),this.setAttribute("uv",new Qe(l,2))}static fromJSON(e){return new zh(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class El extends ft{constructor(e=1,t=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const f=[],d=[],p=[],m=[];let g=0;const v=[],y=r/2;let _=0;x(),o===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(f),this.setAttribute("position",new Qe(d,3)),this.setAttribute("normal",new Qe(p,3)),this.setAttribute("uv",new Qe(m,2));function x(){const b=new Q,A=new Q;let E=0;const C=(t-e)/r;for(let M=0;M<=s;M++){const I=[],P=M/s,R=P*(t-e)+e;for(let O=0;O<=i;O++){const F=O/i,H=F*l+a,$=Math.sin(H),X=Math.cos(H);A.x=R*$,A.y=-P*r+y,A.z=R*X,d.push(A.x,A.y,A.z),b.set($,C,X).normalize(),p.push(b.x,b.y,b.z),m.push(F,1-P),I.push(g++)}v.push(I)}for(let M=0;M<i;M++)for(let I=0;I<s;I++){const P=v[I][M],R=v[I+1][M],O=v[I+1][M+1],F=v[I][M+1];f.push(P,R,F),f.push(R,O,F),E+=6}u.addGroup(_,E,0),_+=E}function w(b){const A=g,E=new be,C=new Q;let M=0;const I=b===!0?e:t,P=b===!0?1:-1;for(let O=1;O<=i;O++)d.push(0,y*P,0),p.push(0,P,0),m.push(.5,.5),g++;const R=g;for(let O=0;O<=i;O++){const H=O/i*l+a,$=Math.cos(H),X=Math.sin(H);C.x=I*X,C.y=y*P,C.z=I*$,d.push(C.x,C.y,C.z),p.push(0,P,0),E.x=$*.5+.5,E.y=X*.5*P+.5,m.push(E.x,E.y),g++}for(let O=0;O<i;O++){const F=A+O,H=R+O;b===!0?f.push(H,H+1,F):f.push(H+1,H,F),M+=3}u.addGroup(_,M,b===!0?1:2),_+=M}}static fromJSON(e){return new El(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Bh extends El{constructor(e=1,t=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Bh(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ao extends ft{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),u(r),f(),this.setAttribute("position",new Qe(s,3)),this.setAttribute("normal",new Qe(s.slice(),3)),this.setAttribute("uv",new Qe(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const w=new Q,b=new Q,A=new Q;for(let E=0;E<t.length;E+=3)m(t[E+0],w),m(t[E+1],b),m(t[E+2],A),l(w,b,A,x)}function l(x,w,b,A){const E=A+1,C=[];for(let M=0;M<=E;M++){C[M]=[];const I=x.clone().lerp(b,M/E),P=w.clone().lerp(b,M/E),R=E-M;for(let O=0;O<=R;O++)O===0&&M===E?C[M][O]=I:C[M][O]=I.clone().lerp(P,O/R)}for(let M=0;M<E;M++)for(let I=0;I<2*(E-M)-1;I++){const P=Math.floor(I/2);I%2===0?(p(C[M][P+1]),p(C[M+1][P]),p(C[M][P])):(p(C[M][P+1]),p(C[M+1][P+1]),p(C[M+1][P]))}}function u(x){const w=new Q;for(let b=0;b<s.length;b+=3)w.x=s[b+0],w.y=s[b+1],w.z=s[b+2],w.normalize().multiplyScalar(x),s[b+0]=w.x,s[b+1]=w.y,s[b+2]=w.z}function f(){const x=new Q;for(let w=0;w<s.length;w+=3){x.x=s[w+0],x.y=s[w+1],x.z=s[w+2];const b=y(x)/2/Math.PI+.5,A=_(x)/Math.PI+.5;o.push(b,1-A)}g(),d()}function d(){for(let x=0;x<o.length;x+=6){const w=o[x+0],b=o[x+2],A=o[x+4],E=Math.max(w,b,A),C=Math.min(w,b,A);E>.9&&C<.1&&(w<.2&&(o[x+0]+=1),b<.2&&(o[x+2]+=1),A<.2&&(o[x+4]+=1))}}function p(x){s.push(x.x,x.y,x.z)}function m(x,w){const b=x*3;w.x=e[b+0],w.y=e[b+1],w.z=e[b+2]}function g(){const x=new Q,w=new Q,b=new Q,A=new Q,E=new be,C=new be,M=new be;for(let I=0,P=0;I<s.length;I+=9,P+=6){x.set(s[I+0],s[I+1],s[I+2]),w.set(s[I+3],s[I+4],s[I+5]),b.set(s[I+6],s[I+7],s[I+8]),E.set(o[P+0],o[P+1]),C.set(o[P+2],o[P+3]),M.set(o[P+4],o[P+5]),A.copy(x).add(w).add(b).divideScalar(3);const R=y(A);v(E,P+0,x,R),v(C,P+2,w,R),v(M,P+4,b,R)}}function v(x,w,b,A){A<0&&x.x===1&&(o[w]=x.x-1),b.x===0&&b.z===0&&(o[w]=A/2/Math.PI+.5)}function y(x){return Math.atan2(x.z,-x.x)}function _(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}static fromJSON(e){return new ao(e.vertices,e.indices,e.radius,e.details)}}class Uh extends ao{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Uh(e.radius,e.detail)}}const Gp=new Q,jp=new Q,e_=new Q,$p=new Mi;class oR extends ft{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(il*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],f=["a","b","c"],d=new Array(3),p={},m=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:v,b:y,c:_}=$p;if(v.fromBufferAttribute(a,u[0]),y.fromBufferAttribute(a,u[1]),_.fromBufferAttribute(a,u[2]),$p.getNormal(e_),d[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,d[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,d[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let x=0;x<3;x++){const w=(x+1)%3,b=d[x],A=d[w],E=$p[f[x]],C=$p[f[w]],M=`${b}_${A}`,I=`${A}_${b}`;I in p&&p[I]?(e_.dot(p[I].normal)<=s&&(m.push(E.x,E.y,E.z),m.push(C.x,C.y,C.z)),p[I]=null):M in p||(p[M]={index0:u[x],index1:u[w],normal:e_.clone()})}}for(const g in p)if(p[g]){const{index0:v,index1:y}=p[g];Gp.fromBufferAttribute(a,v),jp.fromBufferAttribute(a,y),m.push(Gp.x,Gp.y,Gp.z),m.push(jp.x,jp.y,jp.z)}this.setAttribute("position",new Qe(m,3))}}}class Yi extends ea{constructor(e){super(e),this.uuid=ti(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new ea().fromJSON(i))}return this}}const K8={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=aR(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,f,d,p,m;if(r&&(s=iH(n,e,s,t)),n.length>80*t){a=u=n[0],l=f=n[1];for(let g=t;g<i;g+=t)d=n[g],p=n[g+1],d<a&&(a=d),p<l&&(l=p),d>u&&(u=d),p>f&&(f=p);m=Math.max(u-a,f-l),m=m!==0?32767/m:0}return ih(s,o,t,a,l,m,0),o}};function aR(n,e,t,r,i){let s,o;if(i===mH(n,e,t,r)>0)for(s=e;s<t;s+=r)o=TC(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=TC(s,n[s],n[s+1],o);return o&&P0(o,o.next)&&(oh(o),o=o.next),o}function vl(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(P0(t,t.next)||mn(t.prev,t,t.next)===0)){if(oh(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function ih(n,e,t,r,i,s,o){if(!n)return;!o&&s&&uH(n,r,i,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?tH(n,r,i,s):eH(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),oh(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=nH(vl(n),e,t),ih(n,e,t,r,i,s,2)):o===2&&rH(n,e,t,r,i,s):ih(vl(n),e,t,r,i,s,1);break}}}function eH(n){const e=n.prev,t=n,r=n.next;if(mn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,u=r.y,f=i<s?i<o?i:o:s<o?s:o,d=a<l?a<u?a:u:l<u?l:u,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let g=r.next;for(;g!==e;){if(g.x>=f&&g.x<=p&&g.y>=d&&g.y<=m&&ku(i,a,s,l,o,u,g.x,g.y)&&mn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function tH(n,e,t,r){const i=n.prev,s=n,o=n.next;if(mn(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,f=i.y,d=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,g=f<d?f<p?f:p:d<p?d:p,v=a>l?a>u?a:u:l>u?l:u,y=f>d?f>p?f:p:d>p?d:p,_=cx(m,g,e,t,r),x=cx(v,y,e,t,r);let w=n.prevZ,b=n.nextZ;for(;w&&w.z>=_&&b&&b.z<=x;){if(w.x>=m&&w.x<=v&&w.y>=g&&w.y<=y&&w!==i&&w!==o&&ku(a,f,l,d,u,p,w.x,w.y)&&mn(w.prev,w,w.next)>=0||(w=w.prevZ,b.x>=m&&b.x<=v&&b.y>=g&&b.y<=y&&b!==i&&b!==o&&ku(a,f,l,d,u,p,b.x,b.y)&&mn(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;w&&w.z>=_;){if(w.x>=m&&w.x<=v&&w.y>=g&&w.y<=y&&w!==i&&w!==o&&ku(a,f,l,d,u,p,w.x,w.y)&&mn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;b&&b.z<=x;){if(b.x>=m&&b.x<=v&&b.y>=g&&b.y<=y&&b!==i&&b!==o&&ku(a,f,l,d,u,p,b.x,b.y)&&mn(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function nH(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!P0(i,s)&&lR(i,r,r.next,s)&&sh(i,s)&&sh(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),oh(r),oh(r.next),r=n=s),r=r.next}while(r!==n);return vl(r)}function rH(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&hH(o,a)){let l=uR(o,a);o=vl(o,o.next),l=vl(l,l.next),ih(o,e,t,r,i,s,0),ih(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function iH(n,e,t,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,u=aR(n,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(fH(u));for(i.sort(sH),s=0;s<i.length;s++)t=oH(i[s],t);return t}function sH(n,e){return n.x-e.x}function oH(n,e){const t=aH(n,e);if(!t)return e;const r=uR(t,n);return vl(r,r.next),vl(t,t.next)}function aH(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let f=1/0,d;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&ku(o<u?s:r,o,l,u,o<u?r:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),sh(t,n)&&(d<f||d===f&&(t.x>i.x||t.x===i.x&&lH(i,t)))&&(i=t,f=d)),t=t.next;while(t!==a);return i}function lH(n,e){return mn(n.prev,n,e.prev)<0&&mn(e.next,n,n.next)<0}function uH(n,e,t,r){let i=n;do i.z===0&&(i.z=cx(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,cH(i)}function cH(n){let e,t,r,i,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,u*=2}while(o>1);return n}function cx(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function fH(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function ku(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function hH(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!dH(n,e)&&(sh(n,e)&&sh(e,n)&&pH(n,e)&&(mn(n.prev,n,e.prev)||mn(n,e.prev,e))||P0(n,e)&&mn(n.prev,n,n.next)>0&&mn(e.prev,e,e.next)>0)}function mn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function P0(n,e){return n.x===e.x&&n.y===e.y}function lR(n,e,t,r){const i=Xp(mn(n,e,t)),s=Xp(mn(n,e,r)),o=Xp(mn(t,r,n)),a=Xp(mn(t,r,e));return!!(i!==s&&o!==a||i===0&&qp(n,t,e)||s===0&&qp(n,r,e)||o===0&&qp(t,n,r)||a===0&&qp(t,e,r))}function qp(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Xp(n){return n>0?1:n<0?-1:0}function dH(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&lR(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function sh(n,e){return mn(n.prev,n,n.next)<0?mn(n,e,n.next)>=0&&mn(n,n.prev,e)>=0:mn(n,e,n.prev)<0||mn(n,n.next,e)<0}function pH(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function uR(n,e){const t=new fx(n.i,n.x,n.y),r=new fx(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function TC(n,e,t,r){const i=new fx(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function oh(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function fx(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function mH(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Ji{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ji.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];PC(e),IC(r,e);let o=e.length;t.forEach(PC);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,IC(r,t[l]);const a=K8.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function PC(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function IC(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class ga extends ft{constructor(e=new Yi([new be(.5,.5),new be(-.5,.5),new be(-.5,-.5),new be(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new Qe(i,3)),this.setAttribute("uv",new Qe(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,f=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:m-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:gH;let w,b=!1,A,E,C,M;_&&(w=_.getSpacedPoints(f),b=!0,p=!1,A=_.computeFrenetFrames(f,!1),E=new Q,C=new Q,M=new Q),p||(y=0,m=0,g=0,v=0);const I=a.extractPoints(u);let P=I.shape;const R=I.holes;if(!Ji.isClockWise(P)){P=P.reverse();for(let se=0,ce=R.length;se<ce;se++){const ge=R[se];Ji.isClockWise(ge)&&(R[se]=ge.reverse())}}const F=Ji.triangulateShape(P,R),H=P;for(let se=0,ce=R.length;se<ce;se++){const ge=R[se];P=P.concat(ge)}function $(se,ce,ge){return ce||console.error("THREE.ExtrudeGeometry: vec does not exist"),ce.clone().multiplyScalar(ge).add(se)}const X=P.length,j=F.length;function D(se,ce,ge){let ye,te,Z;const Me=se.x-ce.x,Ne=se.y-ce.y,Ge=ge.x-se.x,nt=ge.y-se.y,K=Me*Me+Ne*Ne,Y=Me*nt-Ne*Ge;if(Math.abs(Y)>Number.EPSILON){const he=Math.sqrt(K),Le=Math.sqrt(Ge*Ge+nt*nt),ze=ce.x-Ne/he,We=ce.y+Me/he,Ke=ge.x-nt/Le,$e=ge.y+Ge/Le,Oe=((Ke-ze)*nt-($e-We)*Ge)/(Me*nt-Ne*Ge);ye=ze+Me*Oe-se.x,te=We+Ne*Oe-se.y;const et=ye*ye+te*te;if(et<=2)return new be(ye,te);Z=Math.sqrt(et/2)}else{let he=!1;Me>Number.EPSILON?Ge>Number.EPSILON&&(he=!0):Me<-Number.EPSILON?Ge<-Number.EPSILON&&(he=!0):Math.sign(Ne)===Math.sign(nt)&&(he=!0),he?(ye=-Ne,te=Me,Z=Math.sqrt(K)):(ye=Me,te=Ne,Z=Math.sqrt(K/2))}return new be(ye/Z,te/Z)}const q=[];for(let se=0,ce=H.length,ge=ce-1,ye=se+1;se<ce;se++,ge++,ye++)ge===ce&&(ge=0),ye===ce&&(ye=0),q[se]=D(H[se],H[ge],H[ye]);const B=[];let G,N=q.concat();for(let se=0,ce=R.length;se<ce;se++){const ge=R[se];G=[];for(let ye=0,te=ge.length,Z=te-1,Me=ye+1;ye<te;ye++,Z++,Me++)Z===te&&(Z=0),Me===te&&(Me=0),G[ye]=D(ge[ye],ge[Z],ge[Me]);B.push(G),N=N.concat(G)}for(let se=0;se<y;se++){const ce=se/y,ge=m*Math.cos(ce*Math.PI/2),ye=g*Math.sin(ce*Math.PI/2)+v;for(let te=0,Z=H.length;te<Z;te++){const Me=$(H[te],q[te],ye);J(Me.x,Me.y,-ge)}for(let te=0,Z=R.length;te<Z;te++){const Me=R[te];G=B[te];for(let Ne=0,Ge=Me.length;Ne<Ge;Ne++){const nt=$(Me[Ne],G[Ne],ye);J(nt.x,nt.y,-ge)}}}const U=g+v;for(let se=0;se<X;se++){const ce=p?$(P[se],N[se],U):P[se];b?(C.copy(A.normals[0]).multiplyScalar(ce.x),E.copy(A.binormals[0]).multiplyScalar(ce.y),M.copy(w[0]).add(C).add(E),J(M.x,M.y,M.z)):J(ce.x,ce.y,0)}for(let se=1;se<=f;se++)for(let ce=0;ce<X;ce++){const ge=p?$(P[ce],N[ce],U):P[ce];b?(C.copy(A.normals[se]).multiplyScalar(ge.x),E.copy(A.binormals[se]).multiplyScalar(ge.y),M.copy(w[se]).add(C).add(E),J(M.x,M.y,M.z)):J(ge.x,ge.y,d/f*se)}for(let se=y-1;se>=0;se--){const ce=se/y,ge=m*Math.cos(ce*Math.PI/2),ye=g*Math.sin(ce*Math.PI/2)+v;for(let te=0,Z=H.length;te<Z;te++){const Me=$(H[te],q[te],ye);J(Me.x,Me.y,d+ge)}for(let te=0,Z=R.length;te<Z;te++){const Me=R[te];G=B[te];for(let Ne=0,Ge=Me.length;Ne<Ge;Ne++){const nt=$(Me[Ne],G[Ne],ye);b?J(nt.x,nt.y+w[f-1].y,w[f-1].x+ge):J(nt.x,nt.y,d+ge)}}}k(),W();function k(){const se=i.length/3;if(p){let ce=0,ge=X*ce;for(let ye=0;ye<j;ye++){const te=F[ye];re(te[2]+ge,te[1]+ge,te[0]+ge)}ce=f+y*2,ge=X*ce;for(let ye=0;ye<j;ye++){const te=F[ye];re(te[0]+ge,te[1]+ge,te[2]+ge)}}else{for(let ce=0;ce<j;ce++){const ge=F[ce];re(ge[2],ge[1],ge[0])}for(let ce=0;ce<j;ce++){const ge=F[ce];re(ge[0]+X*f,ge[1]+X*f,ge[2]+X*f)}}r.addGroup(se,i.length/3-se,0)}function W(){const se=i.length/3;let ce=0;V(H,ce),ce+=H.length;for(let ge=0,ye=R.length;ge<ye;ge++){const te=R[ge];V(te,ce),ce+=te.length}r.addGroup(se,i.length/3-se,1)}function V(se,ce){let ge=se.length;for(;--ge>=0;){const ye=ge;let te=ge-1;te<0&&(te=se.length-1);for(let Z=0,Me=f+y*2;Z<Me;Z++){const Ne=X*Z,Ge=X*(Z+1),nt=ce+ye+Ne,K=ce+te+Ne,Y=ce+te+Ge,he=ce+ye+Ge;Se(nt,K,Y,he)}}}function J(se,ce,ge){l.push(se),l.push(ce),l.push(ge)}function re(se,ce,ge){pe(se),pe(ce),pe(ge);const ye=i.length/3,te=x.generateTopUV(r,i,ye-3,ye-2,ye-1);we(te[0]),we(te[1]),we(te[2])}function Se(se,ce,ge,ye){pe(se),pe(ce),pe(ye),pe(ce),pe(ge),pe(ye);const te=i.length/3,Z=x.generateSideWallUV(r,i,te-6,te-3,te-2,te-1);we(Z[0]),we(Z[1]),we(Z[3]),we(Z[1]),we(Z[2]),we(Z[3])}function pe(se){i.push(l[se*3+0]),i.push(l[se*3+1]),i.push(l[se*3+2])}function we(se){s.push(se.x),s.push(se.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return yH(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new zS[i.type]().fromJSON(i)),new ga(r,e.options)}}const gH={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],f=e[i*3+1];return[new be(s,o),new be(a,l),new be(u,f)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[r*3],f=e[r*3+1],d=e[r*3+2],p=e[i*3],m=e[i*3+1],g=e[i*3+2],v=e[s*3],y=e[s*3+1],_=e[s*3+2];return Math.abs(a-f)<Math.abs(o-u)?[new be(o,1-l),new be(u,1-d),new be(p,1-g),new be(v,1-_)]:[new be(a,1-l),new be(f,1-d),new be(m,1-g),new be(y,1-_)]}};function yH(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Hh extends ao{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Hh(e.radius,e.detail)}}class pc extends ao{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pc(e.radius,e.detail)}}class Vh extends ft{constructor(e=.5,t=1,r=8,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],f=[];let d=e;const p=(t-e)/i,m=new Q,g=new be;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){const _=s+y/r*o;m.x=d*Math.cos(_),m.y=d*Math.sin(_),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,f.push(g.x,g.y)}d+=p}for(let v=0;v<i;v++){const y=v*(r+1);for(let _=0;_<r;_++){const x=_+y,w=x,b=x+r+1,A=x+r+2,E=x+1;a.push(w,b,E),a.push(b,A,E)}}this.setIndex(a),this.setAttribute("position",new Qe(l,3)),this.setAttribute("normal",new Qe(u,3)),this.setAttribute("uv",new Qe(f,2))}static fromJSON(e){return new Vh(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class mc extends ft{constructor(e=new Yi([new be(0,.5),new be(-.5,-.5),new be(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let f=0;f<e.length;f++)u(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Qe(i,3)),this.setAttribute("normal",new Qe(s,3)),this.setAttribute("uv",new Qe(o,2));function u(f){const d=i.length/3,p=f.extractPoints(t);let m=p.shape;const g=p.holes;Ji.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,_=g.length;y<_;y++){const x=g[y];Ji.isClockWise(x)===!0&&(g[y]=x.reverse())}const v=Ji.triangulateShape(m,g);for(let y=0,_=g.length;y<_;y++){const x=g[y];m=m.concat(x)}for(let y=0,_=m.length;y<_;y++){const x=m[y];i.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let y=0,_=v.length;y<_;y++){const x=v[y],w=x[0]+d,b=x[1]+d,A=x[2]+d;r.push(w,b,A),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return vH(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new mc(r,e.curveSegments)}}function vH(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class gc extends ft{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const f=[],d=new Q,p=new Q,m=[],g=[],v=[],y=[];for(let _=0;_<=r;_++){const x=[],w=_/r;let b=0;_==0&&o==0?b=.5/t:_==r&&l==Math.PI&&(b=-.5/t);for(let A=0;A<=t;A++){const E=A/t;d.x=-e*Math.cos(i+E*s)*Math.sin(o+w*a),d.y=e*Math.cos(o+w*a),d.z=e*Math.sin(i+E*s)*Math.sin(o+w*a),g.push(d.x,d.y,d.z),p.copy(d).normalize(),v.push(p.x,p.y,p.z),y.push(E+b,1-w),x.push(u++)}f.push(x)}for(let _=0;_<r;_++)for(let x=0;x<t;x++){const w=f[_][x+1],b=f[_][x],A=f[_+1][x],E=f[_+1][x+1];(_!==0||o>0)&&m.push(w,b,E),(_!==r-1||l<Math.PI)&&m.push(b,A,E)}this.setIndex(m),this.setAttribute("position",new Qe(g,3)),this.setAttribute("normal",new Qe(v,3)),this.setAttribute("uv",new Qe(y,2))}static fromJSON(e){return new gc(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Wh extends ao{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Wh(e.radius,e.detail)}}class Gh extends ft{constructor(e=1,t=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],f=new Q,d=new Q,p=new Q;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const v=g/i*s,y=m/r*Math.PI*2;d.x=(e+t*Math.cos(y))*Math.cos(v),d.y=(e+t*Math.cos(y))*Math.sin(v),d.z=t*Math.sin(y),a.push(d.x,d.y,d.z),f.x=e*Math.cos(v),f.y=e*Math.sin(v),p.subVectors(d,f).normalize(),l.push(p.x,p.y,p.z),u.push(g/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const v=(i+1)*m+g-1,y=(i+1)*(m-1)+g-1,_=(i+1)*(m-1)+g,x=(i+1)*m+g;o.push(v,y,x),o.push(y,_,x)}this.setIndex(o),this.setAttribute("position",new Qe(a,3)),this.setAttribute("normal",new Qe(l,3)),this.setAttribute("uv",new Qe(u,2))}static fromJSON(e){return new Gh(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class jh extends ft{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],f=[],d=new Q,p=new Q,m=new Q,g=new Q,v=new Q,y=new Q,_=new Q;for(let w=0;w<=r;++w){const b=w/r*s*Math.PI*2;x(b,s,o,e,m),x(b+.01,s,o,e,g),y.subVectors(g,m),_.addVectors(g,m),v.crossVectors(y,_),_.crossVectors(v,y),v.normalize(),_.normalize();for(let A=0;A<=i;++A){const E=A/i*Math.PI*2,C=-t*Math.cos(E),M=t*Math.sin(E);d.x=m.x+(C*_.x+M*v.x),d.y=m.y+(C*_.y+M*v.y),d.z=m.z+(C*_.z+M*v.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),u.push(p.x,p.y,p.z),f.push(w/r),f.push(A/i)}}for(let w=1;w<=r;w++)for(let b=1;b<=i;b++){const A=(i+1)*(w-1)+(b-1),E=(i+1)*w+(b-1),C=(i+1)*w+b,M=(i+1)*(w-1)+b;a.push(A,E,M),a.push(E,C,M)}this.setIndex(a),this.setAttribute("position",new Qe(l,3)),this.setAttribute("normal",new Qe(u,3)),this.setAttribute("uv",new Qe(f,2));function x(w,b,A,E,C){const M=Math.cos(w),I=Math.sin(w),P=A/b*w,R=Math.cos(P);C.x=E*(2+R)*.5*M,C.y=E*(2+R)*I*.5,C.z=E*Math.sin(P)*.5}}static fromJSON(e){return new jh(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class $h extends ft{constructor(e=new NS(new Q(-1,-1,0),new Q(-1,1,0),new Q(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new Q,l=new Q,u=new be;let f=new Q;const d=[],p=[],m=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new Qe(d,3)),this.setAttribute("normal",new Qe(p,3)),this.setAttribute("uv",new Qe(m,2));function v(){for(let w=0;w<t;w++)y(w);y(s===!1?t:0),x(),_()}function y(w){f=e.getPointAt(w/t,f);const b=o.normals[w],A=o.binormals[w];for(let E=0;E<=i;E++){const C=E/i*Math.PI*2,M=Math.sin(C),I=-Math.cos(C);l.x=I*b.x+M*A.x,l.y=I*b.y+M*A.y,l.z=I*b.z+M*A.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=f.x+r*l.x,a.y=f.y+r*l.y,a.z=f.z+r*l.z,d.push(a.x,a.y,a.z)}}function _(){for(let w=1;w<=t;w++)for(let b=1;b<=i;b++){const A=(i+1)*(w-1)+(b-1),E=(i+1)*w+(b-1),C=(i+1)*w+b,M=(i+1)*(w-1)+b;g.push(A,E,M),g.push(E,C,M)}}function x(){for(let w=0;w<=t;w++)for(let b=0;b<=i;b++)u.x=w/t,u.y=b/i,m.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new $h(new zS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class cR extends ft{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new Q,s=new Q;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,f=l.length;u<f;++u){const d=l[u],p=d.start,m=d.count;for(let g=p,v=p+m;g<v;g+=3)for(let y=0;y<3;y++){const _=a.getX(g+y),x=a.getX(g+(y+1)%3);i.fromBufferAttribute(o,_),s.fromBufferAttribute(o,x),RC(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const f=3*a+u,d=3*a+(u+1)%3;i.fromBufferAttribute(o,f),s.fromBufferAttribute(o,d),RC(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Qe(t,3))}}}function RC(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var LC=Object.freeze({__proto__:null,BoxGeometry:ma,CapsuleGeometry:Fh,CircleGeometry:zh,ConeGeometry:Bh,CylinderGeometry:El,DodecahedronGeometry:Uh,EdgesGeometry:oR,ExtrudeGeometry:ga,IcosahedronGeometry:Hh,LatheGeometry:dc,OctahedronGeometry:pc,PlaneGeometry:Ml,PolyhedronGeometry:ao,RingGeometry:Vh,ShapeGeometry:mc,SphereGeometry:gc,TetrahedronGeometry:Wh,TorusGeometry:Gh,TorusKnotGeometry:jh,TubeGeometry:$h,WireframeGeometry:cR});class fR extends or{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ye(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class hR extends Qi{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class BS extends or{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ye(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ha,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dR extends BS{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new be(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return An(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ye(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ye(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ye(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class pR extends or{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ye(16777215),this.specular=new Ye(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ha,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Lh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mR extends or{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ye(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ha,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class gR extends or{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ha,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class yR extends or{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ye(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ha,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Lh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class vR extends or{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ye(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ha,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _R extends Lr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function xi(n,e,t){return US(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Za(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function US(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function xR(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function hx(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function HS(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function _H(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],f=u.getValueSize(),d=[],p=[];for(let m=0;m<u.times.length;++m){const g=u.times[m]*i;if(!(g<t||g>=r)){d.push(u.times[m]);for(let v=0;v<f;++v)p.push(u.values[m*f+v])}}d.length!==0&&(u.times=Za(d,u.times.constructor),u.values=Za(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function xH(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(_){return _.name===a.name&&_.ValueTypeName===l});if(u===void 0)continue;let f=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=d/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const g=a.times.length-1;let v;if(s<=a.times[0]){const _=f,x=d-f;v=xi(a.values,_,x)}else if(s>=a.times[g]){const _=g*d+f,x=_+d-f;v=xi(a.values,_,x)}else{const _=a.createInterpolant(),x=f,w=d-f;_.evaluate(s),v=xi(_.resultBuffer,x,w)}l==="quaternion"&&new xr().fromArray(v).normalize().conjugate().toArray(v);const y=u.times.length;for(let _=0;_<y;++_){const x=_*m+p;if(l==="quaternion")xr.multiplyQuaternionsFlat(u.values,x,v,0,u.values,x);else{const w=m-p*2;for(let b=0;b<w;++b)u.values[x+b]-=v[b]}}}return n.blendMode=vS,n}var wH=Object.freeze({__proto__:null,arraySlice:xi,convertArray:Za,isTypedArray:US,getKeyframeOrder:xR,sortedArray:hx,flattenJSON:HS,subclip:_H,makeClipAdditive:xH});class qh{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class wR extends qh{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Xa,endingEnd:Xa}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Ya:s=e,a=2*t-r;break;case eh:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Ya:o=e,l=2*r-t;break;case eh:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const u=(r-t)*.5,f=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-r),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,g=(r-t)/(i-t),v=g*g,y=v*g,_=-p*y+2*p*v-p*g,x=(1+p)*y+(-1.5-2*p)*v+(-.5+p)*g+1,w=(-1-m)*y+(1.5+m)*v+.5*g,b=m*y-m*v;for(let A=0;A!==a;++A)s[A]=_*o[f+A]+x*o[u+A]+w*o[l+A]+b*o[d+A];return s}}class VS extends qh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=(r-t)/(i-t),d=1-f;for(let p=0;p!==a;++p)s[p]=o[u+p]*d+o[l+p]*f;return s}}class SR extends qh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ts{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Za(t,this.TimeBufferType),this.values=Za(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Za(e.times,Array),values:Za(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new SR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new VS(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new wR(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Qf:t=this.InterpolantFactoryMethodDiscrete;break;case Kf:t=this.InterpolantFactoryMethodLinear;break;case km:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Qf;case this.InterpolantFactoryMethodLinear:return Kf;case this.InterpolantFactoryMethodSmooth:return km}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=xi(r,s,o),this.values=xi(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&US(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=xi(this.times),t=xi(this.values),r=this.getValueSize(),i=this.getInterpolation()===km,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],f=e[a+1];if(u!==f&&(a!==1||u!==e[0]))if(i)l=!0;else{const d=a*r,p=d-r,m=d+r;for(let g=0;g!==r;++g){const v=t[d+g];if(v!==t[p+g]||v!==t[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=xi(e,0,o),this.values=xi(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=xi(this.times,0),t=xi(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}ts.prototype.TimeBufferType=Float32Array;ts.prototype.ValueBufferType=Float32Array;ts.prototype.DefaultInterpolation=Kf;class Cl extends ts{}Cl.prototype.ValueTypeName="bool";Cl.prototype.ValueBufferType=Array;Cl.prototype.DefaultInterpolation=Qf;Cl.prototype.InterpolantFactoryMethodLinear=void 0;Cl.prototype.InterpolantFactoryMethodSmooth=void 0;class WS extends ts{}WS.prototype.ValueTypeName="color";class ah extends ts{}ah.prototype.ValueTypeName="number";class bR extends qh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let u=e*a;for(let f=u+a;u!==f;u+=4)xr.slerpFlat(s,0,o,u-a,o,u,l);return s}}class yc extends ts{InterpolantFactoryMethodLinear(e){return new bR(this.times,this.values,this.getValueSize(),e)}}yc.prototype.ValueTypeName="quaternion";yc.prototype.DefaultInterpolation=Kf;yc.prototype.InterpolantFactoryMethodSmooth=void 0;class Al extends ts{}Al.prototype.ValueTypeName="string";Al.prototype.ValueBufferType=Array;Al.prototype.DefaultInterpolation=Qf;Al.prototype.InterpolantFactoryMethodLinear=void 0;Al.prototype.InterpolantFactoryMethodSmooth=void 0;class lh extends ts{}lh.prototype.ValueTypeName="vector";class uh{constructor(e,t=-1,r,i=_0){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=ti(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(bH(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(ts.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const f=xR(l);l=hx(l,1,f),u=hx(u,1,f),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new ah(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],f=u.name.match(s);if(f&&f.length>1){const d=f[1];let p=i[d];p||(i[d]=p=[]),p.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,p,m,g,v){if(m.length!==0){const y=[],_=[];HS(m,y,_,g),y.length!==0&&v.push(new d(p,y,_))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const p=u[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let g;for(g=0;g<p.length;g++)if(p[g].morphTargets)for(let v=0;v<p[g].morphTargets.length;v++)m[p[g].morphTargets[v]]=-1;for(const v in m){const y=[],_=[];for(let x=0;x!==p[g].morphTargets.length;++x){const w=p[g];y.push(w.time),_.push(w.morphTarget===v?1:0)}i.push(new ah(".morphTargetInfluence["+v+"]",y,_))}l=m.length*o}else{const m=".bones["+t[d].name+"]";r(lh,m+".position",p,"pos",i),r(yc,m+".quaternion",p,"rot",i),r(lh,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function SH(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ah;case"vector":case"vector2":case"vector3":case"vector4":return lh;case"color":return WS;case"quaternion":return yc;case"bool":case"boolean":return Cl;case"string":return Al}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function bH(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=SH(n.type);if(n.times===void 0){const t=[],r=[];HS(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const _l={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class GS{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(f){a++,s===!1&&i.onStart!==void 0&&i.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,i.onProgress!==void 0&&i.onProgress(f,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,d){return u.push(f,d),this},this.removeHandler=function(f){const d=u.indexOf(f);return d!==-1&&u.splice(d,2),this},this.getHandler=function(f){for(let d=0,p=u.length;d<p;d+=2){const m=u[d],g=u[d+1];if(m.global&&(m.lastIndex=0),m.test(f))return g}return null}}}const MR=new GS;class Vr{constructor(e){this.manager=e!==void 0?e:MR,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Us={};class MH extends Error{constructor(e,t){super(e),this.response=t}}class xs extends Vr{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=_l.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Us[e]!==void 0){Us[e].push({onLoad:t,onProgress:r,onError:i});return}Us[e]=[],Us[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const f=Us[e],d=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,g=m!==0;let v=0;const y=new ReadableStream({start(_){x();function x(){d.read().then(({done:w,value:b})=>{if(w)_.close();else{v+=b.byteLength;const A=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:m});for(let E=0,C=f.length;E<C;E++){const M=f[E];M.onProgress&&M.onProgress(A)}_.enqueue(b),x()}})}}});return new Response(y)}else throw new MH(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return u.json();default:if(a===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(g=>m.decode(g))}}}).then(u=>{_l.add(e,u);const f=Us[e];delete Us[e];for(let d=0,p=f.length;d<p;d++){const m=f[d];m.onLoad&&m.onLoad(u)}}).catch(u=>{const f=Us[e];if(f===void 0)throw this.manager.itemError(e),u;delete Us[e];for(let d=0,p=f.length;d<p;d++){const m=f[d];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class EH extends Vr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new xs(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=uh.parse(e[r]);t.push(i)}return t}}class CH extends Vr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new RS,l=new xs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function f(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=pn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)f(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let v=0;v<p.mipmapCount;v++)o[g].mipmaps.push(p.mipmaps[g*p.mipmapCount+v]),o[g].format=p.format,o[g].width=p.width,o[g].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=pn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class ch extends Vr{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=_l.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=rh("img");function l(){f(),_l.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(d){f(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class AH extends Vr{constructor(e){super(e)}load(e,t,r,i){const s=new Nh,o=new ch(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(f){s.images[u]=f,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class TH extends Vr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Hu,a=new xs(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:vr,o.wrapT=u.wrapT!==void 0?u.wrapT:vr,o.magFilter=u.magFilter!==void 0?u.magFilter:pn,o.minFilter=u.minFilter!==void 0?u.minFilter:pn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Sl),u.mipmapCount===1&&(o.minFilter=pn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u))},r,i),o}}class ER extends Vr{constructor(e){super(e)}load(e,t,r,i){const s=new bn,o=new ch(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class ya extends Ut{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ye(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class CR extends ya{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ut.DefaultUp),this.updateMatrix(),this.groundColor=new Ye(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const t_=new yt,OC=new Q,kC=new Q;class jS{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new be(512,512),this.map=null,this.mapPass=null,this.matrix=new yt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new w0,this._frameExtents=new be(1,1),this._viewportCount=1,this._viewports=[new $t(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;OC.setFromMatrixPosition(e.matrixWorld),t.position.copy(OC),kC.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(kC),t.updateMatrixWorld(),t_.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(t_),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class PH extends jS{constructor(){super(new nn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=nh*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class AR extends ya{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ut.DefaultUp),this.updateMatrix(),this.target=new Ut,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new PH}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const DC=new yt,of=new Q,n_=new Q;class IH extends jS{constructor(){super(new nn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new be(4,2),this._viewportCount=6,this._viewports=[new $t(2,1,1,1),new $t(0,1,1,1),new $t(3,1,1,1),new $t(1,1,1,1),new $t(3,0,1,1),new $t(1,0,1,1)],this._cubeDirections=[new Q(1,0,0),new Q(-1,0,0),new Q(0,0,1),new Q(0,0,-1),new Q(0,1,0),new Q(0,-1,0)],this._cubeUps=[new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,0,1),new Q(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),of.setFromMatrixPosition(e.matrixWorld),r.position.copy(of),n_.copy(r.position),n_.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(n_),r.updateMatrixWorld(),i.makeTranslation(-of.x,-of.y,-of.z),DC.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(DC)}}class TR extends ya{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new IH}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class RH extends jS{constructor(){super(new _s(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class PR extends ya{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ut.DefaultUp),this.updateMatrix(),this.target=new Ut,this.shadow=new RH}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class IR extends ya{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class RR extends ya{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class LR{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Q)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class I0 extends ya{constructor(e=new LR,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class R0 extends Vr{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new xs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=R0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ye().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Ye().setHex(o.value);break;case"v2":i.uniforms[s].value=new be().fromArray(o.value);break;case"v3":i.uniforms[s].value=new Q().fromArray(o.value);break;case"v4":i.uniforms[s].value=new $t().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Tn().fromArray(o.value);break;case"m4":i.uniforms[s].value=new yt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new be().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new be().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:fR,SpriteMaterial:TS,RawShaderMaterial:hR,ShaderMaterial:Qi,PointsMaterial:IS,MeshPhysicalMaterial:dR,MeshStandardMaterial:BS,MeshPhongMaterial:pR,MeshToonMaterial:mR,MeshNormalMaterial:gR,MeshLambertMaterial:yR,MeshDepthMaterial:MS,MeshDistanceMaterial:ES,MeshBasicMaterial:pa,MeshMatcapMaterial:vR,LineDashedMaterial:_R,LineBasicMaterial:Lr,Material:or};return new t[e]}}class dx{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class OR extends ft{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class kR extends Vr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new xs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,g){if(t[g]!==void 0)return t[g];const y=m.interleavedBuffers[g],_=s(m,y.buffer),x=Ru(y.type,_),w=new E0(x,y.stride);return w.uuid=y.uuid,t[g]=w,w}function s(m,g){if(r[g]!==void 0)return r[g];const y=m.arrayBuffers[g],_=new Uint32Array(y).buffer;return r[g]=_,_}const o=e.isInstancedBufferGeometry?new OR:new ft,a=e.data.index;if(a!==void 0){const m=Ru(a.type,a.array);o.setIndex(new Tt(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let v;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);v=new yl(y,g.itemSize,g.offset,g.normalized)}else{const y=Ru(g.type,g.array),_=g.isInstancedBufferAttribute?tc:Tt;v=new _(y,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),o.setAttribute(m,v)}const u=e.data.morphAttributes;if(u)for(const m in u){const g=u[m],v=[];for(let y=0,_=g.length;y<_;y++){const x=g[y];let w;if(x.isInterleavedBufferAttribute){const b=i(e.data,x.data);w=new yl(b,x.itemSize,x.offset,x.normalized)}else{const b=Ru(x.type,x.array);w=new Tt(b,x.itemSize,x.normalized)}x.name!==void 0&&(w.name=x.name),v.push(w)}o.morphAttributes[m]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,g=d.length;m!==g;++m){const v=d[m];o.addGroup(v.start,v.count,v.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new Q;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new bl(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class LH extends Vr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?dx.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new xs(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const f=u.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?dx.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new xs(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),f=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,f),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Yi().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new C0().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new kR;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in LC?a=LC[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new R0;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=uh.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(f)}else return l.data?{data:Ru(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new GS(t);s=new ch(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,f=e.length;u<f;u++){const d=e[u],p=d.url;if(Array.isArray(p)){const m=[];for(let g=0,v=p.length;g<v;g++){const y=p[g],_=a(y);_!==null&&(_ instanceof HTMLImageElement?m.push(_):m.push(new Hu(_.data,_.width,_.height)))}i[d.uuid]=new Ja(m)}else{const m=a(d.url);i[d.uuid]=new Ja(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Ru(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new ch(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const f=[];for(let d=0,p=u.length;d<p;d++){const m=u[d],g=await s(m);g!==null&&(g instanceof HTMLImageElement?f.push(g):f.push(new Hu(g.data,g.width,g.height)))}r[l.uuid]=new Ja(f)}else{const f=await s(l.url);r[l.uuid]=new Ja(f)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let f;Array.isArray(u)?(f=new Nh,u.length===6&&(f.needsUpdate=!0)):(u&&u.data?f=new Hu:f=new bn,u&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=r(a.mapping,OH)),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=r(a.wrap[0],NC),f.wrapT=r(a.wrap[1],NC)),a.format!==void 0&&(f.format=a.format),a.type!==void 0&&(f.type=a.type),a.encoding!==void 0&&(f.encoding=a.encoding),a.minFilter!==void 0&&(f.minFilter=r(a.minFilter,FC)),a.magFilter!==void 0&&(f.magFilter=r(a.magFilter,FC)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(f.userData=a.userData),i[a.uuid]=f}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let g=0,v=p.length;g<v;g++){const y=p[g];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let f,d;switch(e.type){case"Scene":o=new AS,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ye(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new M0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new b0(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new nn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new _s(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new IR(e.color,e.intensity);break;case"DirectionalLight":o=new PR(e.color,e.intensity);break;case"PointLight":o=new TR(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new RR(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new AR(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new CR(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new I0().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),d=l(e.material),o=new QI(f,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),d=l(e.material),o=new rr(f,d);break;case"InstancedMesh":f=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new KI(f,d,p),o.instanceMatrix=new tc(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new tc(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new ZI;break;case"Line":o=new la(a(e.geometry),l(e.material));break;case"LineLoop":o=new eR(a(e.geometry),l(e.material));break;case"LineSegments":o=new Ms(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new tR(a(e.geometry),l(e.material));break;case"Sprite":o=new JI(l(e.material));break;case"Group":o=new Ou;break;case"Bone":o=new PS;break;default:o=new Ut}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const g=p[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const g=p[m],v=o.getObjectByProperty("uuid",g.object);v!==void 0&&o.addLevel(v,g.distance,g.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const OH={UVMapping:v0,CubeReflectionMapping:sa,CubeRefractionMapping:oa,EquirectangularReflectionMapping:Xf,EquirectangularRefractionMapping:Yf,CubeUVReflectionMapping:cc},NC={RepeatWrapping:Jf,ClampToEdgeWrapping:vr,MirroredRepeatWrapping:Zf},FC={NearestFilter:On,NearestMipmapNearestFilter:mg,NearestMipmapLinearFilter:gg,LinearFilter:pn,LinearMipmapNearestFilter:gS,LinearMipmapLinearFilter:Sl};class kH extends Vr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=_l.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){_l.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Yp;class $S{static getContext(){return Yp===void 0&&(Yp=new(window.AudioContext||window.webkitAudioContext)),Yp}static setContext(e){Yp=e}}class DH extends Vr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new xs(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);$S.getContext().decodeAudioData(l,function(f){t(f)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class NH extends I0{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Ye().set(e),s=new Ye().set(t),o=new Q(i.r,i.g,i.b),a=new Q(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class FH extends I0{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new Ye().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const zC=new yt,BC=new yt,Ra=new yt;class zH{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new nn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new nn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Ra.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(il*t.fov*.5)/t.zoom;let a,l;BC.elements[12]=-i,zC.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Ra.elements[0]=2*t.near/(l-a),Ra.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Ra),a=-o*t.aspect-s,l=o*t.aspect-s,Ra.elements[0]=2*t.near/(l-a),Ra.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Ra)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(BC),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(zC)}}let qS=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=UC(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=UC();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};function UC(){return(typeof performance>"u"?Date:performance).now()}const La=new Q,HC=new xr,BH=new Q,Oa=new Q;class UH extends Ut{constructor(){super(),this.type="AudioListener",this.context=$S.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new qS}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(La,HC,BH),Oa.set(0,0,-1).applyQuaternion(HC),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(La.x,i),t.positionY.linearRampToValueAtTime(La.y,i),t.positionZ.linearRampToValueAtTime(La.z,i),t.forwardX.linearRampToValueAtTime(Oa.x,i),t.forwardY.linearRampToValueAtTime(Oa.y,i),t.forwardZ.linearRampToValueAtTime(Oa.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(La.x,La.y,La.z),t.setOrientation(Oa.x,Oa.y,Oa.z,r.x,r.y,r.z)}}class DR extends Ut{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const ka=new Q,VC=new xr,HH=new Q,Da=new Q;class VH extends DR{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ka,VC,HH),Da.set(0,0,1).applyQuaternion(VC);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ka.x,r),t.positionY.linearRampToValueAtTime(ka.y,r),t.positionZ.linearRampToValueAtTime(ka.z,r),t.orientationX.linearRampToValueAtTime(Da.x,r),t.orientationY.linearRampToValueAtTime(Da.y,r),t.orientationZ.linearRampToValueAtTime(Da.z,r)}else t.setPosition(ka.x,ka.y,ka.z),t.setOrientation(Da.x,Da.y,Da.z)}}class WH{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class NR{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){xr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;xr.multiplyQuaternionsFlat(e,o,e,t,e,r),xr.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const XS="\\[\\]\\.:\\/",GH=new RegExp("["+XS+"]","g"),YS="[^"+XS+"]",jH="[^"+XS.replace("\\.","")+"]",$H=/((?:WC+[\/:])*)/.source.replace("WC",YS),qH=/(WCOD+)?/.source.replace("WCOD",jH),XH=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",YS),YH=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",YS),JH=new RegExp("^"+$H+qH+XH+YH+"$"),ZH=["material","materials","bones","map"];class QH{constructor(e,t,r){const i=r||kt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class kt{constructor(e,t,r){this.path=t,this.parsedPath=r||kt.parseTrackName(t),this.node=kt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new kt.Composite(e,t,r):new kt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(GH,"")}static parseTrackName(e){const t=JH.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);ZH.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=kt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===u){u=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}kt.Composite=QH;kt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};kt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};kt.prototype.GetterByBindingType=[kt.prototype._getValue_direct,kt.prototype._getValue_array,kt.prototype._getValue_arrayElement,kt.prototype._getValue_toArray];kt.prototype.SetterByBindingTypeAndVersioning=[[kt.prototype._setValue_direct,kt.prototype._setValue_direct_setNeedsUpdate,kt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[kt.prototype._setValue_array,kt.prototype._setValue_array_setNeedsUpdate,kt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[kt.prototype._setValue_arrayElement,kt.prototype._setValue_arrayElement_setNeedsUpdate,kt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[kt.prototype._setValue_fromArray,kt.prototype._setValue_fromArray_setNeedsUpdate,kt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class KH{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ti(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let f=0,d=arguments.length;f!==d;++f){const p=arguments[f],m=p.uuid;let g=t[m];if(g===void 0){g=l++,t[m]=g,e.push(p);for(let v=0,y=o;v!==y;++v)s[v].push(new kt(p,r[v],i[v]))}else if(g<u){a=e[g];const v=--u,y=e[v];t[y.uuid]=g,e[g]=y,t[m]=v,e[v]=p;for(let _=0,x=o;_!==x;++_){const w=s[_],b=w[v];let A=w[g];w[g]=b,A===void 0&&(A=new kt(p,r[_],i[_])),w[v]=A}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,f=t[u];if(f!==void 0&&f>=s){const d=s++,p=e[d];t[p.uuid]=f,e[f]=p,t[u]=d,e[d]=l;for(let m=0,g=i;m!==g;++m){const v=r[m],y=v[d],_=v[f];v[f]=y,v[d]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],f=u.uuid,d=t[f];if(d!==void 0)if(delete t[f],d<s){const p=--s,m=e[p],g=--o,v=e[g];t[m.uuid]=d,e[d]=m,t[v.uuid]=p,e[p]=v,e.pop();for(let y=0,_=i;y!==_;++y){const x=r[y],w=x[p],b=x[g];x[d]=w,x[p]=b,x.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let g=0,v=i;g!==v;++g){const y=r[g];y[d]=y[p],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,f=this.nCachedObjects_,d=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(d);for(let p=f,m=l.length;p!==m;++p){const g=l[p];d[p]=new kt(g,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class eV{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Xa,endingEnd:Xa};for(let u=0;u!==o;++u){const f=s[u].createInterpolant(null);a[u]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=AI,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case vS:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),u[f].accumulateAdditive(a);break;case _0:default:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),u[f].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===TI;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===CI){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Ya,i.endingEnd=Ya):(e?i.endingStart=this.zeroSlopeAtStart?Ya:Xa:i.endingStart=eh,t?i.endingEnd=this.zeroSlopeAtEnd?Ya:Xa:i.endingEnd=eh)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const tV=new Float32Array(1);class nV extends bs{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let f=u[l];f===void 0&&(f={},u[l]=f);for(let d=0;d!==s;++d){const p=i[d],m=p.name;let g=f[m];if(g!==void 0)++g.referenceCount,o[d]=g;else{if(g=o[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const v=t&&t._propertyBindings[d].binding.parsedPath;g=new NR(kt.create(r,m,v),p.ValueTypeName,p.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],f=e._byClipCacheIndex;u._byClipCacheIndex=f,l[f]=u,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new VS(new Float32Array(2),new Float32Array(2),1,tV),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?uh.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=_0),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const f=new eV(this,o,t,r);return this._bindAction(f,u),this._addInactiveAction(f,a,s),f}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?uh.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const f=u._cacheIndex,d=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=f,t[f]=d,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class JS{constructor(e){this.value=e}clone(){return new JS(this.value.clone===void 0?this.value:this.value.clone())}}let rV=0;class iV extends bs{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:rV++}),this.name="",this.usage=th,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class sV extends E0{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class oV{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class FR{constructor(e,t,r=0,i=1/0){this.ray=new kh(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new ol,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return px(e,this,r,t),r.sort(WC),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)px(e[i],this,r,t);return r.sort(WC),r}}function WC(n,e){return n.distance-e.distance}function px(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)px(i[s],e,t,!0)}}class mx{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(An(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class aV{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const GC=new be;class zR{constructor(e=new be(1/0,1/0),t=new be(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=GC.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return GC.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const jC=new Q,Jp=new Q;class lV{constructor(e=new Q,t=new Q){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){jC.subVectors(e,this.start),Jp.subVectors(this.end,this.start);const r=Jp.dot(Jp);let s=Jp.dot(jC)/r;return t&&(s=An(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const $C=new Q;class uV extends Ut{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new ft,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,f=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new Qe(i,3));const s=new Lr({fog:!1,toneMapped:!1});this.cone=new Ms(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),$C.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt($C),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ao=new Q,Zp=new yt,r_=new yt;class cV extends Ms{constructor(e){const t=BR(e),r=new ft,i=[],s=[],o=new Ye(0,0,1),a=new Ye(0,1,0);for(let u=0;u<t.length;u++){const f=t[u];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Qe(i,3)),r.setAttribute("color",new Qe(s,3));const l=new Lr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");r_.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Zp.multiplyMatrices(r_,a.matrixWorld),Ao.setFromMatrixPosition(Zp),i.setXYZ(o,Ao.x,Ao.y,Ao.z),Zp.multiplyMatrices(r_,a.parent.matrixWorld),Ao.setFromMatrixPosition(Zp),i.setXYZ(o+1,Ao.x,Ao.y,Ao.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function BR(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,BR(n.children[t]));return e}class fV extends rr{constructor(e,t,r){const i=new gc(t,4,2),s=new pa({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const hV=new Q,qC=new Ye,XC=new Ye;class dV extends Ut{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new pc(t);i.rotateY(Math.PI*.5),this.material=new pa({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Tt(o,3)),this.add(new rr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");qC.copy(this.light.color),XC.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?qC:XC;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(hV.setFromMatrixPosition(this.light.matrixWorld).negate())}}class pV extends Ms{constructor(e=10,t=10,r=4473924,i=8947848){r=new Ye(r),i=new Ye(i);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let p=0,m=0,g=-a;p<=t;p++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=p===s?r:i;v.toArray(u,m),m+=3,v.toArray(u,m),m+=3,v.toArray(u,m),m+=3,v.toArray(u,m),m+=3}const f=new ft;f.setAttribute("position",new Qe(l,3)),f.setAttribute("color",new Qe(u,3));const d=new Lr({vertexColors:!0,toneMapped:!1});super(f,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class mV extends Ms{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Ye(s),o=new Ye(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),m=Math.sin(p)*e,g=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,g);const v=d&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let d=0;d<r;d++){const p=d&1?s:o,m=e-e/r*d;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),y=Math.sin(v)*m,_=Math.cos(v)*m;a.push(y,0,_),l.push(p.r,p.g,p.b),v=(g+1)/i*(Math.PI*2),y=Math.sin(v)*m,_=Math.cos(v)*m,a.push(y,0,_),l.push(p.r,p.g,p.b)}}const u=new ft;u.setAttribute("position",new Qe(a,3)),u.setAttribute("color",new Qe(l,3));const f=new Lr({vertexColors:!0,toneMapped:!1});super(u,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const YC=new Q,Qp=new Q,JC=new Q;class gV extends Ut{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new ft;i.setAttribute("position",new Qe([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Lr({fog:!1,toneMapped:!1});this.lightPlane=new la(i,s),this.add(this.lightPlane),i=new ft,i.setAttribute("position",new Qe([0,0,0,0,0,1],3)),this.targetLine=new la(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),YC.setFromMatrixPosition(this.light.matrixWorld),Qp.setFromMatrixPosition(this.light.target.matrixWorld),JC.subVectors(Qp,YC),this.lightPlane.lookAt(Qp),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Qp),this.targetLine.scale.z=JC.length()}}const Kp=new Q,xn=new Dh;class yV extends Ms{constructor(e){const t=new ft,r=new Lr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,v){l(g),l(v)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}t.setAttribute("position",new Qe(i,3)),t.setAttribute("color",new Qe(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Ye(16755200),f=new Ye(16711680),d=new Ye(43775),p=new Ye(16777215),m=new Ye(3355443);this.setColors(u,f,d,p,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;xn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),En("c",t,e,xn,0,0,-1),En("t",t,e,xn,0,0,1),En("n1",t,e,xn,-r,-i,-1),En("n2",t,e,xn,r,-i,-1),En("n3",t,e,xn,-r,i,-1),En("n4",t,e,xn,r,i,-1),En("f1",t,e,xn,-r,-i,1),En("f2",t,e,xn,r,-i,1),En("f3",t,e,xn,-r,i,1),En("f4",t,e,xn,r,i,1),En("u1",t,e,xn,r*.7,i*1.1,-1),En("u2",t,e,xn,-r*.7,i*1.1,-1),En("u3",t,e,xn,0,i*2,-1),En("cf1",t,e,xn,-r,0,1),En("cf2",t,e,xn,r,0,1),En("cf3",t,e,xn,0,-i,1),En("cf4",t,e,xn,0,i,1),En("cn1",t,e,xn,-r,0,-1),En("cn2",t,e,xn,r,0,-1),En("cn3",t,e,xn,0,-i,-1),En("cn4",t,e,xn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function En(n,e,t,r,i,s,o){Kp.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,f=a.length;u<f;u++)l.setXYZ(a[u],Kp.x,Kp.y,Kp.z)}}const em=new da;class vV extends Ms{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new ft;s.setIndex(new Tt(r,1)),s.setAttribute("position",new Tt(i,3)),super(s,new Lr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&em.setFromObject(this.object),em.isEmpty())return;const t=em.min,r=em.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class _V extends Ms{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ft;s.setIndex(new Tt(r,1)),s.setAttribute("position",new Qe(i,3)),super(s,new Lr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class xV extends la{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new ft;o.setAttribute("position",new Qe(s,3)),o.computeBoundingSphere(),super(o,new Lr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new ft;l.setAttribute("position",new Qe(a,3)),l.computeBoundingSphere(),this.add(new rr(l,new pa({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const ZC=new Q;let tm,i_;class wV extends Ut{constructor(e=new Q(0,0,1),t=new Q(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",tm===void 0&&(tm=new ft,tm.setAttribute("position",new Qe([0,0,0,0,1,0],3)),i_=new El(0,.5,1,5,1),i_.translate(0,-.5,0)),this.position.copy(t),this.line=new la(tm,new Lr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new rr(i_,new pa({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{ZC.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(ZC,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class SV extends Ms{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new ft;i.setAttribute("position",new Qe(t,3)),i.setAttribute("color",new Qe(r,3));const s=new Lr({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new Ye,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Po{constructor(){this.type="ShapePath",this.color=new Ye,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new ea,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(_){const x=[];for(let w=0,b=_.length;w<b;w++){const A=_[w],E=new Yi;E.curves=A.curves,x.push(E)}return x}function r(_,x){const w=x.length;let b=!1;for(let A=w-1,E=0;E<w;A=E++){let C=x[A],M=x[E],I=M.x-C.x,P=M.y-C.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(C=x[E],I=-I,M=x[A],P=-P),_.y<C.y||_.y>M.y)continue;if(_.y===C.y){if(_.x===C.x)return!0}else{const R=P*(_.x-C.x)-I*(_.y-C.y);if(R===0)return!0;if(R<0)continue;b=!b}}else{if(_.y!==C.y)continue;if(M.x<=_.x&&_.x<=C.x||C.x<=_.x&&_.x<=M.x)return!0}}return b}const i=Ji.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new Yi,l.curves=a.curves,u.push(l),u;let f=!i(s[0].getPoints());f=e?!f:f;const d=[],p=[];let m=[],g=0,v;p[g]=void 0,m[g]=[];for(let _=0,x=s.length;_<x;_++)a=s[_],v=a.getPoints(),o=i(v),o=e?!o:o,o?(!f&&p[g]&&g++,p[g]={s:new Yi,p:v},p[g].s.curves=a.curves,f&&g++,m[g]=[]):m[g].push({h:a,p:v[0]});if(!p[0])return t(s);if(p.length>1){let _=!1,x=0;for(let w=0,b=p.length;w<b;w++)d[w]=[];for(let w=0,b=p.length;w<b;w++){const A=m[w];for(let E=0;E<A.length;E++){const C=A[E];let M=!0;for(let I=0;I<p.length;I++)r(C.p,p[I].p)&&(w!==I&&x++,M?(M=!1,d[I].push(C)):_=!0);M&&d[w].push(C)}}x>0&&_===!1&&(m=d)}let y;for(let _=0,x=p.length;_<x;_++){l=p[_].s,u.push(l),y=m[_];for(let w=0,b=y.length;w<b;w++)l.holes.push(y[w].h)}return u}}const Ws=bV();function bV(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,f=0;for(;!(u&8388608);)u<<=1,f-=8388608;u&=-8388609,f+=947912704,s[l]=u|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function MV(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=An(n,-65504,65504),Ws.floatView[0]=n;const e=Ws.uint32View[0],t=e>>23&511;return Ws.baseTable[t]+((e&8388607)>>Ws.shiftTable[t])}function EV(n){const e=n>>10;return Ws.uint32View[0]=Ws.mantissaTable[Ws.offsetTable[e]+(n&1023)]+Ws.exponentTable[e],Ws.floatView[0]}var CV=Object.freeze({__proto__:null,toHalfFloat:MV,fromHalfFloat:EV});function AV(){console.error("THREE.ImmediateRenderObject has been removed.")}class TV extends ri{constructor(e,t,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,r),this.samples=4}}class PV extends Oh{constructor(e,t,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,r,i)}}class IV extends x0{constructor(e,t,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,r,i)}}class RV extends ma{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class LV extends Fh{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class OV extends zh{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class kV extends Bh{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class DV extends El{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class NV extends Uh{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class FV extends ga{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class zV extends Hh{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class BV extends dc{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class UV extends pc{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class HV extends Ml{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class VV extends ao{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class WV extends Vh{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class GV extends mc{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class jV extends gc{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class $V extends Wh{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class qV extends Gh{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class XV extends jh{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class YV extends $h{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:y0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=y0);const _g=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:mS,AddEquation:Wa,AddOperation:oI,AdditiveAnimationBlendMode:vS,AdditiveBlending:O1,AlphaFormat:gI,AlwaysDepth:KP,AlwaysStencilFunc:LI,AmbientLight:IR,AmbientLightProbe:FH,AnimationClip:uh,AnimationLoader:EH,AnimationMixer:nV,AnimationObjectGroup:KH,AnimationUtils:wH,ArcCurve:nR,ArrayCamera:$I,ArrowHelper:wV,Audio:DR,AudioAnalyser:WH,AudioContext:$S,AudioListener:UH,AudioLoader:DH,AxesHelper:SV,BackSide:ei,BasicDepthPacking:PI,BasicShadowMap:q4,Bone:PS,BooleanKeyframeTrack:Cl,Box2:zR,Box3:da,Box3Helper:_V,BoxBufferGeometry:RV,BoxGeometry:ma,BoxHelper:vV,BufferAttribute:Tt,BufferGeometry:ft,BufferGeometryLoader:kR,ByteType:fI,Cache:_l,Camera:Dh,CameraHelper:yV,CanvasTexture:j8,CapsuleBufferGeometry:LV,CapsuleGeometry:Fh,CatmullRomCurve3:OS,CineonToneMapping:uI,CircleBufferGeometry:OV,CircleGeometry:zh,ClampToEdgeWrapping:vr,Clock:qS,Color:Ye,ColorKeyframeTrack:WS,ColorManagement:gr,CompressedArrayTexture:G8,CompressedTexture:RS,CompressedTextureLoader:CH,ConeBufferGeometry:kV,ConeGeometry:Bh,CubeCamera:zI,CubeReflectionMapping:sa,CubeRefractionMapping:oa,CubeTexture:Nh,CubeTextureLoader:AH,CubeUVReflectionMapping:cc,CubicBezierCurve:kS,CubicBezierCurve3:rR,CubicInterpolant:wR,CullFaceBack:L1,CullFaceFront:BP,CullFaceFrontBack:$4,CullFaceNone:zP,Curve:es,CurvePath:sR,CustomBlending:UP,CustomToneMapping:cI,CylinderBufferGeometry:DV,CylinderGeometry:El,Cylindrical:aV,Data3DTexture:x0,DataArrayTexture:Oh,DataTexture:Hu,DataTexture2DArray:PV,DataTexture3D:IV,DataTextureLoader:TH,DataUtils:CV,DecrementStencilOp:s5,DecrementWrapStencilOp:a5,DefaultLoadingManager:MR,DepthFormat:Ko,DepthStencilFormat:gl,DepthTexture:qI,DirectionalLight:PR,DirectionalLightHelper:gV,DiscreteInterpolant:SR,DodecahedronBufferGeometry:NV,DodecahedronGeometry:Uh,DoubleSide:ji,DstAlphaFactor:qP,DstColorFactor:YP,DynamicCopyUsage:S5,DynamicDrawUsage:g5,DynamicReadUsage:_5,EdgesGeometry:oR,EllipseCurve:A0,EqualDepth:tI,EqualStencilFunc:f5,EquirectangularReflectionMapping:Xf,EquirectangularRefractionMapping:Yf,Euler:fc,EventDispatcher:bs,ExtrudeBufferGeometry:FV,ExtrudeGeometry:ga,FileLoader:xs,Float16BufferAttribute:rz,Float32BufferAttribute:Qe,Float64BufferAttribute:iz,FloatType:qs,Fog:M0,FogExp2:b0,FramebufferTexture:W8,FrontSide:pl,Frustum:w0,GLBufferAttribute:oV,GLSL1:M5,GLSL3:sx,GreaterDepth:rI,GreaterEqualDepth:nI,GreaterEqualStencilFunc:m5,GreaterStencilFunc:d5,GridHelper:pV,Group:Ou,HalfFloatType:ml,HemisphereLight:CR,HemisphereLightHelper:dV,HemisphereLightProbe:NH,IcosahedronBufferGeometry:zV,IcosahedronGeometry:Hh,ImageBitmapLoader:kH,ImageLoader:ch,ImageUtils:xS,ImmediateRenderObject:AV,IncrementStencilOp:i5,IncrementWrapStencilOp:o5,InstancedBufferAttribute:tc,InstancedBufferGeometry:OR,InstancedInterleavedBuffer:sV,InstancedMesh:KI,Int16BufferAttribute:tz,Int32BufferAttribute:nz,Int8BufferAttribute:Q5,IntType:dI,InterleavedBuffer:E0,InterleavedBufferAttribute:yl,Interpolant:qh,InterpolateDiscrete:Qf,InterpolateLinear:Kf,InterpolateSmooth:km,InvertStencilOp:l5,KeepStencilOp:Dm,KeyframeTrack:ts,LOD:ZI,LatheBufferGeometry:BV,LatheGeometry:dc,Layers:ol,LessDepth:eI,LessEqualDepth:pg,LessEqualStencilFunc:h5,LessStencilFunc:c5,Light:ya,LightProbe:I0,Line:la,Line3:lV,LineBasicMaterial:Lr,LineCurve:T0,LineCurve3:iR,LineDashedMaterial:_R,LineLoop:eR,LineSegments:Ms,LinearEncoding:ro,LinearFilter:pn,LinearInterpolant:VS,LinearMipMapLinearFilter:Z4,LinearMipMapNearestFilter:J4,LinearMipmapLinearFilter:Sl,LinearMipmapNearestFilter:gS,LinearSRGBColorSpace:Ku,LinearToneMapping:aI,Loader:Vr,LoaderUtils:dx,LoadingManager:GS,LoopOnce:CI,LoopPingPong:TI,LoopRepeat:AI,LuminanceAlphaFormat:_I,LuminanceFormat:vI,MOUSE:Ua,Material:or,MaterialLoader:R0,MathUtils:z5,Matrix3:Tn,Matrix4:yt,MaxEquation:F1,Mesh:rr,MeshBasicMaterial:pa,MeshDepthMaterial:MS,MeshDistanceMaterial:ES,MeshLambertMaterial:yR,MeshMatcapMaterial:vR,MeshNormalMaterial:gR,MeshPhongMaterial:pR,MeshPhysicalMaterial:dR,MeshStandardMaterial:BS,MeshToonMaterial:mR,MinEquation:N1,MirroredRepeatWrapping:Zf,MixOperation:sI,MultiplyBlending:D1,MultiplyOperation:Lh,NearestFilter:On,NearestMipMapLinearFilter:Y4,NearestMipMapNearestFilter:X4,NearestMipmapLinearFilter:gg,NearestMipmapNearestFilter:mg,NeverDepth:QP,NeverStencilFunc:u5,NoBlending:Qs,NoColorSpace:t5,NoToneMapping:Xi,NormalAnimationBlendMode:_0,NormalBlending:nl,NotEqualDepth:iI,NotEqualStencilFunc:p5,NumberKeyframeTrack:ah,Object3D:Ut,ObjectLoader:LH,ObjectSpaceNormalMap:RI,OctahedronBufferGeometry:UV,OctahedronGeometry:pc,OneFactor:GP,OneMinusDstAlphaFactor:XP,OneMinusDstColorFactor:JP,OneMinusSrcAlphaFactor:pS,OneMinusSrcColorFactor:$P,OrthographicCamera:_s,PCFShadowMap:fS,PCFSoftShadowMap:hS,PMREMGenerator:ax,Path:ea,PerspectiveCamera:nn,Plane:Lo,PlaneBufferGeometry:HV,PlaneGeometry:Ml,PlaneHelper:xV,PointLight:TR,PointLightHelper:fV,Points:tR,PointsMaterial:IS,PolarGridHelper:mV,PolyhedronBufferGeometry:VV,PolyhedronGeometry:ao,PositionalAudio:VH,PropertyBinding:kt,PropertyMixer:NR,QuadraticBezierCurve:DS,QuadraticBezierCurve3:NS,Quaternion:xr,QuaternionKeyframeTrack:yc,QuaternionLinearInterpolant:bR,REVISION:y0,RGBADepthPacking:II,RGBAFormat:Zr,RGBAIntegerFormat:MI,RGBA_ASTC_10x10_Format:tx,RGBA_ASTC_10x5_Format:Q1,RGBA_ASTC_10x6_Format:K1,RGBA_ASTC_10x8_Format:ex,RGBA_ASTC_12x10_Format:nx,RGBA_ASTC_12x12_Format:rx,RGBA_ASTC_4x4_Format:G1,RGBA_ASTC_5x4_Format:j1,RGBA_ASTC_5x5_Format:$1,RGBA_ASTC_6x5_Format:q1,RGBA_ASTC_6x6_Format:X1,RGBA_ASTC_8x5_Format:Y1,RGBA_ASTC_8x6_Format:J1,RGBA_ASTC_8x8_Format:Z1,RGBA_BPTC_Format:ix,RGBA_ETC2_EAC_Format:W1,RGBA_PVRTC_2BPPV1_Format:H1,RGBA_PVRTC_4BPPV1_Format:U1,RGBA_S3TC_DXT1_Format:Rm,RGBA_S3TC_DXT3_Format:Lm,RGBA_S3TC_DXT5_Format:Om,RGBFormat:yI,RGB_ETC1_Format:EI,RGB_ETC2_Format:V1,RGB_PVRTC_2BPPV1_Format:B1,RGB_PVRTC_4BPPV1_Format:z1,RGB_S3TC_DXT1_Format:Im,RGFormat:SI,RGIntegerFormat:bI,RawShaderMaterial:hR,Ray:kh,Raycaster:FR,RectAreaLight:RR,RedFormat:xI,RedIntegerFormat:wI,ReinhardToneMapping:lI,RepeatWrapping:Jf,ReplaceStencilOp:r5,ReverseSubtractEquation:VP,RingBufferGeometry:WV,RingGeometry:Vh,SRGBColorSpace:Ui,Scene:AS,ShaderChunk:Mt,ShaderLib:Vi,ShaderMaterial:Qi,ShadowMaterial:fR,Shape:Yi,ShapeBufferGeometry:GV,ShapeGeometry:mc,ShapePath:Po,ShapeUtils:Ji,ShortType:hI,Skeleton:C0,SkeletonHelper:cV,SkinnedMesh:QI,Source:Ja,Sphere:bl,SphereBufferGeometry:jV,SphereGeometry:gc,Spherical:mx,SphericalHarmonics3:LR,SplineCurve:FS,SpotLight:AR,SpotLightHelper:uV,Sprite:JI,SpriteMaterial:TS,SrcAlphaFactor:dS,SrcAlphaSaturateFactor:ZP,SrcColorFactor:jP,StaticCopyUsage:w5,StaticDrawUsage:th,StaticReadUsage:v5,StereoCamera:zH,StreamCopyUsage:b5,StreamDrawUsage:y5,StreamReadUsage:x5,StringKeyframeTrack:Al,SubtractEquation:HP,SubtractiveBlending:k1,TOUCH:Ha,TangentSpaceNormalMap:ha,TetrahedronBufferGeometry:$V,TetrahedronGeometry:Wh,Texture:bn,TextureLoader:ER,TorusBufferGeometry:qV,TorusGeometry:Gh,TorusKnotBufferGeometry:XV,TorusKnotGeometry:jh,Triangle:Mi,TriangleFanDrawMode:e5,TriangleStripDrawMode:K4,TrianglesDrawMode:Q4,TubeBufferGeometry:YV,TubeGeometry:$h,UVMapping:v0,Uint16BufferAttribute:wS,Uint32BufferAttribute:SS,Uint8BufferAttribute:K5,Uint8ClampedBufferAttribute:ez,Uniform:JS,UniformsGroup:iV,UniformsLib:je,UniformsUtils:FI,UnsignedByteType:aa,UnsignedInt248Type:rl,UnsignedIntType:Uo,UnsignedShort4444Type:pI,UnsignedShort5551Type:mI,UnsignedShortType:yS,VSMShadowMap:Iu,Vector2:be,Vector3:Q,Vector4:$t,VectorKeyframeTrack:lh,VideoTexture:V8,WebGL1Renderer:XI,WebGL3DRenderTarget:V5,WebGLArrayRenderTarget:H5,WebGLCubeRenderTarget:BI,WebGLMultipleRenderTargets:W5,WebGLMultisampleRenderTarget:TV,WebGLRenderTarget:ri,WebGLRenderer:CS,WebGLUtils:jI,WireframeGeometry:cR,WrapAroundEnding:eh,ZeroCurvatureEnding:Xa,ZeroFactor:WP,ZeroSlopeEnding:Ya,ZeroStencilOp:n5,_SRGBAFormat:yg,sRGBEncoding:tn},Symbol.toStringTag,{value:"Module"}));var Qa={exports:{}},Tl={};Tl.ConcurrentRoot=1;Tl.ContinuousEventPriority=4;Tl.DefaultEventPriority=16;Tl.DiscreteEventPriority=1;Tl.IdleEventPriority=536870912;Tl.LegacyRoot=0;(function(n){n.exports=Tl})(Qa);function JV(n){let e;const t=new Set,r=(u,f)=>{const d=typeof u=="function"?u(e):u;if(d!==e){const p=e;e=f?d:Object.assign({},e,d),t.forEach(m=>m(e,p))}},i=()=>e,s=(u,f=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=f(e);function m(){const g=f(e);if(!d(p,g)){const v=p;u(p=g,v)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(u,f,d)=>f||d?s(u,f,d):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,l),l}const ZV=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),QC=ZV?ue.exports.useEffect:ue.exports.useLayoutEffect;function QV(n){const e=typeof n=="function"?JV(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=ue.exports.useReducer(y=>y+1,0),o=e.getState(),a=ue.exports.useRef(o),l=ue.exports.useRef(r),u=ue.exports.useRef(i),f=ue.exports.useRef(!1),d=ue.exports.useRef();d.current===void 0&&(d.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||u.current!==i||f.current)&&(p=r(o),m=!i(d.current,p)),QC(()=>{m&&(d.current=p),a.current=o,l.current=r,u.current=i,f.current=!1});const g=ue.exports.useRef(o);QC(()=>{const y=()=>{try{const x=e.getState(),w=l.current(x);u.current(d.current,w)||(a.current=x,d.current=w,s())}catch{f.current=!0,s()}},_=e.subscribe(y);return e.getState()!==g.current&&y(),_},[]);const v=m?p:d.current;return ue.exports.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var UR={exports:{}},s_={exports:{}},o_={};var KC;function KV(){return KC||(KC=1,function(n){function e(D,q){var B=D.length;D.push(q);e:for(;0<B;){var G=B-1>>>1,N=D[G];if(0<i(N,q))D[G]=q,D[B]=N,B=G;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var q=D[0],B=D.pop();if(B!==q){D[0]=B;e:for(var G=0,N=D.length,U=N>>>1;G<U;){var k=2*(G+1)-1,W=D[k],V=k+1,J=D[V];if(0>i(W,B))V<N&&0>i(J,W)?(D[G]=J,D[V]=B,G=V):(D[G]=W,D[k]=B,G=k);else if(V<N&&0>i(J,B))D[G]=J,D[V]=B,G=V;else break e}}return q}function i(D,q){var B=D.sortIndex-q.sortIndex;return B!==0?B:D.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,d=null,p=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var q=t(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=D)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=t(u)}}function b(D){if(v=!1,w(D),!g)if(t(l)!==null)g=!0,X(A);else{var q=t(u);q!==null&&j(b,q.startTime-D)}}function A(D,q){g=!1,v&&(v=!1,_(M),M=-1),m=!0;var B=p;try{for(w(q),d=t(l);d!==null&&(!(d.expirationTime>q)||D&&!R());){var G=d.callback;if(typeof G=="function"){d.callback=null,p=d.priorityLevel;var N=G(d.expirationTime<=q);q=n.unstable_now(),typeof N=="function"?d.callback=N:d===t(l)&&r(l),w(q)}else r(l);d=t(l)}if(d!==null)var U=!0;else{var k=t(u);k!==null&&j(b,k.startTime-q),U=!1}return U}finally{d=null,p=B,m=!1}}var E=!1,C=null,M=-1,I=5,P=-1;function R(){return!(n.unstable_now()-P<I)}function O(){if(C!==null){var D=n.unstable_now();P=D;var q=!0;try{q=C(!0,D)}finally{q?F():(E=!1,C=null)}}else E=!1}var F;if(typeof x=="function")F=function(){x(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,$=H.port2;H.port1.onmessage=O,F=function(){$.postMessage(null)}}else F=function(){y(O,0)};function X(D){C=D,E||(E=!0,F())}function j(D,q){M=y(function(){D(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,X(A))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var B=p;p=q;try{return D()}finally{p=B}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=p;p=D;try{return q()}finally{p=B}},n.unstable_scheduleCallback=function(D,q,B){var G=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?G+B:G):B=G,D){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=B+N,D={id:f++,callback:q,priorityLevel:D,startTime:B,expirationTime:N,sortIndex:-1},B>G?(D.sortIndex=B,e(u,D),t(l)===null&&D===t(u)&&(v?(_(M),M=-1):v=!0,j(b,B-G))):(D.sortIndex=N,e(l,D),g||m||(g=!0,X(A))),D},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(D){var q=p;return function(){var B=p;p=q;try{return D.apply(this,arguments)}finally{p=B}}}}(o_)),o_}var e3;function e9(){return e3||(e3=1,function(n){n.exports=KV()}(s_)),s_.exports}var t9=function(e){var t={},r=ue.exports,i=e9(),s=Object.assign;function o(c){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+c,S=1;S<arguments.length;S++)h+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),A=Symbol.iterator;function E(c){return c===null||typeof c!="object"?null:(c=A&&c[A]||c["@@iterator"],typeof c=="function"?c:null)}function C(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case f:return"Fragment";case u:return"Portal";case p:return"Profiler";case d:return"StrictMode";case y:return"Suspense";case _:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case g:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case v:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case x:return h=c.displayName||null,h!==null?h:C(c.type)||"Memo";case w:h=c._payload,c=c._init;try{return C(c(h))}catch{}}return null}function M(c){var h=c.type;switch(c.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=h.render,c=c.displayName||c.name||"",h.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C(h);case 8:return h===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function I(c){var h=c,S=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,h.flags&4098&&(S=h.return),c=h.return;while(c)}return h.tag===3?S:null}function P(c){if(I(c)!==c)throw Error(o(188))}function R(c){var h=c.alternate;if(!h){if(h=I(c),h===null)throw Error(o(188));return h!==c?null:c}for(var S=c,T=h;;){var L=S.return;if(L===null)break;var z=L.alternate;if(z===null){if(T=L.return,T!==null){S=T;continue}break}if(L.child===z.child){for(z=L.child;z;){if(z===S)return P(L),c;if(z===T)return P(L),h;z=z.sibling}throw Error(o(188))}if(S.return!==T.return)S=L,T=z;else{for(var ne=!1,de=L.child;de;){if(de===S){ne=!0,S=L,T=z;break}if(de===T){ne=!0,T=L,S=z;break}de=de.sibling}if(!ne){for(de=z.child;de;){if(de===S){ne=!0,S=z,T=L;break}if(de===T){ne=!0,T=z,S=L;break}de=de.sibling}if(!ne)throw Error(o(189))}}if(S.alternate!==T)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?c:h}function O(c){return c=R(c),c!==null?F(c):null}function F(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var h=F(c);if(h!==null)return h;c=c.sibling}return null}function H(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var h=H(c);if(h!==null)return h}c=c.sibling}return null}var $=Array.isArray,X=e.getPublicInstance,j=e.getRootHostContext,D=e.getChildHostContext,q=e.prepareForCommit,B=e.resetAfterCommit,G=e.createInstance,N=e.appendInitialChild,U=e.finalizeInitialChildren,k=e.prepareUpdate,W=e.shouldSetTextContent,V=e.createTextInstance,J=e.scheduleTimeout,re=e.cancelTimeout,Se=e.noTimeout,pe=e.isPrimaryRenderer,we=e.supportsMutation,se=e.supportsPersistence,ce=e.supportsHydration,ge=e.getInstanceFromNode,ye=e.preparePortalMount,te=e.getCurrentEventPriority,Z=e.detachDeletedInstance,Me=e.supportsMicrotasks,Ne=e.scheduleMicrotask,Ge=e.supportsTestSelectors,nt=e.findFiberRoot,K=e.getBoundingRect,Y=e.getTextContent,he=e.isHiddenSubtree,Le=e.matchAccessibilityRole,ze=e.setFocusIfFocusable,We=e.setupIntersectionObserver,Ke=e.appendChild,$e=e.appendChildToContainer,Oe=e.commitTextUpdate,et=e.commitMount,ae=e.commitUpdate,Ee=e.insertBefore,Fe=e.insertInContainerBefore,Ue=e.removeChild,lt=e.removeChildFromContainer,wt=e.resetTextContent,Zt=e.hideInstance,fe=e.hideTextInstance,Ce=e.unhideInstance,ie=e.unhideTextInstance,le=e.clearContainer,He=e.cloneInstance,tt=e.createContainerChildSet,ht=e.appendChildToContainerChildSet,st=e.finalizeContainerChildren,Dn=e.replaceContainerChildren,Rt=e.cloneHiddenInstance,en=e.cloneHiddenTextInstance,fn=e.canHydrateInstance,va=e.canHydrateTextInstance,ns=e.canHydrateSuspenseInstance,ar=e.isSuspenseInstancePending,lo=e.isSuspenseInstanceFallback,ee=e.registerSuspenseInstanceRetry,_e=e.getNextHydratableSibling,Ie=e.getFirstHydratableChild,ve=e.getFirstHydratableChildWithinContainer,Re=e.getFirstHydratableChildWithinSuspenseInstance,ot=e.hydrateInstance,ct=e.hydrateTextInstance,dt=e.hydrateSuspenseInstance,vt=e.getNextHydratableInstanceAfterSuspenseInstance,Et=e.commitHydratedContainer,Ct=e.commitHydratedSuspenseInstance,St=e.clearSuspenseBoundary,sn=e.clearSuspenseBoundaryFromContainer,er=e.shouldDeleteUnhydratedTailInstances,Sr=e.didNotMatchHydratedContainerTextInstance,lr=e.didNotMatchHydratedTextInstance,Wt;function _t(c){if(Wt===void 0)try{throw Error()}catch(S){var h=S.stack.trim().match(/\n( *(at )?)/);Wt=h&&h[1]||""}return`
`+Wt+c}var rs=!1;function vn(c,h){if(!c||rs)return"";rs=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Ve){var T=Ve}Reflect.construct(c,[],h)}else{try{h.call()}catch(Ve){T=Ve}c.call(h.prototype)}else{try{throw Error()}catch(Ve){T=Ve}c()}}catch(Ve){if(Ve&&T&&typeof Ve.stack=="string"){for(var L=Ve.stack.split(`
`),z=T.stack.split(`
`),ne=L.length-1,de=z.length-1;1<=ne&&0<=de&&L[ne]!==z[de];)de--;for(;1<=ne&&0<=de;ne--,de--)if(L[ne]!==z[de]){if(ne!==1||de!==1)do if(ne--,de--,0>de||L[ne]!==z[de]){var Pe=`
`+L[ne].replace(" at new "," at ");return c.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",c.displayName)),Pe}while(1<=ne&&0<=de);break}}}finally{rs=!1,Error.prepareStackTrace=S}return(c=c?c.displayName||c.name:"")?_t(c):""}var Cs=Object.prototype.hasOwnProperty,Rl=[],ai=-1;function li(c){return{current:c}}function xt(c){0>ai||(c.current=Rl[ai],Rl[ai]=null,ai--)}function Ot(c,h){ai++,Rl[ai]=c.current,c.current=h}var ui={},Vt=li(ui),Wn=li(!1),As=ui;function Ts(c,h){var S=c.type.contextTypes;if(!S)return ui;var T=c.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===h)return T.__reactInternalMemoizedMaskedChildContext;var L={},z;for(z in S)L[z]=h[z];return T&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=h,c.__reactInternalMemoizedMaskedChildContext=L),L}function Or(c){return c=c.childContextTypes,c!=null}function Kh(){xt(Wn),xt(Vt)}function xb(c,h,S){if(Vt.current!==ui)throw Error(o(168));Ot(Vt,h),Ot(Wn,S)}function wb(c,h,S){var T=c.stateNode;if(h=h.childContextTypes,typeof T.getChildContext!="function")return S;T=T.getChildContext();for(var L in T)if(!(L in h))throw Error(o(108,M(c)||"Unknown",L));return s({},S,T)}function ed(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||ui,As=Vt.current,Ot(Vt,c),Ot(Wn,Wn.current),!0}function Sb(c,h,S){var T=c.stateNode;if(!T)throw Error(o(169));S?(c=wb(c,h,As),T.__reactInternalMemoizedMergedChildContext=c,xt(Wn),xt(Vt),Ot(Vt,c)):xt(Wn),Ot(Wn,S)}var Ri=Math.clz32?Math.clz32:uO,aO=Math.log,lO=Math.LN2;function uO(c){return c>>>=0,c===0?32:31-(aO(c)/lO|0)|0}var td=64,nd=4194304;function Sc(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function rd(c,h){var S=c.pendingLanes;if(S===0)return 0;var T=0,L=c.suspendedLanes,z=c.pingedLanes,ne=S&268435455;if(ne!==0){var de=ne&~L;de!==0?T=Sc(de):(z&=ne,z!==0&&(T=Sc(z)))}else ne=S&~L,ne!==0?T=Sc(ne):z!==0&&(T=Sc(z));if(T===0)return 0;if(h!==0&&h!==T&&!(h&L)&&(L=T&-T,z=h&-h,L>=z||L===16&&(z&4194240)!==0))return h;if(T&4&&(T|=S&16),h=c.entangledLanes,h!==0)for(c=c.entanglements,h&=T;0<h;)S=31-Ri(h),L=1<<S,T|=c[S],h&=~L;return T}function cO(c,h){switch(c){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fO(c,h){for(var S=c.suspendedLanes,T=c.pingedLanes,L=c.expirationTimes,z=c.pendingLanes;0<z;){var ne=31-Ri(z),de=1<<ne,Pe=L[ne];Pe===-1?(!(de&S)||de&T)&&(L[ne]=cO(de,h)):Pe<=h&&(c.expiredLanes|=de),z&=~de}}function V0(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function W0(c){for(var h=[],S=0;31>S;S++)h.push(c);return h}function bc(c,h,S){c.pendingLanes|=h,h!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,h=31-Ri(h),c[h]=S}function hO(c,h){var S=c.pendingLanes&~h;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=h,c.mutableReadLanes&=h,c.entangledLanes&=h,h=c.entanglements;var T=c.eventTimes;for(c=c.expirationTimes;0<S;){var L=31-Ri(S),z=1<<L;h[L]=0,T[L]=-1,c[L]=-1,S&=~z}}function G0(c,h){var S=c.entangledLanes|=h;for(c=c.entanglements;S;){var T=31-Ri(S),L=1<<T;L&h|c[T]&h&&(c[T]|=h),S&=~L}}var Ft=0;function bb(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var j0=i.unstable_scheduleCallback,Mb=i.unstable_cancelCallback,dO=i.unstable_shouldYield,pO=i.unstable_requestPaint,Gn=i.unstable_now,$0=i.unstable_ImmediatePriority,mO=i.unstable_UserBlockingPriority,q0=i.unstable_NormalPriority,gO=i.unstable_IdlePriority,id=null,is=null;function yO(c){if(is&&typeof is.onCommitFiberRoot=="function")try{is.onCommitFiberRoot(id,c,void 0,(c.current.flags&128)===128)}catch{}}function vO(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var ss=typeof Object.is=="function"?Object.is:vO,Ps=null,sd=!1,X0=!1;function Eb(c){Ps===null?Ps=[c]:Ps.push(c)}function _O(c){sd=!0,Eb(c)}function os(){if(!X0&&Ps!==null){X0=!0;var c=0,h=Ft;try{var S=Ps;for(Ft=1;c<S.length;c++){var T=S[c];do T=T(!0);while(T!==null)}Ps=null,sd=!1}catch(L){throw Ps!==null&&(Ps=Ps.slice(c+1)),j0($0,os),L}finally{Ft=h,X0=!1}}return null}var xO=a.ReactCurrentBatchConfig;function od(c,h){if(ss(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var S=Object.keys(c),T=Object.keys(h);if(S.length!==T.length)return!1;for(T=0;T<S.length;T++){var L=S[T];if(!Cs.call(h,L)||!ss(c[L],h[L]))return!1}return!0}function wO(c){switch(c.tag){case 5:return _t(c.type);case 16:return _t("Lazy");case 13:return _t("Suspense");case 19:return _t("SuspenseList");case 0:case 2:case 15:return c=vn(c.type,!1),c;case 11:return c=vn(c.type.render,!1),c;case 1:return c=vn(c.type,!0),c;default:return""}}function Li(c,h){if(c&&c.defaultProps){h=s({},h),c=c.defaultProps;for(var S in c)h[S]===void 0&&(h[S]=c[S]);return h}return h}var ad=li(null),ld=null,Ll=null,Y0=null;function J0(){Y0=Ll=ld=null}function Cb(c,h,S){pe?(Ot(ad,h._currentValue),h._currentValue=S):(Ot(ad,h._currentValue2),h._currentValue2=S)}function Z0(c){var h=ad.current;xt(ad),pe?c._currentValue=h:c._currentValue2=h}function Q0(c,h,S){for(;c!==null;){var T=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,T!==null&&(T.childLanes|=h)):T!==null&&(T.childLanes&h)!==h&&(T.childLanes|=h),c===S)break;c=c.return}}function Ol(c,h){ld=c,Y0=Ll=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&h&&($r=!0),c.firstContext=null)}function ci(c){var h=pe?c._currentValue:c._currentValue2;if(Y0!==c)if(c={context:c,memoizedValue:h,next:null},Ll===null){if(ld===null)throw Error(o(308));Ll=c,ld.dependencies={lanes:0,firstContext:c}}else Ll=Ll.next=c;return h}var as=null,uo=!1;function K0(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ab(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Is(c,h){return{eventTime:c,lane:h,tag:0,payload:null,callback:null,next:null}}function co(c,h){var S=c.updateQueue;S!==null&&(S=S.shared,Pn!==null&&c.mode&1&&!(At&2)?(c=S.interleaved,c===null?(h.next=h,as===null?as=[S]:as.push(S)):(h.next=c.next,c.next=h),S.interleaved=h):(c=S.pending,c===null?h.next=h:(h.next=c.next,c.next=h),S.pending=h))}function ud(c,h,S){if(h=h.updateQueue,h!==null&&(h=h.shared,(S&4194240)!==0)){var T=h.lanes;T&=c.pendingLanes,S|=T,h.lanes=S,G0(c,S)}}function Tb(c,h){var S=c.updateQueue,T=c.alternate;if(T!==null&&(T=T.updateQueue,S===T)){var L=null,z=null;if(S=S.firstBaseUpdate,S!==null){do{var ne={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};z===null?L=z=ne:z=z.next=ne,S=S.next}while(S!==null);z===null?L=z=h:z=z.next=h}else L=z=h;S={baseState:T.baseState,firstBaseUpdate:L,lastBaseUpdate:z,shared:T.shared,effects:T.effects},c.updateQueue=S;return}c=S.lastBaseUpdate,c===null?S.firstBaseUpdate=h:c.next=h,S.lastBaseUpdate=h}function cd(c,h,S,T){var L=c.updateQueue;uo=!1;var z=L.firstBaseUpdate,ne=L.lastBaseUpdate,de=L.shared.pending;if(de!==null){L.shared.pending=null;var Pe=de,Ve=Pe.next;Pe.next=null,ne===null?z=Ve:ne.next=Ve,ne=Pe;var Ze=c.alternate;Ze!==null&&(Ze=Ze.updateQueue,de=Ze.lastBaseUpdate,de!==ne&&(de===null?Ze.firstBaseUpdate=Ve:de.next=Ve,Ze.lastBaseUpdate=Pe))}if(z!==null){var pt=L.baseState;ne=0,Ze=Ve=Pe=null,de=z;do{var ut=de.lane,Qt=de.eventTime;if((T&ut)===ut){Ze!==null&&(Ze=Ze.next={eventTime:Qt,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var at=c,hr=de;switch(ut=h,Qt=S,hr.tag){case 1:if(at=hr.payload,typeof at=="function"){pt=at.call(Qt,pt,ut);break e}pt=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=hr.payload,ut=typeof at=="function"?at.call(Qt,pt,ut):at,ut==null)break e;pt=s({},pt,ut);break e;case 2:uo=!0}}de.callback!==null&&de.lane!==0&&(c.flags|=64,ut=L.effects,ut===null?L.effects=[de]:ut.push(de))}else Qt={eventTime:Qt,lane:ut,tag:de.tag,payload:de.payload,callback:de.callback,next:null},Ze===null?(Ve=Ze=Qt,Pe=pt):Ze=Ze.next=Qt,ne|=ut;if(de=de.next,de===null){if(de=L.shared.pending,de===null)break;ut=de,de=ut.next,ut.next=null,L.lastBaseUpdate=ut,L.shared.pending=null}}while(1);if(Ze===null&&(Pe=pt),L.baseState=Pe,L.firstBaseUpdate=Ve,L.lastBaseUpdate=Ze,h=L.shared.interleaved,h!==null){L=h;do ne|=L.lane,L=L.next;while(L!==h)}else z===null&&(L.shared.lanes=0);Vl|=ne,c.lanes=ne,c.memoizedState=pt}}function Pb(c,h,S){if(c=h.effects,h.effects=null,c!==null)for(h=0;h<c.length;h++){var T=c[h],L=T.callback;if(L!==null){if(T.callback=null,T=S,typeof L!="function")throw Error(o(191,L));L.call(T)}}}var Ib=new r.Component().refs;function ey(c,h,S,T){h=c.memoizedState,S=S(T,h),S=S==null?h:s({},h,S),c.memoizedState=S,c.lanes===0&&(c.updateQueue.baseState=S)}var fd={isMounted:function(c){return(c=c._reactInternals)?I(c)===c:!1},enqueueSetState:function(c,h,S){c=c._reactInternals;var T=Mr(),L=po(c),z=Is(T,L);z.payload=h,S!=null&&(z.callback=S),co(c,z),h=mi(c,L,T),h!==null&&ud(h,c,L)},enqueueReplaceState:function(c,h,S){c=c._reactInternals;var T=Mr(),L=po(c),z=Is(T,L);z.tag=1,z.payload=h,S!=null&&(z.callback=S),co(c,z),h=mi(c,L,T),h!==null&&ud(h,c,L)},enqueueForceUpdate:function(c,h){c=c._reactInternals;var S=Mr(),T=po(c),L=Is(S,T);L.tag=2,h!=null&&(L.callback=h),co(c,L),h=mi(c,T,S),h!==null&&ud(h,c,T)}};function Rb(c,h,S,T,L,z,ne){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(T,z,ne):h.prototype&&h.prototype.isPureReactComponent?!od(S,T)||!od(L,z):!0}function Lb(c,h,S){var T=!1,L=ui,z=h.contextType;return typeof z=="object"&&z!==null?z=ci(z):(L=Or(h)?As:Vt.current,T=h.contextTypes,z=(T=T!=null)?Ts(c,L):ui),h=new h(S,z),c.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=fd,c.stateNode=h,h._reactInternals=c,T&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=L,c.__reactInternalMemoizedMaskedChildContext=z),h}function Ob(c,h,S,T){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(S,T),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(S,T),h.state!==c&&fd.enqueueReplaceState(h,h.state,null)}function ty(c,h,S,T){var L=c.stateNode;L.props=S,L.state=c.memoizedState,L.refs=Ib,K0(c);var z=h.contextType;typeof z=="object"&&z!==null?L.context=ci(z):(z=Or(h)?As:Vt.current,L.context=Ts(c,z)),L.state=c.memoizedState,z=h.getDerivedStateFromProps,typeof z=="function"&&(ey(c,h,z,S),L.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(h=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),h!==L.state&&fd.enqueueReplaceState(L,L.state,null),cd(c,S,L,T),L.state=c.memoizedState),typeof L.componentDidMount=="function"&&(c.flags|=4194308)}var kl=[],Dl=0,hd=null,dd=0,fi=[],hi=0,_a=null,Rs=1,Ls="";function xa(c,h){kl[Dl++]=dd,kl[Dl++]=hd,hd=c,dd=h}function kb(c,h,S){fi[hi++]=Rs,fi[hi++]=Ls,fi[hi++]=_a,_a=c;var T=Rs;c=Ls;var L=32-Ri(T)-1;T&=~(1<<L),S+=1;var z=32-Ri(h)+L;if(30<z){var ne=L-L%5;z=(T&(1<<ne)-1).toString(32),T>>=ne,L-=ne,Rs=1<<32-Ri(h)+L|S<<L|T,Ls=z+c}else Rs=1<<z|S<<L|T,Ls=c}function ny(c){c.return!==null&&(xa(c,1),kb(c,1,0))}function ry(c){for(;c===hd;)hd=kl[--Dl],kl[Dl]=null,dd=kl[--Dl],kl[Dl]=null;for(;c===_a;)_a=fi[--hi],fi[hi]=null,Ls=fi[--hi],fi[hi]=null,Rs=fi[--hi],fi[hi]=null}var Gr=null,jr=null,un=!1,Mc=!1,Oi=null;function Db(c,h){var S=gi(5,null,null,0);S.elementType="DELETED",S.stateNode=h,S.return=c,h=c.deletions,h===null?(c.deletions=[S],c.flags|=16):h.push(S)}function Nb(c,h){switch(c.tag){case 5:return h=fn(h,c.type,c.pendingProps),h!==null?(c.stateNode=h,Gr=c,jr=Ie(h),!0):!1;case 6:return h=va(h,c.pendingProps),h!==null?(c.stateNode=h,Gr=c,jr=null,!0):!1;case 13:if(h=ns(h),h!==null){var S=_a!==null?{id:Rs,overflow:Ls}:null;return c.memoizedState={dehydrated:h,treeContext:S,retryLane:1073741824},S=gi(18,null,null,0),S.stateNode=h,S.return=c,c.child=S,Gr=c,jr=null,!0}return!1;default:return!1}}function iy(c){return(c.mode&1)!==0&&(c.flags&128)===0}function sy(c){if(un){var h=jr;if(h){var S=h;if(!Nb(c,h)){if(iy(c))throw Error(o(418));h=_e(S);var T=Gr;h&&Nb(c,h)?Db(T,S):(c.flags=c.flags&-4097|2,un=!1,Gr=c)}}else{if(iy(c))throw Error(o(418));c.flags=c.flags&-4097|2,un=!1,Gr=c}}}function Fb(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Gr=c}function Ec(c){if(!ce||c!==Gr)return!1;if(!un)return Fb(c),un=!0,!1;if(c.tag!==3&&(c.tag!==5||er(c.type)&&!W(c.type,c.memoizedProps))){var h=jr;if(h){if(iy(c)){for(c=jr;c;)c=_e(c);throw Error(o(418))}for(;h;)Db(c,h),h=_e(h)}}if(Fb(c),c.tag===13){if(!ce)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));jr=vt(c)}else jr=Gr?_e(c.stateNode):null;return!0}function Nl(){ce&&(jr=Gr=null,Mc=un=!1)}function oy(c){Oi===null?Oi=[c]:Oi.push(c)}function Cc(c,h,S){if(c=S.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var T=S.stateNode}if(!T)throw Error(o(147,c));var L=T,z=""+c;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===z?h.ref:(h=function(ne){var de=L.refs;de===Ib&&(de=L.refs={}),ne===null?delete de[z]:de[z]=ne},h._stringRef=z,h)}if(typeof c!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,c))}return c}function pd(c,h){throw c=Object.prototype.toString.call(h),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c))}function zb(c){var h=c._init;return h(c._payload)}function Bb(c){function h(xe,me){if(c){var Ae=xe.deletions;Ae===null?(xe.deletions=[me],xe.flags|=16):Ae.push(me)}}function S(xe,me){if(!c)return null;for(;me!==null;)h(xe,me),me=me.sibling;return null}function T(xe,me){for(xe=new Map;me!==null;)me.key!==null?xe.set(me.key,me):xe.set(me.index,me),me=me.sibling;return xe}function L(xe,me){return xe=go(xe,me),xe.index=0,xe.sibling=null,xe}function z(xe,me,Ae){return xe.index=Ae,c?(Ae=xe.alternate,Ae!==null?(Ae=Ae.index,Ae<me?(xe.flags|=2,me):Ae):(xe.flags|=2,me)):(xe.flags|=1048576,me)}function ne(xe){return c&&xe.alternate===null&&(xe.flags|=2),xe}function de(xe,me,Ae,Xe){return me===null||me.tag!==6?(me=Wy(Ae,xe.mode,Xe),me.return=xe,me):(me=L(me,Ae),me.return=xe,me)}function Pe(xe,me,Ae,Xe){var rt=Ae.type;return rt===f?Ze(xe,me,Ae.props.children,Xe,Ae.key):me!==null&&(me.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===w&&zb(rt)===me.type)?(Xe=L(me,Ae.props),Xe.ref=Cc(xe,me,Ae),Xe.return=xe,Xe):(Xe=jd(Ae.type,Ae.key,Ae.props,null,xe.mode,Xe),Xe.ref=Cc(xe,me,Ae),Xe.return=xe,Xe)}function Ve(xe,me,Ae,Xe){return me===null||me.tag!==4||me.stateNode.containerInfo!==Ae.containerInfo||me.stateNode.implementation!==Ae.implementation?(me=Gy(Ae,xe.mode,Xe),me.return=xe,me):(me=L(me,Ae.children||[]),me.return=xe,me)}function Ze(xe,me,Ae,Xe,rt){return me===null||me.tag!==7?(me=Aa(Ae,xe.mode,Xe,rt),me.return=xe,me):(me=L(me,Ae),me.return=xe,me)}function pt(xe,me,Ae){if(typeof me=="string"&&me!==""||typeof me=="number")return me=Wy(""+me,xe.mode,Ae),me.return=xe,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case l:return Ae=jd(me.type,me.key,me.props,null,xe.mode,Ae),Ae.ref=Cc(xe,null,me),Ae.return=xe,Ae;case u:return me=Gy(me,xe.mode,Ae),me.return=xe,me;case w:var Xe=me._init;return pt(xe,Xe(me._payload),Ae)}if($(me)||E(me))return me=Aa(me,xe.mode,Ae,null),me.return=xe,me;pd(xe,me)}return null}function ut(xe,me,Ae,Xe){var rt=me!==null?me.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return rt!==null?null:de(xe,me,""+Ae,Xe);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case l:return Ae.key===rt?Pe(xe,me,Ae,Xe):null;case u:return Ae.key===rt?Ve(xe,me,Ae,Xe):null;case w:return rt=Ae._init,ut(xe,me,rt(Ae._payload),Xe)}if($(Ae)||E(Ae))return rt!==null?null:Ze(xe,me,Ae,Xe,null);pd(xe,Ae)}return null}function Qt(xe,me,Ae,Xe,rt){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return xe=xe.get(Ae)||null,de(me,xe,""+Xe,rt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case l:return xe=xe.get(Xe.key===null?Ae:Xe.key)||null,Pe(me,xe,Xe,rt);case u:return xe=xe.get(Xe.key===null?Ae:Xe.key)||null,Ve(me,xe,Xe,rt);case w:var bt=Xe._init;return Qt(xe,me,Ae,bt(Xe._payload),rt)}if($(Xe)||E(Xe))return xe=xe.get(Ae)||null,Ze(me,xe,Xe,rt,null);pd(me,Xe)}return null}function at(xe,me,Ae,Xe){for(var rt=null,bt=null,mt=me,zt=me=0,$n=null;mt!==null&&zt<Ae.length;zt++){mt.index>zt?($n=mt,mt=null):$n=mt.sibling;var Bt=ut(xe,mt,Ae[zt],Xe);if(Bt===null){mt===null&&(mt=$n);break}c&&mt&&Bt.alternate===null&&h(xe,mt),me=z(Bt,me,zt),bt===null?rt=Bt:bt.sibling=Bt,bt=Bt,mt=$n}if(zt===Ae.length)return S(xe,mt),un&&xa(xe,zt),rt;if(mt===null){for(;zt<Ae.length;zt++)mt=pt(xe,Ae[zt],Xe),mt!==null&&(me=z(mt,me,zt),bt===null?rt=mt:bt.sibling=mt,bt=mt);return un&&xa(xe,zt),rt}for(mt=T(xe,mt);zt<Ae.length;zt++)$n=Qt(mt,xe,zt,Ae[zt],Xe),$n!==null&&(c&&$n.alternate!==null&&mt.delete($n.key===null?zt:$n.key),me=z($n,me,zt),bt===null?rt=$n:bt.sibling=$n,bt=$n);return c&&mt.forEach(function(yo){return h(xe,yo)}),un&&xa(xe,zt),rt}function hr(xe,me,Ae,Xe){var rt=E(Ae);if(typeof rt!="function")throw Error(o(150));if(Ae=rt.call(Ae),Ae==null)throw Error(o(151));for(var bt=rt=null,mt=me,zt=me=0,$n=null,Bt=Ae.next();mt!==null&&!Bt.done;zt++,Bt=Ae.next()){mt.index>zt?($n=mt,mt=null):$n=mt.sibling;var yo=ut(xe,mt,Bt.value,Xe);if(yo===null){mt===null&&(mt=$n);break}c&&mt&&yo.alternate===null&&h(xe,mt),me=z(yo,me,zt),bt===null?rt=yo:bt.sibling=yo,bt=yo,mt=$n}if(Bt.done)return S(xe,mt),un&&xa(xe,zt),rt;if(mt===null){for(;!Bt.done;zt++,Bt=Ae.next())Bt=pt(xe,Bt.value,Xe),Bt!==null&&(me=z(Bt,me,zt),bt===null?rt=Bt:bt.sibling=Bt,bt=Bt);return un&&xa(xe,zt),rt}for(mt=T(xe,mt);!Bt.done;zt++,Bt=Ae.next())Bt=Qt(mt,xe,zt,Bt.value,Xe),Bt!==null&&(c&&Bt.alternate!==null&&mt.delete(Bt.key===null?zt:Bt.key),me=z(Bt,me,zt),bt===null?rt=Bt:bt.sibling=Bt,bt=Bt);return c&&mt.forEach(function(ZO){return h(xe,ZO)}),un&&xa(xe,zt),rt}function yi(xe,me,Ae,Xe){if(typeof Ae=="object"&&Ae!==null&&Ae.type===f&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case l:e:{for(var rt=Ae.key,bt=me;bt!==null;){if(bt.key===rt){if(rt=Ae.type,rt===f){if(bt.tag===7){S(xe,bt.sibling),me=L(bt,Ae.props.children),me.return=xe,xe=me;break e}}else if(bt.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===w&&zb(rt)===bt.type){S(xe,bt.sibling),me=L(bt,Ae.props),me.ref=Cc(xe,bt,Ae),me.return=xe,xe=me;break e}S(xe,bt);break}else h(xe,bt);bt=bt.sibling}Ae.type===f?(me=Aa(Ae.props.children,xe.mode,Xe,Ae.key),me.return=xe,xe=me):(Xe=jd(Ae.type,Ae.key,Ae.props,null,xe.mode,Xe),Xe.ref=Cc(xe,me,Ae),Xe.return=xe,xe=Xe)}return ne(xe);case u:e:{for(bt=Ae.key;me!==null;){if(me.key===bt)if(me.tag===4&&me.stateNode.containerInfo===Ae.containerInfo&&me.stateNode.implementation===Ae.implementation){S(xe,me.sibling),me=L(me,Ae.children||[]),me.return=xe,xe=me;break e}else{S(xe,me);break}else h(xe,me);me=me.sibling}me=Gy(Ae,xe.mode,Xe),me.return=xe,xe=me}return ne(xe);case w:return bt=Ae._init,yi(xe,me,bt(Ae._payload),Xe)}if($(Ae))return at(xe,me,Ae,Xe);if(E(Ae))return hr(xe,me,Ae,Xe);pd(xe,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"?(Ae=""+Ae,me!==null&&me.tag===6?(S(xe,me.sibling),me=L(me,Ae),me.return=xe,xe=me):(S(xe,me),me=Wy(Ae,xe.mode,Xe),me.return=xe,xe=me),ne(xe)):S(xe,me)}return yi}var Fl=Bb(!0),Ub=Bb(!1),Ac={},di=li(Ac),Tc=li(Ac),zl=li(Ac);function ls(c){if(c===Ac)throw Error(o(174));return c}function ay(c,h){Ot(zl,h),Ot(Tc,c),Ot(di,Ac),c=j(h),xt(di),Ot(di,c)}function Bl(){xt(di),xt(Tc),xt(zl)}function Hb(c){var h=ls(zl.current),S=ls(di.current);h=D(S,c.type,h),S!==h&&(Ot(Tc,c),Ot(di,h))}function ly(c){Tc.current===c&&(xt(di),xt(Tc))}var hn=li(0);function md(c){for(var h=c;h!==null;){if(h.tag===13){var S=h.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||ar(S)||lo(S)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var uy=[];function cy(){for(var c=0;c<uy.length;c++){var h=uy[c];pe?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}uy.length=0}var gd=a.ReactCurrentDispatcher,pi=a.ReactCurrentBatchConfig,Ul=0,_n=null,ur=null,jn=null,yd=!1,Pc=!1,Ic=0,SO=0;function cr(){throw Error(o(321))}function fy(c,h){if(h===null)return!1;for(var S=0;S<h.length&&S<c.length;S++)if(!ss(c[S],h[S]))return!1;return!0}function hy(c,h,S,T,L,z){if(Ul=z,_n=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,gd.current=c===null||c.memoizedState===null?CO:AO,c=S(T,L),Pc){z=0;do{if(Pc=!1,Ic=0,25<=z)throw Error(o(301));z+=1,jn=ur=null,h.updateQueue=null,gd.current=TO,c=S(T,L)}while(Pc)}if(gd.current=Sd,h=ur!==null&&ur.next!==null,Ul=0,jn=ur=_n=null,yd=!1,h)throw Error(o(300));return c}function dy(){var c=Ic!==0;return Ic=0,c}function Os(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?_n.memoizedState=jn=c:jn=jn.next=c,jn}function us(){if(ur===null){var c=_n.alternate;c=c!==null?c.memoizedState:null}else c=ur.next;var h=jn===null?_n.memoizedState:jn.next;if(h!==null)jn=h,ur=c;else{if(c===null)throw Error(o(310));ur=c,c={memoizedState:ur.memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},jn===null?_n.memoizedState=jn=c:jn=jn.next=c}return jn}function wa(c,h){return typeof h=="function"?h(c):h}function vd(c){var h=us(),S=h.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=c;var T=ur,L=T.baseQueue,z=S.pending;if(z!==null){if(L!==null){var ne=L.next;L.next=z.next,z.next=ne}T.baseQueue=L=z,S.pending=null}if(L!==null){z=L.next,T=T.baseState;var de=ne=null,Pe=null,Ve=z;do{var Ze=Ve.lane;if((Ul&Ze)===Ze)Pe!==null&&(Pe=Pe.next={lane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),T=Ve.hasEagerState?Ve.eagerState:c(T,Ve.action);else{var pt={lane:Ze,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null};Pe===null?(de=Pe=pt,ne=T):Pe=Pe.next=pt,_n.lanes|=Ze,Vl|=Ze}Ve=Ve.next}while(Ve!==null&&Ve!==z);Pe===null?ne=T:Pe.next=de,ss(T,h.memoizedState)||($r=!0),h.memoizedState=T,h.baseState=ne,h.baseQueue=Pe,S.lastRenderedState=T}if(c=S.interleaved,c!==null){L=c;do z=L.lane,_n.lanes|=z,Vl|=z,L=L.next;while(L!==c)}else L===null&&(S.lanes=0);return[h.memoizedState,S.dispatch]}function _d(c){var h=us(),S=h.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=c;var T=S.dispatch,L=S.pending,z=h.memoizedState;if(L!==null){S.pending=null;var ne=L=L.next;do z=c(z,ne.action),ne=ne.next;while(ne!==L);ss(z,h.memoizedState)||($r=!0),h.memoizedState=z,h.baseQueue===null&&(h.baseState=z),S.lastRenderedState=z}return[z,T]}function Vb(){}function Wb(c,h){var S=_n,T=us(),L=h(),z=!ss(T.memoizedState,L);if(z&&(T.memoizedState=L,$r=!0),T=T.queue,Lc($b.bind(null,S,T,c),[c]),T.getSnapshot!==h||z||jn!==null&&jn.memoizedState.tag&1){if(S.flags|=2048,Rc(9,jb.bind(null,S,T,L,h),void 0,null),Pn===null)throw Error(o(349));Ul&30||Gb(S,h,L)}return L}function Gb(c,h,S){c.flags|=16384,c={getSnapshot:h,value:S},h=_n.updateQueue,h===null?(h={lastEffect:null,stores:null},_n.updateQueue=h,h.stores=[c]):(S=h.stores,S===null?h.stores=[c]:S.push(c))}function jb(c,h,S,T){h.value=S,h.getSnapshot=T,qb(h)&&mi(c,1,-1)}function $b(c,h,S){return S(function(){qb(h)&&mi(c,1,-1)})}function qb(c){var h=c.getSnapshot;c=c.value;try{var S=h();return!ss(c,S)}catch{return!0}}function py(c){var h=Os();return typeof c=="function"&&(c=c()),h.memoizedState=h.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:c},h.queue=c,c=c.dispatch=EO.bind(null,_n,c),[h.memoizedState,c]}function Rc(c,h,S,T){return c={tag:c,create:h,destroy:S,deps:T,next:null},h=_n.updateQueue,h===null?(h={lastEffect:null,stores:null},_n.updateQueue=h,h.lastEffect=c.next=c):(S=h.lastEffect,S===null?h.lastEffect=c.next=c:(T=S.next,S.next=c,c.next=T,h.lastEffect=c)),c}function Xb(){return us().memoizedState}function xd(c,h,S,T){var L=Os();_n.flags|=c,L.memoizedState=Rc(1|h,S,void 0,T===void 0?null:T)}function wd(c,h,S,T){var L=us();T=T===void 0?null:T;var z=void 0;if(ur!==null){var ne=ur.memoizedState;if(z=ne.destroy,T!==null&&fy(T,ne.deps)){L.memoizedState=Rc(h,S,z,T);return}}_n.flags|=c,L.memoizedState=Rc(1|h,S,z,T)}function my(c,h){return xd(8390656,8,c,h)}function Lc(c,h){return wd(2048,8,c,h)}function Yb(c,h){return wd(4,2,c,h)}function Jb(c,h){return wd(4,4,c,h)}function Zb(c,h){if(typeof h=="function")return c=c(),h(c),function(){h(null)};if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function Qb(c,h,S){return S=S!=null?S.concat([c]):null,wd(4,4,Zb.bind(null,h,c),S)}function gy(){}function Kb(c,h){var S=us();h=h===void 0?null:h;var T=S.memoizedState;return T!==null&&h!==null&&fy(h,T[1])?T[0]:(S.memoizedState=[c,h],c)}function eM(c,h){var S=us();h=h===void 0?null:h;var T=S.memoizedState;return T!==null&&h!==null&&fy(h,T[1])?T[0]:(c=c(),S.memoizedState=[c,h],c)}function bO(c,h){var S=Ft;Ft=S!==0&&4>S?S:4,c(!0);var T=pi.transition;pi.transition={};try{c(!1),h()}finally{Ft=S,pi.transition=T}}function tM(){return us().memoizedState}function MO(c,h,S){var T=po(c);S={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null},nM(c)?rM(h,S):(iM(c,h,S),S=Mr(),c=mi(c,T,S),c!==null&&sM(c,h,T))}function EO(c,h,S){var T=po(c),L={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null};if(nM(c))rM(h,L);else{iM(c,h,L);var z=c.alternate;if(c.lanes===0&&(z===null||z.lanes===0)&&(z=h.lastRenderedReducer,z!==null))try{var ne=h.lastRenderedState,de=z(ne,S);if(L.hasEagerState=!0,L.eagerState=de,ss(de,ne))return}catch{}finally{}S=Mr(),c=mi(c,T,S),c!==null&&sM(c,h,T)}}function nM(c){var h=c.alternate;return c===_n||h!==null&&h===_n}function rM(c,h){Pc=yd=!0;var S=c.pending;S===null?h.next=h:(h.next=S.next,S.next=h),c.pending=h}function iM(c,h,S){Pn!==null&&c.mode&1&&!(At&2)?(c=h.interleaved,c===null?(S.next=S,as===null?as=[h]:as.push(h)):(S.next=c.next,c.next=S),h.interleaved=S):(c=h.pending,c===null?S.next=S:(S.next=c.next,c.next=S),h.pending=S)}function sM(c,h,S){if(S&4194240){var T=h.lanes;T&=c.pendingLanes,S|=T,h.lanes=S,G0(c,S)}}var Sd={readContext:ci,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},CO={readContext:ci,useCallback:function(c,h){return Os().memoizedState=[c,h===void 0?null:h],c},useContext:ci,useEffect:my,useImperativeHandle:function(c,h,S){return S=S!=null?S.concat([c]):null,xd(4194308,4,Zb.bind(null,h,c),S)},useLayoutEffect:function(c,h){return xd(4194308,4,c,h)},useInsertionEffect:function(c,h){return xd(4,2,c,h)},useMemo:function(c,h){var S=Os();return h=h===void 0?null:h,c=c(),S.memoizedState=[c,h],c},useReducer:function(c,h,S){var T=Os();return h=S!==void 0?S(h):h,T.memoizedState=T.baseState=h,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:h},T.queue=c,c=c.dispatch=MO.bind(null,_n,c),[T.memoizedState,c]},useRef:function(c){var h=Os();return c={current:c},h.memoizedState=c},useState:py,useDebugValue:gy,useDeferredValue:function(c){var h=py(c),S=h[0],T=h[1];return my(function(){var L=pi.transition;pi.transition={};try{T(c)}finally{pi.transition=L}},[c]),S},useTransition:function(){var c=py(!1),h=c[0];return c=bO.bind(null,c[1]),Os().memoizedState=c,[h,c]},useMutableSource:function(){},useSyncExternalStore:function(c,h,S){var T=_n,L=Os();if(un){if(S===void 0)throw Error(o(407));S=S()}else{if(S=h(),Pn===null)throw Error(o(349));Ul&30||Gb(T,h,S)}L.memoizedState=S;var z={value:S,getSnapshot:h};return L.queue=z,my($b.bind(null,T,z,c),[c]),T.flags|=2048,Rc(9,jb.bind(null,T,z,S,h),void 0,null),S},useId:function(){var c=Os(),h=Pn.identifierPrefix;if(un){var S=Ls,T=Rs;S=(T&~(1<<32-Ri(T)-1)).toString(32)+S,h=":"+h+"R"+S,S=Ic++,0<S&&(h+="H"+S.toString(32)),h+=":"}else S=SO++,h=":"+h+"r"+S.toString(32)+":";return c.memoizedState=h},unstable_isNewReconciler:!1},AO={readContext:ci,useCallback:Kb,useContext:ci,useEffect:Lc,useImperativeHandle:Qb,useInsertionEffect:Yb,useLayoutEffect:Jb,useMemo:eM,useReducer:vd,useRef:Xb,useState:function(){return vd(wa)},useDebugValue:gy,useDeferredValue:function(c){var h=vd(wa),S=h[0],T=h[1];return Lc(function(){var L=pi.transition;pi.transition={};try{T(c)}finally{pi.transition=L}},[c]),S},useTransition:function(){var c=vd(wa)[0],h=us().memoizedState;return[c,h]},useMutableSource:Vb,useSyncExternalStore:Wb,useId:tM,unstable_isNewReconciler:!1},TO={readContext:ci,useCallback:Kb,useContext:ci,useEffect:Lc,useImperativeHandle:Qb,useInsertionEffect:Yb,useLayoutEffect:Jb,useMemo:eM,useReducer:_d,useRef:Xb,useState:function(){return _d(wa)},useDebugValue:gy,useDeferredValue:function(c){var h=_d(wa),S=h[0],T=h[1];return Lc(function(){var L=pi.transition;pi.transition={};try{T(c)}finally{pi.transition=L}},[c]),S},useTransition:function(){var c=_d(wa)[0],h=us().memoizedState;return[c,h]},useMutableSource:Vb,useSyncExternalStore:Wb,useId:tM,unstable_isNewReconciler:!1};function yy(c,h){try{var S="",T=h;do S+=wO(T),T=T.return;while(T);var L=S}catch(z){L=`
Error generating stack: `+z.message+`
`+z.stack}return{value:c,source:h,stack:L}}function vy(c,h){try{console.error(h.value)}catch(S){setTimeout(function(){throw S})}}var PO=typeof WeakMap=="function"?WeakMap:Map;function oM(c,h,S){S=Is(-1,S),S.tag=3,S.payload={element:null};var T=h.value;return S.callback=function(){zd||(zd=!0,Ny=T),vy(c,h)},S}function aM(c,h,S){S=Is(-1,S),S.tag=3;var T=c.type.getDerivedStateFromError;if(typeof T=="function"){var L=h.value;S.payload=function(){return T(L)},S.callback=function(){vy(c,h)}}var z=c.stateNode;return z!==null&&typeof z.componentDidCatch=="function"&&(S.callback=function(){vy(c,h),typeof T!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var ne=h.stack;this.componentDidCatch(h.value,{componentStack:ne!==null?ne:""})}),S}function lM(c,h,S){var T=c.pingCache;if(T===null){T=c.pingCache=new PO;var L=new Set;T.set(h,L)}else L=T.get(h),L===void 0&&(L=new Set,T.set(h,L));L.has(S)||(L.add(S),c=WO.bind(null,c,h,S),h.then(c,c))}function uM(c){do{var h;if((h=c.tag===13)&&(h=c.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return c;c=c.return}while(c!==null);return null}function cM(c,h,S,T,L){return c.mode&1?(c.flags|=65536,c.lanes=L,c):(c===h?c.flags|=65536:(c.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(h=Is(-1,1),h.tag=2,co(S,h))),S.lanes|=1),c)}function cs(c){c.flags|=4}function fM(c,h){if(c!==null&&c.child===h.child)return!0;if(h.flags&16)return!1;for(c=h.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var Oc,kc,bd,Md;if(we)Oc=function(c,h){for(var S=h.child;S!==null;){if(S.tag===5||S.tag===6)N(c,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===h)break;for(;S.sibling===null;){if(S.return===null||S.return===h)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},kc=function(){},bd=function(c,h,S,T,L){if(c=c.memoizedProps,c!==T){var z=h.stateNode,ne=ls(di.current);S=k(z,S,c,T,L,ne),(h.updateQueue=S)&&cs(h)}},Md=function(c,h,S,T){S!==T&&cs(h)};else if(se){Oc=function(c,h,S,T){for(var L=h.child;L!==null;){if(L.tag===5){var z=L.stateNode;S&&T&&(z=Rt(z,L.type,L.memoizedProps,L)),N(c,z)}else if(L.tag===6)z=L.stateNode,S&&T&&(z=en(z,L.memoizedProps,L)),N(c,z);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)z=L.child,z!==null&&(z.return=L),Oc(c,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===h)break;for(;L.sibling===null;){if(L.return===null||L.return===h)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};var hM=function(c,h,S,T){for(var L=h.child;L!==null;){if(L.tag===5){var z=L.stateNode;S&&T&&(z=Rt(z,L.type,L.memoizedProps,L)),ht(c,z)}else if(L.tag===6)z=L.stateNode,S&&T&&(z=en(z,L.memoizedProps,L)),ht(c,z);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)z=L.child,z!==null&&(z.return=L),hM(c,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===h)break;for(;L.sibling===null;){if(L.return===null||L.return===h)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};kc=function(c,h){var S=h.stateNode;if(!fM(c,h)){c=S.containerInfo;var T=tt(c);hM(T,h,!1,!1),S.pendingChildren=T,cs(h),st(c,T)}},bd=function(c,h,S,T,L){var z=c.stateNode,ne=c.memoizedProps;if((c=fM(c,h))&&ne===T)h.stateNode=z;else{var de=h.stateNode,Pe=ls(di.current),Ve=null;ne!==T&&(Ve=k(de,S,ne,T,L,Pe)),c&&Ve===null?h.stateNode=z:(z=He(z,Ve,S,ne,T,h,c,de),U(z,S,T,L,Pe)&&cs(h),h.stateNode=z,c?cs(h):Oc(z,h,!1,!1))}},Md=function(c,h,S,T){S!==T?(c=ls(zl.current),S=ls(di.current),h.stateNode=V(T,c,S,h),cs(h)):h.stateNode=c.stateNode}}else kc=function(){},bd=function(){},Md=function(){};function Dc(c,h){if(!un)switch(c.tailMode){case"hidden":h=c.tail;for(var S=null;h!==null;)h.alternate!==null&&(S=h),h=h.sibling;S===null?c.tail=null:S.sibling=null;break;case"collapsed":S=c.tail;for(var T=null;S!==null;)S.alternate!==null&&(T=S),S=S.sibling;T===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:T.sibling=null}}function fr(c){var h=c.alternate!==null&&c.alternate.child===c.child,S=0,T=0;if(h)for(var L=c.child;L!==null;)S|=L.lanes|L.childLanes,T|=L.subtreeFlags&14680064,T|=L.flags&14680064,L.return=c,L=L.sibling;else for(L=c.child;L!==null;)S|=L.lanes|L.childLanes,T|=L.subtreeFlags,T|=L.flags,L.return=c,L=L.sibling;return c.subtreeFlags|=T,c.childLanes=S,h}function IO(c,h,S){var T=h.pendingProps;switch(ry(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(h),null;case 1:return Or(h.type)&&Kh(),fr(h),null;case 3:return T=h.stateNode,Bl(),xt(Wn),xt(Vt),cy(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(c===null||c.child===null)&&(Ec(h)?cs(h):c===null||c.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Oi!==null&&(By(Oi),Oi=null))),kc(c,h),fr(h),null;case 5:ly(h),S=ls(zl.current);var L=h.type;if(c!==null&&h.stateNode!=null)bd(c,h,L,T,S),c.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!T){if(h.stateNode===null)throw Error(o(166));return fr(h),null}if(c=ls(di.current),Ec(h)){if(!ce)throw Error(o(175));c=ot(h.stateNode,h.type,h.memoizedProps,S,c,h,!Mc),h.updateQueue=c,c!==null&&cs(h)}else{var z=G(L,T,S,c,h);Oc(z,h,!1,!1),h.stateNode=z,U(z,L,T,S,c)&&cs(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return fr(h),null;case 6:if(c&&h.stateNode!=null)Md(c,h,c.memoizedProps,T);else{if(typeof T!="string"&&h.stateNode===null)throw Error(o(166));if(c=ls(zl.current),S=ls(di.current),Ec(h)){if(!ce)throw Error(o(176));if(c=h.stateNode,T=h.memoizedProps,(S=ct(c,T,h,!Mc))&&(L=Gr,L!==null))switch(z=(L.mode&1)!==0,L.tag){case 3:Sr(L.stateNode.containerInfo,c,T,z);break;case 5:lr(L.type,L.memoizedProps,L.stateNode,c,T,z)}S&&cs(h)}else h.stateNode=V(T,c,S,h)}return fr(h),null;case 13:if(xt(hn),T=h.memoizedState,un&&jr!==null&&h.mode&1&&!(h.flags&128)){for(c=jr;c;)c=_e(c);return Nl(),h.flags|=98560,h}if(T!==null&&T.dehydrated!==null){if(T=Ec(h),c===null){if(!T)throw Error(o(318));if(!ce)throw Error(o(344));if(c=h.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));dt(c,h)}else Nl(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return fr(h),null}return Oi!==null&&(By(Oi),Oi=null),h.flags&128?(h.lanes=S,h):(T=T!==null,S=!1,c===null?Ec(h):S=c.memoizedState!==null,T&&!S&&(h.child.flags|=8192,h.mode&1&&(c===null||hn.current&1?Nn===0&&(Nn=3):Hy())),h.updateQueue!==null&&(h.flags|=4),fr(h),null);case 4:return Bl(),kc(c,h),c===null&&ye(h.stateNode.containerInfo),fr(h),null;case 10:return Z0(h.type._context),fr(h),null;case 17:return Or(h.type)&&Kh(),fr(h),null;case 19:if(xt(hn),L=h.memoizedState,L===null)return fr(h),null;if(T=(h.flags&128)!==0,z=L.rendering,z===null)if(T)Dc(L,!1);else{if(Nn!==0||c!==null&&c.flags&128)for(c=h.child;c!==null;){if(z=md(c),z!==null){for(h.flags|=128,Dc(L,!1),c=z.updateQueue,c!==null&&(h.updateQueue=c,h.flags|=4),h.subtreeFlags=0,c=S,T=h.child;T!==null;)S=T,L=c,S.flags&=14680066,z=S.alternate,z===null?(S.childLanes=0,S.lanes=L,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=z.childLanes,S.lanes=z.lanes,S.child=z.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=z.memoizedProps,S.memoizedState=z.memoizedState,S.updateQueue=z.updateQueue,S.type=z.type,L=z.dependencies,S.dependencies=L===null?null:{lanes:L.lanes,firstContext:L.firstContext}),T=T.sibling;return Ot(hn,hn.current&1|2),h.child}c=c.sibling}L.tail!==null&&Gn()>Dy&&(h.flags|=128,T=!0,Dc(L,!1),h.lanes=4194304)}else{if(!T)if(c=md(z),c!==null){if(h.flags|=128,T=!0,c=c.updateQueue,c!==null&&(h.updateQueue=c,h.flags|=4),Dc(L,!0),L.tail===null&&L.tailMode==="hidden"&&!z.alternate&&!un)return fr(h),null}else 2*Gn()-L.renderingStartTime>Dy&&S!==1073741824&&(h.flags|=128,T=!0,Dc(L,!1),h.lanes=4194304);L.isBackwards?(z.sibling=h.child,h.child=z):(c=L.last,c!==null?c.sibling=z:h.child=z,L.last=z)}return L.tail!==null?(h=L.tail,L.rendering=h,L.tail=h.sibling,L.renderingStartTime=Gn(),h.sibling=null,c=hn.current,Ot(hn,T?c&1|2:c&1),h):(fr(h),null);case 22:case 23:return Uy(),T=h.memoizedState!==null,c!==null&&c.memoizedState!==null!==T&&(h.flags|=8192),T&&h.mode&1?qr&1073741824&&(fr(h),we&&h.subtreeFlags&6&&(h.flags|=8192)):fr(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var RO=a.ReactCurrentOwner,$r=!1;function br(c,h,S,T){h.child=c===null?Ub(h,null,S,T):Fl(h,c.child,S,T)}function dM(c,h,S,T,L){S=S.render;var z=h.ref;return Ol(h,L),T=hy(c,h,S,T,z,L),S=dy(),c!==null&&!$r?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~L,ks(c,h,L)):(un&&S&&ny(h),h.flags|=1,br(c,h,T,L),h.child)}function pM(c,h,S,T,L){if(c===null){var z=S.type;return typeof z=="function"&&!Vy(z)&&z.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(h.tag=15,h.type=z,mM(c,h,z,T,L)):(c=jd(S.type,null,T,h,h.mode,L),c.ref=h.ref,c.return=h,h.child=c)}if(z=c.child,!(c.lanes&L)){var ne=z.memoizedProps;if(S=S.compare,S=S!==null?S:od,S(ne,T)&&c.ref===h.ref)return ks(c,h,L)}return h.flags|=1,c=go(z,T),c.ref=h.ref,c.return=h,h.child=c}function mM(c,h,S,T,L){if(c!==null&&od(c.memoizedProps,T)&&c.ref===h.ref)if($r=!1,(c.lanes&L)!==0)c.flags&131072&&($r=!0);else return h.lanes=c.lanes,ks(c,h,L);return _y(c,h,S,T,L)}function gM(c,h,S){var T=h.pendingProps,L=T.children,z=c!==null?c.memoizedState:null;if(T.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},Ot(Hl,qr),qr|=S;else if(S&1073741824)h.memoizedState={baseLanes:0,cachePool:null},T=z!==null?z.baseLanes:S,Ot(Hl,qr),qr|=T;else return c=z!==null?z.baseLanes|S:S,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:c,cachePool:null},h.updateQueue=null,Ot(Hl,qr),qr|=c,null;else z!==null?(T=z.baseLanes|S,h.memoizedState=null):T=S,Ot(Hl,qr),qr|=T;return br(c,h,L,S),h.child}function yM(c,h){var S=h.ref;(c===null&&S!==null||c!==null&&c.ref!==S)&&(h.flags|=512,h.flags|=2097152)}function _y(c,h,S,T,L){var z=Or(S)?As:Vt.current;return z=Ts(h,z),Ol(h,L),S=hy(c,h,S,T,z,L),T=dy(),c!==null&&!$r?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~L,ks(c,h,L)):(un&&T&&ny(h),h.flags|=1,br(c,h,S,L),h.child)}function vM(c,h,S,T,L){if(Or(S)){var z=!0;ed(h)}else z=!1;if(Ol(h,L),h.stateNode===null)c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),Lb(h,S,T),ty(h,S,T,L),T=!0;else if(c===null){var ne=h.stateNode,de=h.memoizedProps;ne.props=de;var Pe=ne.context,Ve=S.contextType;typeof Ve=="object"&&Ve!==null?Ve=ci(Ve):(Ve=Or(S)?As:Vt.current,Ve=Ts(h,Ve));var Ze=S.getDerivedStateFromProps,pt=typeof Ze=="function"||typeof ne.getSnapshotBeforeUpdate=="function";pt||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(de!==T||Pe!==Ve)&&Ob(h,ne,T,Ve),uo=!1;var ut=h.memoizedState;ne.state=ut,cd(h,T,ne,L),Pe=h.memoizedState,de!==T||ut!==Pe||Wn.current||uo?(typeof Ze=="function"&&(ey(h,S,Ze,T),Pe=h.memoizedState),(de=uo||Rb(h,S,de,T,ut,Pe,Ve))?(pt||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(h.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=T,h.memoizedState=Pe),ne.props=T,ne.state=Pe,ne.context=Ve,T=de):(typeof ne.componentDidMount=="function"&&(h.flags|=4194308),T=!1)}else{ne=h.stateNode,Ab(c,h),de=h.memoizedProps,Ve=h.type===h.elementType?de:Li(h.type,de),ne.props=Ve,pt=h.pendingProps,ut=ne.context,Pe=S.contextType,typeof Pe=="object"&&Pe!==null?Pe=ci(Pe):(Pe=Or(S)?As:Vt.current,Pe=Ts(h,Pe));var Qt=S.getDerivedStateFromProps;(Ze=typeof Qt=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(de!==pt||ut!==Pe)&&Ob(h,ne,T,Pe),uo=!1,ut=h.memoizedState,ne.state=ut,cd(h,T,ne,L);var at=h.memoizedState;de!==pt||ut!==at||Wn.current||uo?(typeof Qt=="function"&&(ey(h,S,Qt,T),at=h.memoizedState),(Ve=uo||Rb(h,S,Ve,T,ut,at,Pe)||!1)?(Ze||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(T,at,Pe),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(T,at,Pe)),typeof ne.componentDidUpdate=="function"&&(h.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof ne.componentDidUpdate!="function"||de===c.memoizedProps&&ut===c.memoizedState||(h.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||de===c.memoizedProps&&ut===c.memoizedState||(h.flags|=1024),h.memoizedProps=T,h.memoizedState=at),ne.props=T,ne.state=at,ne.context=Pe,T=Ve):(typeof ne.componentDidUpdate!="function"||de===c.memoizedProps&&ut===c.memoizedState||(h.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||de===c.memoizedProps&&ut===c.memoizedState||(h.flags|=1024),T=!1)}return xy(c,h,S,T,z,L)}function xy(c,h,S,T,L,z){yM(c,h);var ne=(h.flags&128)!==0;if(!T&&!ne)return L&&Sb(h,S,!1),ks(c,h,z);T=h.stateNode,RO.current=h;var de=ne&&typeof S.getDerivedStateFromError!="function"?null:T.render();return h.flags|=1,c!==null&&ne?(h.child=Fl(h,c.child,null,z),h.child=Fl(h,null,de,z)):br(c,h,de,z),h.memoizedState=T.state,L&&Sb(h,S,!0),h.child}function _M(c){var h=c.stateNode;h.pendingContext?xb(c,h.pendingContext,h.pendingContext!==h.context):h.context&&xb(c,h.context,!1),ay(c,h.containerInfo)}function xM(c,h,S,T,L){return Nl(),oy(L),h.flags|=256,br(c,h,S,T),h.child}var Ed={dehydrated:null,treeContext:null,retryLane:0};function Cd(c){return{baseLanes:c,cachePool:null}}function wM(c,h,S){var T=h.pendingProps,L=hn.current,z=!1,ne=(h.flags&128)!==0,de;if((de=ne)||(de=c!==null&&c.memoizedState===null?!1:(L&2)!==0),de?(z=!0,h.flags&=-129):(c===null||c.memoizedState!==null)&&(L|=1),Ot(hn,L&1),c===null)return sy(h),c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(h.mode&1?lo(c)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(L=T.children,c=T.fallback,z?(T=h.mode,z=h.child,L={mode:"hidden",children:L},!(T&1)&&z!==null?(z.childLanes=0,z.pendingProps=L):z=$d(L,T,0,null),c=Aa(c,T,S,null),z.return=h,c.return=h,z.sibling=c,h.child=z,h.child.memoizedState=Cd(S),h.memoizedState=Ed,c):wy(h,L));if(L=c.memoizedState,L!==null){if(de=L.dehydrated,de!==null){if(ne)return h.flags&256?(h.flags&=-257,Ad(c,h,S,Error(o(422)))):h.memoizedState!==null?(h.child=c.child,h.flags|=128,null):(z=T.fallback,L=h.mode,T=$d({mode:"visible",children:T.children},L,0,null),z=Aa(z,L,S,null),z.flags|=2,T.return=h,z.return=h,T.sibling=z,h.child=T,h.mode&1&&Fl(h,c.child,null,S),h.child.memoizedState=Cd(S),h.memoizedState=Ed,z);if(!(h.mode&1))h=Ad(c,h,S,null);else if(lo(de))h=Ad(c,h,S,Error(o(419)));else if(T=(S&c.childLanes)!==0,$r||T){if(T=Pn,T!==null){switch(S&-S){case 4:z=2;break;case 16:z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:z=32;break;case 536870912:z=268435456;break;default:z=0}T=z&(T.suspendedLanes|S)?0:z,T!==0&&T!==L.retryLane&&(L.retryLane=T,mi(c,T,-1))}Hy(),h=Ad(c,h,S,Error(o(421)))}else ar(de)?(h.flags|=128,h.child=c.child,h=GO.bind(null,c),ee(de,h),h=null):(S=L.treeContext,ce&&(jr=Re(de),Gr=h,un=!0,Oi=null,Mc=!1,S!==null&&(fi[hi++]=Rs,fi[hi++]=Ls,fi[hi++]=_a,Rs=S.id,Ls=S.overflow,_a=h)),h=wy(h,h.pendingProps.children),h.flags|=4096);return h}return z?(T=bM(c,h,T.children,T.fallback,S),z=h.child,L=c.child.memoizedState,z.memoizedState=L===null?Cd(S):{baseLanes:L.baseLanes|S,cachePool:null},z.childLanes=c.childLanes&~S,h.memoizedState=Ed,T):(S=SM(c,h,T.children,S),h.memoizedState=null,S)}return z?(T=bM(c,h,T.children,T.fallback,S),z=h.child,L=c.child.memoizedState,z.memoizedState=L===null?Cd(S):{baseLanes:L.baseLanes|S,cachePool:null},z.childLanes=c.childLanes&~S,h.memoizedState=Ed,T):(S=SM(c,h,T.children,S),h.memoizedState=null,S)}function wy(c,h){return h=$d({mode:"visible",children:h},c.mode,0,null),h.return=c,c.child=h}function SM(c,h,S,T){var L=c.child;return c=L.sibling,S=go(L,{mode:"visible",children:S}),!(h.mode&1)&&(S.lanes=T),S.return=h,S.sibling=null,c!==null&&(T=h.deletions,T===null?(h.deletions=[c],h.flags|=16):T.push(c)),h.child=S}function bM(c,h,S,T,L){var z=h.mode;c=c.child;var ne=c.sibling,de={mode:"hidden",children:S};return!(z&1)&&h.child!==c?(S=h.child,S.childLanes=0,S.pendingProps=de,h.deletions=null):(S=go(c,de),S.subtreeFlags=c.subtreeFlags&14680064),ne!==null?T=go(ne,T):(T=Aa(T,z,L,null),T.flags|=2),T.return=h,S.return=h,S.sibling=T,h.child=S,T}function Ad(c,h,S,T){return T!==null&&oy(T),Fl(h,c.child,null,S),c=wy(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function MM(c,h,S){c.lanes|=h;var T=c.alternate;T!==null&&(T.lanes|=h),Q0(c.return,h,S)}function Sy(c,h,S,T,L){var z=c.memoizedState;z===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:T,tail:S,tailMode:L}:(z.isBackwards=h,z.rendering=null,z.renderingStartTime=0,z.last=T,z.tail=S,z.tailMode=L)}function EM(c,h,S){var T=h.pendingProps,L=T.revealOrder,z=T.tail;if(br(c,h,T.children,S),T=hn.current,T&2)T=T&1|2,h.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&MM(c,S,h);else if(c.tag===19)MM(c,S,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}T&=1}if(Ot(hn,T),!(h.mode&1))h.memoizedState=null;else switch(L){case"forwards":for(S=h.child,L=null;S!==null;)c=S.alternate,c!==null&&md(c)===null&&(L=S),S=S.sibling;S=L,S===null?(L=h.child,h.child=null):(L=S.sibling,S.sibling=null),Sy(h,!1,L,S,z);break;case"backwards":for(S=null,L=h.child,h.child=null;L!==null;){if(c=L.alternate,c!==null&&md(c)===null){h.child=L;break}c=L.sibling,L.sibling=S,S=L,L=c}Sy(h,!0,S,null,z);break;case"together":Sy(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function ks(c,h,S){if(c!==null&&(h.dependencies=c.dependencies),Vl|=h.lanes,!(S&h.childLanes))return null;if(c!==null&&h.child!==c.child)throw Error(o(153));if(h.child!==null){for(c=h.child,S=go(c,c.pendingProps),h.child=S,S.return=h;c.sibling!==null;)c=c.sibling,S=S.sibling=go(c,c.pendingProps),S.return=h;S.sibling=null}return h.child}function LO(c,h,S){switch(h.tag){case 3:_M(h),Nl();break;case 5:Hb(h);break;case 1:Or(h.type)&&ed(h);break;case 4:ay(h,h.stateNode.containerInfo);break;case 10:Cb(h,h.type._context,h.memoizedProps.value);break;case 13:var T=h.memoizedState;if(T!==null)return T.dehydrated!==null?(Ot(hn,hn.current&1),h.flags|=128,null):S&h.child.childLanes?wM(c,h,S):(Ot(hn,hn.current&1),c=ks(c,h,S),c!==null?c.sibling:null);Ot(hn,hn.current&1);break;case 19:if(T=(S&h.childLanes)!==0,c.flags&128){if(T)return EM(c,h,S);h.flags|=128}var L=h.memoizedState;if(L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),Ot(hn,hn.current),T)break;return null;case 22:case 23:return h.lanes=0,gM(c,h,S)}return ks(c,h,S)}function OO(c,h){switch(ry(h),h.tag){case 1:return Or(h.type)&&Kh(),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return Bl(),xt(Wn),xt(Vt),cy(),c=h.flags,c&65536&&!(c&128)?(h.flags=c&-65537|128,h):null;case 5:return ly(h),null;case 13:if(xt(hn),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(o(340));Nl()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return xt(hn),null;case 4:return Bl(),null;case 10:return Z0(h.type._context),null;case 22:case 23:return Uy(),null;case 24:return null;default:return null}}var Td=!1,Sa=!1,kO=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Pd(c,h){var S=c.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(T){Nr(c,h,T)}else S.current=null}function by(c,h,S){try{S()}catch(T){Nr(c,h,T)}}var CM=!1;function DO(c,h){for(q(c.containerInfo),qe=h;qe!==null;)if(c=qe,h=c.child,(c.subtreeFlags&1028)!==0&&h!==null)h.return=c,qe=h;else for(;qe!==null;){c=qe;try{var S=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,L=S.memoizedState,z=c.stateNode,ne=z.getSnapshotBeforeUpdate(c.elementType===c.type?T:Li(c.type,T),L);z.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:we&&le(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(de){Nr(c,c.return,de)}if(h=c.sibling,h!==null){h.return=c.return,qe=h;break}qe=c.return}return S=CM,CM=!1,S}function ba(c,h,S){var T=h.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var L=T=T.next;do{if((L.tag&c)===c){var z=L.destroy;L.destroy=void 0,z!==void 0&&by(h,S,z)}L=L.next}while(L!==T)}}function Nc(c,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var S=h=h.next;do{if((S.tag&c)===c){var T=S.create;S.destroy=T()}S=S.next}while(S!==h)}}function My(c){var h=c.ref;if(h!==null){var S=c.stateNode;switch(c.tag){case 5:c=X(S);break;default:c=S}typeof h=="function"?h(c):h.current=c}}function AM(c,h,S){if(is&&typeof is.onCommitFiberUnmount=="function")try{is.onCommitFiberUnmount(id,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(c=h.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var T=c=c.next;do{var L=T,z=L.destroy;L=L.tag,z!==void 0&&(L&2||L&4)&&by(h,S,z),T=T.next}while(T!==c)}break;case 1:if(Pd(h,S),c=h.stateNode,typeof c.componentWillUnmount=="function")try{c.props=h.memoizedProps,c.state=h.memoizedState,c.componentWillUnmount()}catch(ne){Nr(h,S,ne)}break;case 5:Pd(h,S);break;case 4:we?OM(c,h,S):se&&se&&(h=h.stateNode.containerInfo,S=tt(h),Dn(h,S))}}function TM(c,h,S){for(var T=h;;)if(AM(c,T,S),T.child===null||we&&T.tag===4){if(T===h)break;for(;T.sibling===null;){if(T.return===null||T.return===h)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else T.child.return=T,T=T.child}function PM(c){var h=c.alternate;h!==null&&(c.alternate=null,PM(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&Z(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function IM(c){return c.tag===5||c.tag===3||c.tag===4}function RM(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||IM(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function LM(c){if(we){e:{for(var h=c.return;h!==null;){if(IM(h))break e;h=h.return}throw Error(o(160))}var S=h;switch(S.tag){case 5:h=S.stateNode,S.flags&32&&(wt(h),S.flags&=-33),S=RM(c),Cy(c,S,h);break;case 3:case 4:h=S.stateNode.containerInfo,S=RM(c),Ey(c,S,h);break;default:throw Error(o(161))}}}function Ey(c,h,S){var T=c.tag;if(T===5||T===6)c=c.stateNode,h?Fe(S,c,h):$e(S,c);else if(T!==4&&(c=c.child,c!==null))for(Ey(c,h,S),c=c.sibling;c!==null;)Ey(c,h,S),c=c.sibling}function Cy(c,h,S){var T=c.tag;if(T===5||T===6)c=c.stateNode,h?Ee(S,c,h):Ke(S,c);else if(T!==4&&(c=c.child,c!==null))for(Cy(c,h,S),c=c.sibling;c!==null;)Cy(c,h,S),c=c.sibling}function OM(c,h,S){for(var T=h,L=!1,z,ne;;){if(!L){L=T.return;e:for(;;){if(L===null)throw Error(o(160));switch(z=L.stateNode,L.tag){case 5:ne=!1;break e;case 3:z=z.containerInfo,ne=!0;break e;case 4:z=z.containerInfo,ne=!0;break e}L=L.return}L=!0}if(T.tag===5||T.tag===6)TM(c,T,S),ne?lt(z,T.stateNode):Ue(z,T.stateNode);else if(T.tag===18)ne?sn(z,T.stateNode):St(z,T.stateNode);else if(T.tag===4){if(T.child!==null){z=T.stateNode.containerInfo,ne=!0,T.child.return=T,T=T.child;continue}}else if(AM(c,T,S),T.child!==null){T.child.return=T,T=T.child;continue}if(T===h)break;for(;T.sibling===null;){if(T.return===null||T.return===h)return;T=T.return,T.tag===4&&(L=!1)}T.sibling.return=T.return,T=T.sibling}}function Ay(c,h){if(we){switch(h.tag){case 0:case 11:case 14:case 15:ba(3,h,h.return),Nc(3,h),ba(5,h,h.return);return;case 1:return;case 5:var S=h.stateNode;if(S!=null){var T=h.memoizedProps;c=c!==null?c.memoizedProps:T;var L=h.type,z=h.updateQueue;h.updateQueue=null,z!==null&&ae(S,z,L,c,T,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));S=h.memoizedProps,Oe(h.stateNode,c!==null?c.memoizedProps:S,S);return;case 3:ce&&c!==null&&c.memoizedState.isDehydrated&&Et(h.stateNode.containerInfo);return;case 12:return;case 13:Id(h);return;case 19:Id(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:ba(3,h,h.return),Nc(3,h),ba(5,h,h.return);return;case 12:return;case 13:Id(h);return;case 19:Id(h);return;case 3:ce&&c!==null&&c.memoizedState.isDehydrated&&Et(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(se){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,Dn(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function Id(c){var h=c.updateQueue;if(h!==null){c.updateQueue=null;var S=c.stateNode;S===null&&(S=c.stateNode=new kO),h.forEach(function(T){var L=jO.bind(null,c,T);S.has(T)||(S.add(T),T.then(L,L))})}}function NO(c,h){for(qe=h;qe!==null;){h=qe;var S=h.deletions;if(S!==null)for(var T=0;T<S.length;T++){var L=S[T];try{var z=c;we?OM(z,L,h):TM(z,L,h);var ne=L.alternate;ne!==null&&(ne.return=null),L.return=null}catch(rt){Nr(L,h,rt)}}if(S=h.child,h.subtreeFlags&12854&&S!==null)S.return=h,qe=S;else for(;qe!==null;){h=qe;try{var de=h.flags;if(de&32&&we&&wt(h.stateNode),de&512){var Pe=h.alternate;if(Pe!==null){var Ve=Pe.ref;Ve!==null&&(typeof Ve=="function"?Ve(null):Ve.current=null)}}if(de&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var Ze=h.alternate;(Ze===null||Ze.memoizedState===null)&&(ky=Gn())}break;case 22:var pt=h.memoizedState!==null,ut=h.alternate,Qt=ut!==null&&ut.memoizedState!==null;if(S=h,we){e:if(T=S,L=pt,z=null,we)for(var at=T;;){if(at.tag===5){if(z===null){z=at;var hr=at.stateNode;L?Zt(hr):Ce(at.stateNode,at.memoizedProps)}}else if(at.tag===6){if(z===null){var yi=at.stateNode;L?fe(yi):ie(yi,at.memoizedProps)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===T)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===T)break;for(;at.sibling===null;){if(at.return===null||at.return===T)break e;z===at&&(z=null),at=at.return}z===at&&(z=null),at.sibling.return=at.return,at=at.sibling}}if(pt&&!Qt&&S.mode&1){qe=S;for(var xe=S.child;xe!==null;){for(S=qe=xe;qe!==null;){T=qe;var me=T.child;switch(T.tag){case 0:case 11:case 14:case 15:ba(4,T,T.return);break;case 1:Pd(T,T.return);var Ae=T.stateNode;if(typeof Ae.componentWillUnmount=="function"){var Xe=T.return;try{Ae.props=T.memoizedProps,Ae.state=T.memoizedState,Ae.componentWillUnmount()}catch(rt){Nr(T,Xe,rt)}}break;case 5:Pd(T,T.return);break;case 22:if(T.memoizedState!==null){NM(S);continue}}me!==null?(me.return=T,qe=me):NM(S)}xe=xe.sibling}}}switch(de&4102){case 2:LM(h),h.flags&=-3;break;case 6:LM(h),h.flags&=-3,Ay(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,Ay(h.alternate,h);break;case 4:Ay(h.alternate,h)}}catch(rt){Nr(h,h.return,rt)}if(S=h.sibling,S!==null){S.return=h.return,qe=S;break}qe=h.return}}}function FO(c,h,S){qe=c,kM(c)}function kM(c,h,S){for(var T=(c.mode&1)!==0;qe!==null;){var L=qe,z=L.child;if(L.tag===22&&T){var ne=L.memoizedState!==null||Td;if(!ne){var de=L.alternate,Pe=de!==null&&de.memoizedState!==null||Sa;de=Td;var Ve=Sa;if(Td=ne,(Sa=Pe)&&!Ve)for(qe=L;qe!==null;)ne=qe,Pe=ne.child,ne.tag===22&&ne.memoizedState!==null?FM(L):Pe!==null?(Pe.return=ne,qe=Pe):FM(L);for(;z!==null;)qe=z,kM(z),z=z.sibling;qe=L,Td=de,Sa=Ve}DM(c)}else L.subtreeFlags&8772&&z!==null?(z.return=L,qe=z):DM(c)}}function DM(c){for(;qe!==null;){var h=qe;if(h.flags&8772){var S=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:Sa||Nc(5,h);break;case 1:var T=h.stateNode;if(h.flags&4&&!Sa)if(S===null)T.componentDidMount();else{var L=h.elementType===h.type?S.memoizedProps:Li(h.type,S.memoizedProps);T.componentDidUpdate(L,S.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var z=h.updateQueue;z!==null&&Pb(h,z,T);break;case 3:var ne=h.updateQueue;if(ne!==null){if(S=null,h.child!==null)switch(h.child.tag){case 5:S=X(h.child.stateNode);break;case 1:S=h.child.stateNode}Pb(h,ne,S)}break;case 5:var de=h.stateNode;S===null&&h.flags&4&&et(de,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(ce&&h.memoizedState===null){var Pe=h.alternate;if(Pe!==null){var Ve=Pe.memoizedState;if(Ve!==null){var Ze=Ve.dehydrated;Ze!==null&&Ct(Ze)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Sa||h.flags&512&&My(h)}catch(pt){Nr(h,h.return,pt)}}if(h===c){qe=null;break}if(S=h.sibling,S!==null){S.return=h.return,qe=S;break}qe=h.return}}function NM(c){for(;qe!==null;){var h=qe;if(h===c){qe=null;break}var S=h.sibling;if(S!==null){S.return=h.return,qe=S;break}qe=h.return}}function FM(c){for(;qe!==null;){var h=qe;try{switch(h.tag){case 0:case 11:case 15:var S=h.return;try{Nc(4,h)}catch(Pe){Nr(h,S,Pe)}break;case 1:var T=h.stateNode;if(typeof T.componentDidMount=="function"){var L=h.return;try{T.componentDidMount()}catch(Pe){Nr(h,L,Pe)}}var z=h.return;try{My(h)}catch(Pe){Nr(h,z,Pe)}break;case 5:var ne=h.return;try{My(h)}catch(Pe){Nr(h,ne,Pe)}}}catch(Pe){Nr(h,h.return,Pe)}if(h===c){qe=null;break}var de=h.sibling;if(de!==null){de.return=h.return,qe=de;break}qe=h.return}}var Rd=0,Ld=1,Od=2,kd=3,Dd=4;if(typeof Symbol=="function"&&Symbol.for){var Fc=Symbol.for;Rd=Fc("selector.component"),Ld=Fc("selector.has_pseudo_class"),Od=Fc("selector.role"),kd=Fc("selector.test_id"),Dd=Fc("selector.text")}function Ty(c){var h=ge(c);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(c=nt(c),c===null)throw Error(o(362));return c.stateNode.current}function Py(c,h){switch(h.$$typeof){case Rd:if(c.type===h.value)return!0;break;case Ld:e:{h=h.value,c=[c,0];for(var S=0;S<c.length;){var T=c[S++],L=c[S++],z=h[L];if(T.tag!==5||!he(T)){for(;z!=null&&Py(T,z);)L++,z=h[L];if(L===h.length){h=!0;break e}else for(T=T.child;T!==null;)c.push(T,L),T=T.sibling}}h=!1}return h;case Od:if(c.tag===5&&Le(c.stateNode,h.value))return!0;break;case Dd:if((c.tag===5||c.tag===6)&&(c=Y(c),c!==null&&0<=c.indexOf(h.value)))return!0;break;case kd:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Iy(c){switch(c.$$typeof){case Rd:return"<"+(C(c.value)||"Unknown")+">";case Ld:return":has("+(Iy(c)||"")+")";case Od:return'[role="'+c.value+'"]';case Dd:return'"'+c.value+'"';case kd:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function zM(c,h){var S=[];c=[c,0];for(var T=0;T<c.length;){var L=c[T++],z=c[T++],ne=h[z];if(L.tag!==5||!he(L)){for(;ne!=null&&Py(L,ne);)z++,ne=h[z];if(z===h.length)S.push(L);else for(L=L.child;L!==null;)c.push(L,z),L=L.sibling}}return S}function Ry(c,h){if(!Ge)throw Error(o(363));c=Ty(c),c=zM(c,h),h=[],c=Array.from(c);for(var S=0;S<c.length;){var T=c[S++];if(T.tag===5)he(T)||h.push(T.stateNode);else for(T=T.child;T!==null;)c.push(T),T=T.sibling}return h}var zO=Math.ceil,Nd=a.ReactCurrentDispatcher,Ly=a.ReactCurrentOwner,Mn=a.ReactCurrentBatchConfig,At=0,Pn=null,In=null,tr=0,qr=0,Hl=li(0),Nn=0,zc=null,Vl=0,Fd=0,Oy=0,Bc=null,kr=null,ky=0,Dy=1/0;function Wl(){Dy=Gn()+500}var zd=!1,Ny=null,fo=null,Bd=!1,ho=null,Ud=0,Uc=0,Fy=null,Hd=-1,Vd=0;function Mr(){return At&6?Gn():Hd!==-1?Hd:Hd=Gn()}function po(c){return c.mode&1?At&2&&tr!==0?tr&-tr:xO.transition!==null?(Vd===0&&(c=td,td<<=1,!(td&4194240)&&(td=64),Vd=c),Vd):(c=Ft,c!==0?c:te()):1}function mi(c,h,S){if(50<Uc)throw Uc=0,Fy=null,Error(o(185));var T=Wd(c,h);return T===null?null:(bc(T,h,S),(!(At&2)||T!==Pn)&&(T===Pn&&(!(At&2)&&(Fd|=h),Nn===4&&mo(T,tr)),Dr(T,S),h===1&&At===0&&!(c.mode&1)&&(Wl(),sd&&os())),T)}function Wd(c,h){c.lanes|=h;var S=c.alternate;for(S!==null&&(S.lanes|=h),S=c,c=c.return;c!==null;)c.childLanes|=h,S=c.alternate,S!==null&&(S.childLanes|=h),S=c,c=c.return;return S.tag===3?S.stateNode:null}function Dr(c,h){var S=c.callbackNode;fO(c,h);var T=rd(c,c===Pn?tr:0);if(T===0)S!==null&&Mb(S),c.callbackNode=null,c.callbackPriority=0;else if(h=T&-T,c.callbackPriority!==h){if(S!=null&&Mb(S),h===1)c.tag===0?_O(UM.bind(null,c)):Eb(UM.bind(null,c)),Me?Ne(function(){At===0&&os()}):j0($0,os),S=null;else{switch(bb(T)){case 1:S=$0;break;case 4:S=mO;break;case 16:S=q0;break;case 536870912:S=gO;break;default:S=q0}S=YM(S,BM.bind(null,c))}c.callbackPriority=h,c.callbackNode=S}}function BM(c,h){if(Hd=-1,Vd=0,At&6)throw Error(o(327));var S=c.callbackNode;if(Ca()&&c.callbackNode!==S)return null;var T=rd(c,c===Pn?tr:0);if(T===0)return null;if(T&30||T&c.expiredLanes||h)h=Gd(c,T);else{h=T;var L=At;At|=2;var z=WM();(Pn!==c||tr!==h)&&(Wl(),Ma(c,h));do try{HO();break}catch(de){VM(c,de)}while(1);J0(),Nd.current=z,At=L,In!==null?h=0:(Pn=null,tr=0,h=Nn)}if(h!==0){if(h===2&&(L=V0(c),L!==0&&(T=L,h=zy(c,L))),h===1)throw S=zc,Ma(c,0),mo(c,T),Dr(c,Gn()),S;if(h===6)mo(c,T);else{if(L=c.current.alternate,!(T&30)&&!BO(L)&&(h=Gd(c,T),h===2&&(z=V0(c),z!==0&&(T=z,h=zy(c,z))),h===1))throw S=zc,Ma(c,0),mo(c,T),Dr(c,Gn()),S;switch(c.finishedWork=L,c.finishedLanes=T,h){case 0:case 1:throw Error(o(345));case 2:Ea(c,kr);break;case 3:if(mo(c,T),(T&130023424)===T&&(h=ky+500-Gn(),10<h)){if(rd(c,0)!==0)break;if(L=c.suspendedLanes,(L&T)!==T){Mr(),c.pingedLanes|=c.suspendedLanes&L;break}c.timeoutHandle=J(Ea.bind(null,c,kr),h);break}Ea(c,kr);break;case 4:if(mo(c,T),(T&4194240)===T)break;for(h=c.eventTimes,L=-1;0<T;){var ne=31-Ri(T);z=1<<ne,ne=h[ne],ne>L&&(L=ne),T&=~z}if(T=L,T=Gn()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*zO(T/1960))-T,10<T){c.timeoutHandle=J(Ea.bind(null,c,kr),T);break}Ea(c,kr);break;case 5:Ea(c,kr);break;default:throw Error(o(329))}}}return Dr(c,Gn()),c.callbackNode===S?BM.bind(null,c):null}function zy(c,h){var S=Bc;return c.current.memoizedState.isDehydrated&&(Ma(c,h).flags|=256),c=Gd(c,h),c!==2&&(h=kr,kr=S,h!==null&&By(h)),c}function By(c){kr===null?kr=c:kr.push.apply(kr,c)}function BO(c){for(var h=c;;){if(h.flags&16384){var S=h.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var T=0;T<S.length;T++){var L=S[T],z=L.getSnapshot;L=L.value;try{if(!ss(z(),L))return!1}catch{return!1}}}if(S=h.child,h.subtreeFlags&16384&&S!==null)S.return=h,h=S;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function mo(c,h){for(h&=~Oy,h&=~Fd,c.suspendedLanes|=h,c.pingedLanes&=~h,c=c.expirationTimes;0<h;){var S=31-Ri(h),T=1<<S;c[S]=-1,h&=~T}}function UM(c){if(At&6)throw Error(o(327));Ca();var h=rd(c,0);if(!(h&1))return Dr(c,Gn()),null;var S=Gd(c,h);if(c.tag!==0&&S===2){var T=V0(c);T!==0&&(h=T,S=zy(c,T))}if(S===1)throw S=zc,Ma(c,0),mo(c,h),Dr(c,Gn()),S;if(S===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=h,Ea(c,kr),Dr(c,Gn()),null}function HM(c){ho!==null&&ho.tag===0&&!(At&6)&&Ca();var h=At;At|=1;var S=Mn.transition,T=Ft;try{if(Mn.transition=null,Ft=1,c)return c()}finally{Ft=T,Mn.transition=S,At=h,!(At&6)&&os()}}function Uy(){qr=Hl.current,xt(Hl)}function Ma(c,h){c.finishedWork=null,c.finishedLanes=0;var S=c.timeoutHandle;if(S!==Se&&(c.timeoutHandle=Se,re(S)),In!==null)for(S=In.return;S!==null;){var T=S;switch(ry(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Kh();break;case 3:Bl(),xt(Wn),xt(Vt),cy();break;case 5:ly(T);break;case 4:Bl();break;case 13:xt(hn);break;case 19:xt(hn);break;case 10:Z0(T.type._context);break;case 22:case 23:Uy()}S=S.return}if(Pn=c,In=c=go(c.current,null),tr=qr=h,Nn=0,zc=null,Oy=Fd=Vl=0,kr=Bc=null,as!==null){for(h=0;h<as.length;h++)if(S=as[h],T=S.interleaved,T!==null){S.interleaved=null;var L=T.next,z=S.pending;if(z!==null){var ne=z.next;z.next=L,T.next=ne}S.pending=T}as=null}return c}function VM(c,h){do{var S=In;try{if(J0(),gd.current=Sd,yd){for(var T=_n.memoizedState;T!==null;){var L=T.queue;L!==null&&(L.pending=null),T=T.next}yd=!1}if(Ul=0,jn=ur=_n=null,Pc=!1,Ic=0,Ly.current=null,S===null||S.return===null){Nn=1,zc=h,In=null;break}e:{var z=c,ne=S.return,de=S,Pe=h;if(h=tr,de.flags|=32768,Pe!==null&&typeof Pe=="object"&&typeof Pe.then=="function"){var Ve=Pe,Ze=de,pt=Ze.tag;if(!(Ze.mode&1)&&(pt===0||pt===11||pt===15)){var ut=Ze.alternate;ut?(Ze.updateQueue=ut.updateQueue,Ze.memoizedState=ut.memoizedState,Ze.lanes=ut.lanes):(Ze.updateQueue=null,Ze.memoizedState=null)}var Qt=uM(ne);if(Qt!==null){Qt.flags&=-257,cM(Qt,ne,de,z,h),Qt.mode&1&&lM(z,Ve,h),h=Qt,Pe=Ve;var at=h.updateQueue;if(at===null){var hr=new Set;hr.add(Pe),h.updateQueue=hr}else at.add(Pe);break e}else{if(!(h&1)){lM(z,Ve,h),Hy();break e}Pe=Error(o(426))}}else if(un&&de.mode&1){var yi=uM(ne);if(yi!==null){!(yi.flags&65536)&&(yi.flags|=256),cM(yi,ne,de,z,h),oy(Pe);break e}}z=Pe,Nn!==4&&(Nn=2),Bc===null?Bc=[z]:Bc.push(z),Pe=yy(Pe,de),de=ne;do{switch(de.tag){case 3:de.flags|=65536,h&=-h,de.lanes|=h;var xe=oM(de,Pe,h);Tb(de,xe);break e;case 1:z=Pe;var me=de.type,Ae=de.stateNode;if(!(de.flags&128)&&(typeof me.getDerivedStateFromError=="function"||Ae!==null&&typeof Ae.componentDidCatch=="function"&&(fo===null||!fo.has(Ae)))){de.flags|=65536,h&=-h,de.lanes|=h;var Xe=aM(de,z,h);Tb(de,Xe);break e}}de=de.return}while(de!==null)}jM(S)}catch(rt){h=rt,In===S&&S!==null&&(In=S=S.return);continue}break}while(1)}function WM(){var c=Nd.current;return Nd.current=Sd,c===null?Sd:c}function Hy(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),Pn===null||!(Vl&268435455)&&!(Fd&268435455)||mo(Pn,tr)}function Gd(c,h){var S=At;At|=2;var T=WM();Pn===c&&tr===h||Ma(c,h);do try{UO();break}catch(L){VM(c,L)}while(1);if(J0(),At=S,Nd.current=T,In!==null)throw Error(o(261));return Pn=null,tr=0,Nn}function UO(){for(;In!==null;)GM(In)}function HO(){for(;In!==null&&!dO();)GM(In)}function GM(c){var h=XM(c.alternate,c,qr);c.memoizedProps=c.pendingProps,h===null?jM(c):In=h,Ly.current=null}function jM(c){var h=c;do{var S=h.alternate;if(c=h.return,h.flags&32768){if(S=OO(S,h),S!==null){S.flags&=32767,In=S;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Nn=6,In=null;return}}else if(S=IO(S,h,qr),S!==null){In=S;return}if(h=h.sibling,h!==null){In=h;return}In=h=c}while(h!==null);Nn===0&&(Nn=5)}function Ea(c,h){var S=Ft,T=Mn.transition;try{Mn.transition=null,Ft=1,VO(c,h,S)}finally{Mn.transition=T,Ft=S}return null}function VO(c,h,S){do Ca();while(ho!==null);if(At&6)throw Error(o(327));var T=c.finishedWork,L=c.finishedLanes;if(T===null)return null;if(c.finishedWork=null,c.finishedLanes=0,T===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var z=T.lanes|T.childLanes;if(hO(c,z),c===Pn&&(In=Pn=null,tr=0),!(T.subtreeFlags&2064)&&!(T.flags&2064)||Bd||(Bd=!0,YM(q0,function(){return Ca(),null})),z=(T.flags&15990)!==0,T.subtreeFlags&15990||z){z=Mn.transition,Mn.transition=null;var ne=Ft;Ft=1;var de=At;At|=4,Ly.current=null,DO(c,T),NO(c,T),B(c.containerInfo),c.current=T,FO(T),pO(),At=de,Ft=ne,Mn.transition=z}else c.current=T;if(Bd&&(Bd=!1,ho=c,Ud=L),z=c.pendingLanes,z===0&&(fo=null),yO(T.stateNode),Dr(c,Gn()),h!==null)for(S=c.onRecoverableError,T=0;T<h.length;T++)S(h[T]);if(zd)throw zd=!1,c=Ny,Ny=null,c;return Ud&1&&c.tag!==0&&Ca(),z=c.pendingLanes,z&1?c===Fy?Uc++:(Uc=0,Fy=c):Uc=0,os(),null}function Ca(){if(ho!==null){var c=bb(Ud),h=Mn.transition,S=Ft;try{if(Mn.transition=null,Ft=16>c?16:c,ho===null)var T=!1;else{if(c=ho,ho=null,Ud=0,At&6)throw Error(o(331));var L=At;for(At|=4,qe=c.current;qe!==null;){var z=qe,ne=z.child;if(qe.flags&16){var de=z.deletions;if(de!==null){for(var Pe=0;Pe<de.length;Pe++){var Ve=de[Pe];for(qe=Ve;qe!==null;){var Ze=qe;switch(Ze.tag){case 0:case 11:case 15:ba(8,Ze,z)}var pt=Ze.child;if(pt!==null)pt.return=Ze,qe=pt;else for(;qe!==null;){Ze=qe;var ut=Ze.sibling,Qt=Ze.return;if(PM(Ze),Ze===Ve){qe=null;break}if(ut!==null){ut.return=Qt,qe=ut;break}qe=Qt}}}var at=z.alternate;if(at!==null){var hr=at.child;if(hr!==null){at.child=null;do{var yi=hr.sibling;hr.sibling=null,hr=yi}while(hr!==null)}}qe=z}}if(z.subtreeFlags&2064&&ne!==null)ne.return=z,qe=ne;else e:for(;qe!==null;){if(z=qe,z.flags&2048)switch(z.tag){case 0:case 11:case 15:ba(9,z,z.return)}var xe=z.sibling;if(xe!==null){xe.return=z.return,qe=xe;break e}qe=z.return}}var me=c.current;for(qe=me;qe!==null;){ne=qe;var Ae=ne.child;if(ne.subtreeFlags&2064&&Ae!==null)Ae.return=ne,qe=Ae;else e:for(ne=me;qe!==null;){if(de=qe,de.flags&2048)try{switch(de.tag){case 0:case 11:case 15:Nc(9,de)}}catch(rt){Nr(de,de.return,rt)}if(de===ne){qe=null;break e}var Xe=de.sibling;if(Xe!==null){Xe.return=de.return,qe=Xe;break e}qe=de.return}}if(At=L,os(),is&&typeof is.onPostCommitFiberRoot=="function")try{is.onPostCommitFiberRoot(id,c)}catch{}T=!0}return T}finally{Ft=S,Mn.transition=h}}return!1}function $M(c,h,S){h=yy(S,h),h=oM(c,h,1),co(c,h),h=Mr(),c=Wd(c,1),c!==null&&(bc(c,1,h),Dr(c,h))}function Nr(c,h,S){if(c.tag===3)$M(c,c,S);else for(;h!==null;){if(h.tag===3){$M(h,c,S);break}else if(h.tag===1){var T=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(fo===null||!fo.has(T))){c=yy(S,c),c=aM(h,c,1),co(h,c),c=Mr(),h=Wd(h,1),h!==null&&(bc(h,1,c),Dr(h,c));break}}h=h.return}}function WO(c,h,S){var T=c.pingCache;T!==null&&T.delete(h),h=Mr(),c.pingedLanes|=c.suspendedLanes&S,Pn===c&&(tr&S)===S&&(Nn===4||Nn===3&&(tr&130023424)===tr&&500>Gn()-ky?Ma(c,0):Oy|=S),Dr(c,h)}function qM(c,h){h===0&&(c.mode&1?(h=nd,nd<<=1,!(nd&130023424)&&(nd=4194304)):h=1);var S=Mr();c=Wd(c,h),c!==null&&(bc(c,h,S),Dr(c,S))}function GO(c){var h=c.memoizedState,S=0;h!==null&&(S=h.retryLane),qM(c,S)}function jO(c,h){var S=0;switch(c.tag){case 13:var T=c.stateNode,L=c.memoizedState;L!==null&&(S=L.retryLane);break;case 19:T=c.stateNode;break;default:throw Error(o(314))}T!==null&&T.delete(h),qM(c,S)}var XM;XM=function(c,h,S){if(c!==null)if(c.memoizedProps!==h.pendingProps||Wn.current)$r=!0;else{if(!(c.lanes&S)&&!(h.flags&128))return $r=!1,LO(c,h,S);$r=!!(c.flags&131072)}else $r=!1,un&&h.flags&1048576&&kb(h,dd,h.index);switch(h.lanes=0,h.tag){case 2:var T=h.type;c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),c=h.pendingProps;var L=Ts(h,Vt.current);Ol(h,S),L=hy(null,h,T,c,L,S);var z=dy();return h.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Or(T)?(z=!0,ed(h)):z=!1,h.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,K0(h),L.updater=fd,h.stateNode=L,L._reactInternals=h,ty(h,T,c,S),h=xy(null,h,T,!0,z,S)):(h.tag=0,un&&z&&ny(h),br(null,h,L,S),h=h.child),h;case 16:T=h.elementType;e:{switch(c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),c=h.pendingProps,L=T._init,T=L(T._payload),h.type=T,L=h.tag=qO(T),c=Li(T,c),L){case 0:h=_y(null,h,T,c,S);break e;case 1:h=vM(null,h,T,c,S);break e;case 11:h=dM(null,h,T,c,S);break e;case 14:h=pM(null,h,T,Li(T.type,c),S);break e}throw Error(o(306,T,""))}return h;case 0:return T=h.type,L=h.pendingProps,L=h.elementType===T?L:Li(T,L),_y(c,h,T,L,S);case 1:return T=h.type,L=h.pendingProps,L=h.elementType===T?L:Li(T,L),vM(c,h,T,L,S);case 3:e:{if(_M(h),c===null)throw Error(o(387));T=h.pendingProps,z=h.memoizedState,L=z.element,Ab(c,h),cd(h,T,null,S);var ne=h.memoizedState;if(T=ne.element,ce&&z.isDehydrated)if(z={element:T,isDehydrated:!1,cache:ne.cache,transitions:ne.transitions},h.updateQueue.baseState=z,h.memoizedState=z,h.flags&256){L=Error(o(423)),h=xM(c,h,T,S,L);break e}else if(T!==L){L=Error(o(424)),h=xM(c,h,T,S,L);break e}else for(ce&&(jr=ve(h.stateNode.containerInfo),Gr=h,un=!0,Oi=null,Mc=!1),S=Ub(h,null,T,S),h.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Nl(),T===L){h=ks(c,h,S);break e}br(c,h,T,S)}h=h.child}return h;case 5:return Hb(h),c===null&&sy(h),T=h.type,L=h.pendingProps,z=c!==null?c.memoizedProps:null,ne=L.children,W(T,L)?ne=null:z!==null&&W(T,z)&&(h.flags|=32),yM(c,h),br(c,h,ne,S),h.child;case 6:return c===null&&sy(h),null;case 13:return wM(c,h,S);case 4:return ay(h,h.stateNode.containerInfo),T=h.pendingProps,c===null?h.child=Fl(h,null,T,S):br(c,h,T,S),h.child;case 11:return T=h.type,L=h.pendingProps,L=h.elementType===T?L:Li(T,L),dM(c,h,T,L,S);case 7:return br(c,h,h.pendingProps,S),h.child;case 8:return br(c,h,h.pendingProps.children,S),h.child;case 12:return br(c,h,h.pendingProps.children,S),h.child;case 10:e:{if(T=h.type._context,L=h.pendingProps,z=h.memoizedProps,ne=L.value,Cb(h,T,ne),z!==null)if(ss(z.value,ne)){if(z.children===L.children&&!Wn.current){h=ks(c,h,S);break e}}else for(z=h.child,z!==null&&(z.return=h);z!==null;){var de=z.dependencies;if(de!==null){ne=z.child;for(var Pe=de.firstContext;Pe!==null;){if(Pe.context===T){if(z.tag===1){Pe=Is(-1,S&-S),Pe.tag=2;var Ve=z.updateQueue;if(Ve!==null){Ve=Ve.shared;var Ze=Ve.pending;Ze===null?Pe.next=Pe:(Pe.next=Ze.next,Ze.next=Pe),Ve.pending=Pe}}z.lanes|=S,Pe=z.alternate,Pe!==null&&(Pe.lanes|=S),Q0(z.return,S,h),de.lanes|=S;break}Pe=Pe.next}}else if(z.tag===10)ne=z.type===h.type?null:z.child;else if(z.tag===18){if(ne=z.return,ne===null)throw Error(o(341));ne.lanes|=S,de=ne.alternate,de!==null&&(de.lanes|=S),Q0(ne,S,h),ne=z.sibling}else ne=z.child;if(ne!==null)ne.return=z;else for(ne=z;ne!==null;){if(ne===h){ne=null;break}if(z=ne.sibling,z!==null){z.return=ne.return,ne=z;break}ne=ne.return}z=ne}br(c,h,L.children,S),h=h.child}return h;case 9:return L=h.type,T=h.pendingProps.children,Ol(h,S),L=ci(L),T=T(L),h.flags|=1,br(c,h,T,S),h.child;case 14:return T=h.type,L=Li(T,h.pendingProps),L=Li(T.type,L),pM(c,h,T,L,S);case 15:return mM(c,h,h.type,h.pendingProps,S);case 17:return T=h.type,L=h.pendingProps,L=h.elementType===T?L:Li(T,L),c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,Or(T)?(c=!0,ed(h)):c=!1,Ol(h,S),Lb(h,T,L),ty(h,T,L,S),xy(null,h,T,!0,c,S);case 19:return EM(c,h,S);case 22:return gM(c,h,S)}throw Error(o(156,h.tag))};function YM(c,h){return j0(c,h)}function $O(c,h,S,T){this.tag=c,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(c,h,S,T){return new $O(c,h,S,T)}function Vy(c){return c=c.prototype,!(!c||!c.isReactComponent)}function qO(c){if(typeof c=="function")return Vy(c)?1:0;if(c!=null){if(c=c.$$typeof,c===v)return 11;if(c===x)return 14}return 2}function go(c,h){var S=c.alternate;return S===null?(S=gi(c.tag,h,c.key,c.mode),S.elementType=c.elementType,S.type=c.type,S.stateNode=c.stateNode,S.alternate=c,c.alternate=S):(S.pendingProps=h,S.type=c.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=c.flags&14680064,S.childLanes=c.childLanes,S.lanes=c.lanes,S.child=c.child,S.memoizedProps=c.memoizedProps,S.memoizedState=c.memoizedState,S.updateQueue=c.updateQueue,h=c.dependencies,S.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},S.sibling=c.sibling,S.index=c.index,S.ref=c.ref,S}function jd(c,h,S,T,L,z){var ne=2;if(T=c,typeof c=="function")Vy(c)&&(ne=1);else if(typeof c=="string")ne=5;else e:switch(c){case f:return Aa(S.children,L,z,h);case d:ne=8,L|=8;break;case p:return c=gi(12,S,h,L|2),c.elementType=p,c.lanes=z,c;case y:return c=gi(13,S,h,L),c.elementType=y,c.lanes=z,c;case _:return c=gi(19,S,h,L),c.elementType=_,c.lanes=z,c;case b:return $d(S,L,z,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:ne=10;break e;case g:ne=9;break e;case v:ne=11;break e;case x:ne=14;break e;case w:ne=16,T=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return h=gi(ne,S,h,L),h.elementType=c,h.type=T,h.lanes=z,h}function Aa(c,h,S,T){return c=gi(7,c,T,h),c.lanes=S,c}function $d(c,h,S,T){return c=gi(22,c,T,h),c.elementType=b,c.lanes=S,c.stateNode={},c}function Wy(c,h,S){return c=gi(6,c,null,h),c.lanes=S,c}function Gy(c,h,S){return h=gi(4,c.children!==null?c.children:[],c.key,h),h.lanes=S,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function XO(c,h,S,T,L){this.tag=h,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Se,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=W0(0),this.expirationTimes=W0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=W0(0),this.identifierPrefix=T,this.onRecoverableError=L,ce&&(this.mutableSourceEagerHydrationData=null)}function JM(c,h,S,T,L,z,ne,de,Pe){return c=new XO(c,h,S,de,Pe),h===1?(h=1,z===!0&&(h|=8)):h=0,z=gi(3,null,null,h),c.current=z,z.stateNode=c,z.memoizedState={element:T,isDehydrated:S,cache:null,transitions:null},K0(z),c}function ZM(c){if(!c)return ui;c=c._reactInternals;e:{if(I(c)!==c||c.tag!==1)throw Error(o(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Or(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(c.tag===1){var S=c.type;if(Or(S))return wb(c,S,h)}return h}function QM(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=O(h),c===null?null:c.stateNode}function KM(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var S=c.retryLane;c.retryLane=S!==0&&S<h?S:h}}function jy(c,h){KM(c,h),(c=c.alternate)&&KM(c,h)}function YO(c){return c=O(c),c===null?null:c.stateNode}function JO(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var h=Mr();mi(c,134217728,h),jy(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var h=Mr(),S=po(c);mi(c,S,h),jy(c,S)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var h=c.stateNode;if(h.current.memoizedState.isDehydrated){var S=Sc(h.pendingLanes);S!==0&&(G0(h,S|1),Dr(h,Gn()),!(At&6)&&(Wl(),os()))}break;case 13:var T=Mr();HM(function(){return mi(c,1,T)}),jy(c,1)}},t.batchedUpdates=function(c,h){var S=At;At|=1;try{return c(h)}finally{At=S,At===0&&(Wl(),sd&&os())}},t.createComponentSelector=function(c){return{$$typeof:Rd,value:c}},t.createContainer=function(c,h,S,T,L,z,ne){return JM(c,h,!1,null,S,T,L,z,ne)},t.createHasPseudoClassSelector=function(c){return{$$typeof:Ld,value:c}},t.createHydrationContainer=function(c,h,S,T,L,z,ne,de,Pe){return c=JM(S,T,!0,c,L,z,ne,de,Pe),c.context=ZM(null),S=c.current,T=Mr(),L=po(S),z=Is(T,L),z.callback=h??null,co(S,z),c.current.lanes=L,bc(c,L,T),Dr(c,T),c},t.createPortal=function(c,h,S){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:c,containerInfo:h,implementation:S}},t.createRoleSelector=function(c){return{$$typeof:Od,value:c}},t.createTestNameSelector=function(c){return{$$typeof:kd,value:c}},t.createTextSelector=function(c){return{$$typeof:Dd,value:c}},t.deferredUpdates=function(c){var h=Ft,S=Mn.transition;try{return Mn.transition=null,Ft=16,c()}finally{Ft=h,Mn.transition=S}},t.discreteUpdates=function(c,h,S,T,L){var z=Ft,ne=Mn.transition;try{return Mn.transition=null,Ft=1,c(h,S,T,L)}finally{Ft=z,Mn.transition=ne,At===0&&Wl()}},t.findAllNodes=Ry,t.findBoundingRects=function(c,h){if(!Ge)throw Error(o(363));h=Ry(c,h),c=[];for(var S=0;S<h.length;S++)c.push(K(h[S]));for(h=c.length-1;0<h;h--){S=c[h];for(var T=S.x,L=T+S.width,z=S.y,ne=z+S.height,de=h-1;0<=de;de--)if(h!==de){var Pe=c[de],Ve=Pe.x,Ze=Ve+Pe.width,pt=Pe.y,ut=pt+Pe.height;if(T>=Ve&&z>=pt&&L<=Ze&&ne<=ut){c.splice(h,1);break}else if(T!==Ve||S.width!==Pe.width||ut<z||pt>ne){if(!(z!==pt||S.height!==Pe.height||Ze<T||Ve>L)){Ve>T&&(Pe.width+=Ve-T,Pe.x=T),Ze<L&&(Pe.width=L-Ve),c.splice(h,1);break}}else{pt>z&&(Pe.height+=pt-z,Pe.y=z),ut<ne&&(Pe.height=ne-pt),c.splice(h,1);break}}}return c},t.findHostInstance=QM,t.findHostInstanceWithNoPortals=function(c){return c=R(c),c=c!==null?H(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return QM(c)},t.flushControlled=function(c){var h=At;At|=1;var S=Mn.transition,T=Ft;try{Mn.transition=null,Ft=1,c()}finally{Ft=T,Mn.transition=S,At=h,At===0&&(Wl(),os())}},t.flushPassiveEffects=Ca,t.flushSync=HM,t.focusWithin=function(c,h){if(!Ge)throw Error(o(363));for(c=Ty(c),h=zM(c,h),h=Array.from(h),c=0;c<h.length;){var S=h[c++];if(!he(S)){if(S.tag===5&&ze(S.stateNode))return!0;for(S=S.child;S!==null;)h.push(S),S=S.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Ft},t.getFindAllNodesFailureDescription=function(c,h){if(!Ge)throw Error(o(363));var S=0,T=[];c=[Ty(c),0];for(var L=0;L<c.length;){var z=c[L++],ne=c[L++],de=h[ne];if((z.tag!==5||!he(z))&&(Py(z,de)&&(T.push(Iy(de)),ne++,ne>S&&(S=ne)),ne<h.length))for(z=z.child;z!==null;)c.push(z,ne),z=z.sibling}if(S<h.length){for(c=[];S<h.length;S++)c.push(Iy(h[S]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return X(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:YO,findFiberByHostInstance:c.findFiberByHostInstance||JO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)c=!0;else{try{id=h.inject(c),is=h}catch{}c=!!h.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,h,S,T){if(!Ge)throw Error(o(363));c=Ry(c,h);var L=We(c,S,T).disconnect;return{disconnect:function(){L()}}},t.registerMutableSourceForHydration=function(c,h){var S=h._getVersion;S=S(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,S]:c.mutableSourceEagerHydrationData.push(h,S)},t.runWithPriority=function(c,h){var S=Ft;try{return Ft=c,h()}finally{Ft=S}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,h,S,T){var L=h.current,z=Mr(),ne=po(L);return S=ZM(S),h.context===null?h.context=S:h.pendingContext=S,h=Is(z,ne),h.payload={element:c},T=T===void 0?null:T,T!==null&&(h.callback=T),co(L,h),c=mi(L,ne,z),c!==null&&ud(c,L,ne),ne},t};(function(n){n.exports=t9})(UR);const n9=Tg(UR.exports);var gx={exports:{}},HR={};(function(n){function e(D,q){var B=D.length;D.push(q);e:for(;0<B;){var G=B-1>>>1,N=D[G];if(0<i(N,q))D[G]=q,D[B]=N,B=G;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var q=D[0],B=D.pop();if(B!==q){D[0]=B;e:for(var G=0,N=D.length,U=N>>>1;G<U;){var k=2*(G+1)-1,W=D[k],V=k+1,J=D[V];if(0>i(W,B))V<N&&0>i(J,W)?(D[G]=J,D[V]=B,G=V):(D[G]=W,D[k]=B,G=k);else if(V<N&&0>i(J,B))D[G]=J,D[V]=B,G=V;else break e}}return q}function i(D,q){var B=D.sortIndex-q.sortIndex;return B!==0?B:D.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,d=null,p=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var q=t(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=D)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=t(u)}}function b(D){if(v=!1,w(D),!g)if(t(l)!==null)g=!0,X(A);else{var q=t(u);q!==null&&j(b,q.startTime-D)}}function A(D,q){g=!1,v&&(v=!1,_(M),M=-1),m=!0;var B=p;try{for(w(q),d=t(l);d!==null&&(!(d.expirationTime>q)||D&&!R());){var G=d.callback;if(typeof G=="function"){d.callback=null,p=d.priorityLevel;var N=G(d.expirationTime<=q);q=n.unstable_now(),typeof N=="function"?d.callback=N:d===t(l)&&r(l),w(q)}else r(l);d=t(l)}if(d!==null)var U=!0;else{var k=t(u);k!==null&&j(b,k.startTime-q),U=!1}return U}finally{d=null,p=B,m=!1}}var E=!1,C=null,M=-1,I=5,P=-1;function R(){return!(n.unstable_now()-P<I)}function O(){if(C!==null){var D=n.unstable_now();P=D;var q=!0;try{q=C(!0,D)}finally{q?F():(E=!1,C=null)}}else E=!1}var F;if(typeof x=="function")F=function(){x(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,$=H.port2;H.port1.onmessage=O,F=function(){$.postMessage(null)}}else F=function(){y(O,0)};function X(D){C=D,E||(E=!0,F())}function j(D,q){M=y(function(){D(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,X(A))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var B=p;p=q;try{return D()}finally{p=B}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=p;p=D;try{return q()}finally{p=B}},n.unstable_scheduleCallback=function(D,q,B){var G=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?G+B:G):B=G,D){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=B+N,D={id:f++,callback:q,priorityLevel:D,startTime:B,expirationTime:N,sortIndex:-1},B>G?(D.sortIndex=B,e(u,D),t(l)===null&&D===t(u)&&(v?(_(M),M=-1):v=!0,j(b,B-G))):(D.sortIndex=N,e(l,D),g||m||(g=!0,X(A))),D},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(D){var q=p;return function(){var B=p;p=q;try{return D.apply(this,arguments)}finally{p=B}}}})(HR);(function(n){n.exports=HR})(gx);function VR(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}const Gs=[];function WR(n,e,t=!1,r={}){for(const s of Gs)if(VR(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,promise:n(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=Gs.indexOf(i);s!==-1&&Gs.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(Gs.push(i),!t)throw i.promise}const r9=(n,e,t)=>WR(n,e,!1,t),i9=(n,e,t)=>void WR(n,e,!0,t),s9=n=>{if(n===void 0||n.length===0)Gs.splice(0,Gs.length);else{const e=Gs.find(t=>VR(n,t.keys,t.equal));if(e){const t=Gs.indexOf(e);t!==-1&&Gs.splice(t,1)}}};var t3,n3;const GR=n=>n&&n.isOrthographicCamera,o9=n=>n&&n.hasOwnProperty("current"),Xh=typeof window<"u"&&((t3=window.document)!=null&&t3.createElement||((n3=window.navigator)==null?void 0:n3.product)==="ReactNative")?ue.exports.useLayoutEffect:ue.exports.useEffect;function jR(n){const e=ue.exports.useRef(n);return Xh(()=>void(e.current=n),[n]),e}function a9({set:n}){return Xh(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class $R extends ue.exports.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}$R.getDerivedStateFromError=()=>({error:!0});const qR="__default",l9=n=>n&&!!n.memoized&&!!n.changes;function XR(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const af=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Sn={obj:n=>n===Object(n)&&!Sn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Sn.str(n)||Sn.num(n))return n===e;const s=Sn.obj(n);if(s&&r==="reference")return n===e;const o=Sn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;for(a in i?e:n)if(n[a]!==e[a])return!1;if(Sn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function u9(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function c9(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function mu(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function yx(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const r3=/-\d+$/;function a_(n,e,t){if(Sn.str(t)){if(r3.test(t)){const s=t.replace(r3,""),{target:o,key:a}=yx(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=yx(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function i3(n,e,t){var r,i;if(Sn.str(t)){const{target:s,key:o}=yx(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function YR(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var f;const d=(f=n==null?void 0:n.__r3f)!=null?f:{},p=Object.entries(i),m=[];if(u){const v=Object.keys(l);for(let y=0;y<v.length;y++)i.hasOwnProperty(v[y])||p.unshift([v[y],qR+"remove"])}p.forEach(([v,y])=>{var _;if((_=n.__r3f)!=null&&_.primitive&&v==="object"||Sn.equ(y,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return m.push([v,y,!0,[]]);let x=[];v.includes("-")&&(x=v.split("-")),m.push([v,y,!1,x]);for(const w in i){const b=i[w];w.startsWith(`${v}-`)&&m.push([w,b,!1,w.split("-")])}});const g={...i};return d.memoizedProps&&d.memoizedProps.args&&(g.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(g.attach=d.memoizedProps.attach),{memoized:g,changes:m}}function l_(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=l9(e)?e:YR(n,e),f=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let m=0;m<u.length;m++){let[g,v,y,_]=u[m],x=n,w=x[g];if(_.length&&(w=_.reduce((b,A)=>b[A],n),!(w&&w.set))){const[b,...A]=_.reverse();x=A.reverse().reduce((E,C)=>E[C],n),g=b}if(v===qR+"remove")if(w&&w.constructor){var d;v=new w.constructor(...(d=l.args)!=null?d:[])}else if(x.constructor){var p;const b=new x.constructor(...(p=x.__r3f.memoizedProps.args)!=null?p:[]);v=b[w],b.dispose&&b.dispose()}else v=0;if(y)v?s.handlers[g]=v:delete s.handlers[g],s.eventCount=Object.keys(s.handlers).length;else if(w&&w.set&&(w.copy||w instanceof ol)){if(Array.isArray(v))w.fromArray?w.fromArray(v):w.set(...v);else if(w.copy&&v&&v.constructor&&w.constructor.name===v.constructor.name)w.copy(v);else if(v!==void 0){const b=w instanceof Ye;!b&&w.setScalar?w.setScalar(v):w instanceof ol&&v instanceof ol?w.mask=v.mask:w.set(v),!("ColorManagement"in _g)&&!a.linear&&b&&w.convertSRGBToLinear()}}else x[g]=v,!a.linear&&x[g]instanceof bn&&(x[g].encoding=tn);gu(n)}if(s.parent&&a.internal&&n.raycast&&f!==s.eventCount){const m=a.internal.interaction.indexOf(n);m>-1&&a.internal.interaction.splice(m,1),s.eventCount&&a.internal.interaction.push(n)}return u.length&&(i=n.__r3f)!=null&&i.parent&&vx(n),n}function gu(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function vx(n){n.onUpdate==null||n.onUpdate(n)}function f9(n,e){n.manual||(GR(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function h9(n,e,t){const r=t.pop(),i=t.reduce((s,o)=>s[o],n);return i[r]=e}function nm(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function d9(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Qa.exports.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Qa.exports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Qa.exports.ContinuousEventPriority;default:return Qa.exports.DefaultEventPriority}}function JR(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function p9(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{JR(t.capturedMap,e,r,i)})}function m9(n){function e(l){const{internal:u}=n.getState(),f=l.offsetX-u.initialClick[0],d=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(f*f+d*d))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(f=>{var d;return(d=u.__r3f)==null?void 0:d.handlers["onPointer"+f]}))}function r(l,u){const f=n.getState(),d=new Set,p=[],m=u?u(f.internal.interaction):f.internal.interaction;for(let _=0;_<m.length;_++){const x=af(m[_]);x&&(x.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function g(_){const x=af(_);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var w;x.events.compute==null||x.events.compute(l,x,(w=x.previousRoot)==null?void 0:w.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(_,!0):[]}let v=m.flatMap(g).sort((_,x)=>{const w=af(_.object),b=af(x.object);return!w||!b?_.distance-x.distance:b.events.priority-w.events.priority||_.distance-x.distance}).filter(_=>{const x=nm(_);return d.has(x)?!1:(d.add(x),!0)});f.events.filter&&(v=f.events.filter(v,f));for(const _ of v){let x=_.object;for(;x;){var y;(y=x.__r3f)!=null&&y.eventCount&&p.push({..._,eventObject:x}),x=x.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let _ of f.internal.capturedMap.get(l.pointerId).values())d.has(nm(_.intersection))||p.push(_.intersection);return p}function i(l,u,f,d){const p=n.getState();if(l.length){const m={stopped:!1};for(const g of l){const v=af(g.object)||p,{raycaster:y,pointer:_,camera:x,internal:w}=v,b=new Q(_.x,_.y,0).unproject(x),A=P=>{var R,O;return(R=(O=w.capturedMap.get(P))==null?void 0:O.has(g.eventObject))!=null?R:!1},E=P=>{const R={intersection:g,target:u.target};w.capturedMap.has(P)?w.capturedMap.get(P).set(g.eventObject,R):w.capturedMap.set(P,new Map([[g.eventObject,R]])),u.target.setPointerCapture(P)},C=P=>{const R=w.capturedMap.get(P);R&&JR(w.capturedMap,g.eventObject,R,P)};let M={};for(let P in u){let R=u[P];typeof R!="function"&&(M[P]=R)}let I={...g,...M,pointer:_,intersections:l,stopped:m.stopped,delta:f,unprojectedPoint:b,ray:y.ray,camera:x,stopPropagation(){const P="pointerId"in u&&w.capturedMap.get(u.pointerId);if((!P||P.has(g.eventObject))&&(I.stopped=m.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(R=>R.eventObject===g.eventObject))){const R=l.slice(0,l.indexOf(g));s([...R,g])}},target:{hasPointerCapture:A,setPointerCapture:E,releasePointerCapture:C},currentTarget:{hasPointerCapture:A,setPointerCapture:E,releasePointerCapture:C},nativeEvent:u};if(d(I),m.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const f of u.hovered.values())if(!l.length||!l.find(d=>d.object===f.object&&d.index===f.index&&d.instanceId===f.instanceId)){const p=f.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(nm(f)),p!=null&&p.eventCount){const g={...f,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,u){for(let f=0;f<u.length;f++){const d=u[f].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:f}=n.getState();"pointerId"in u&&f.capturedMap.has(u.pointerId)&&(f.capturedMap.delete(u.pointerId),s([]))}}return function(f){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=f;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(f,m?t:void 0),_=g?e(f):0;l==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=y.map(w=>w.eventObject)),g&&!y.length&&_<=2&&(o(f,p.interaction),d&&d(f)),m&&s(y);function x(w){const b=w.eventObject,A=b.__r3f,E=A==null?void 0:A.handlers;if(A!=null&&A.eventCount)if(m){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const C=nm(w),M=p.hovered.get(C);M?M.stopped&&w.stopPropagation():(p.hovered.set(C,w),E.onPointerOver==null||E.onPointerOver(w),E.onPointerEnter==null||E.onPointerEnter(w))}E.onPointerMove==null||E.onPointerMove(w)}else{const C=E[l];C?(!g||p.initialHits.includes(b))&&(o(f,p.interaction.filter(M=>!p.initialHits.includes(M))),C(w)):g&&p.initialHits.includes(b)&&o(f,p.interaction.filter(M=>!p.initialHits.includes(M)))}}i(y,f,_,x)}}return{handlePointer:a}}let _x={},ZR=n=>void(_x={..._x,...n});function g9(n,e){function t(f,{args:d=[],attach:p,...m},g){let v=`${f[0].toUpperCase()}${f.slice(1)}`,y;if(f==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=m.object;y=mu(_,{type:f,root:g,attach:p,primitive:!0})}else{const _=_x[v];if(!_)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");y=mu(new _(...d),{type:f,root:g,attach:p,memoizedProps:{args:d}})}return y.__r3f.attach===void 0&&(y instanceof ft?y.__r3f.attach="geometry":y instanceof or&&(y.__r3f.attach="material")),v!=="inject"&&l_(y,m),y}function r(f,d){let p=!1;if(d){var m,g;(m=d.__r3f)!=null&&m.attach?a_(f,d,d.__r3f.attach):d.isObject3D&&f.isObject3D&&(f.add(d),p=!0),p||(g=f.__r3f)==null||g.objects.push(d),d.__r3f||mu(d,{}),d.__r3f.parent=f,vx(d),gu(d)}}function i(f,d,p){let m=!1;if(d){var g,v;if((g=d.__r3f)!=null&&g.attach)a_(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){d.parent=f,d.dispatchEvent({type:"added"});const y=f.children.filter(x=>x!==d),_=y.indexOf(p);f.children=[...y.slice(0,_),d,...y.slice(_)],m=!0}m||(v=f.__r3f)==null||v.objects.push(d),d.__r3f||mu(d,{}),d.__r3f.parent=f,vx(d),gu(d)}}function s(f,d,p=!1){f&&[...f].forEach(m=>o(d,m,p))}function o(f,d,p){if(d){var m,g,v;if(d.__r3f&&(d.__r3f.parent=null),(m=f.__r3f)!=null&&m.objects&&(f.__r3f.objects=f.__r3f.objects.filter(b=>b!==d)),(g=d.__r3f)!=null&&g.attach)i3(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){var y;f.remove(d),(y=d.__r3f)!=null&&y.root&&p9(d.__r3f.root,d)}const x=(v=d.__r3f)==null?void 0:v.primitive,w=p===void 0?d.dispose!==null&&!x:p;if(!x){var _;s((_=d.__r3f)==null?void 0:_.objects,d,w),s(d.children,d,w)}d.__r3f&&(delete d.__r3f.root,delete d.__r3f.objects,delete d.__r3f.handlers,delete d.__r3f.memoizedProps,x||delete d.__r3f),w&&d.dispose&&d.type!=="Scene"&&gx.exports.unstable_scheduleCallback(gx.exports.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),gu(f)}}function a(f,d,p,m){var g;const v=(g=f.__r3f)==null?void 0:g.parent;if(!v)return;const y=t(d,p,f.__r3f.root);if(f.children){for(const _ of f.children)_.__r3f&&r(y,_);f.children=f.children.filter(_=>!_.__r3f)}f.__r3f.objects.forEach(_=>r(y,_)),f.__r3f.objects=[],o(v,f),r(v,y),y.raycast&&y.__r3f.eventCount&&y.__r3f.root.getState().internal.interaction.push(y),[m,m.alternate].forEach(_=>{_!==null&&(_.stateNode=y,_.ref&&(typeof _.ref=="function"?_.ref(y):_.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:n9({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,d)=>{if(!d)return;const p=f.getState().scene;p.__r3f&&(p.__r3f.root=f,r(p,d))},removeChildFromContainer:(f,d)=>{d&&o(f.getState().scene,d)},insertInContainerBefore:(f,d,p)=>{if(!d||!p)return;const m=f.getState().scene;m.__r3f&&i(m,d,p)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var d;const p=(d=f==null?void 0:f.__r3f)!=null?d:{};return Boolean(p.handlers)},prepareUpdate(f,d,p,m){if(f.__r3f.primitive&&m.object&&m.object!==f)return[!0];{const{args:g=[],children:v,...y}=m,{args:_=[],children:x,...w}=p;if(!Array.isArray(g))throw new Error("R3F: the args prop must be an array!");if(g.some((A,E)=>A!==_[E]))return[!0];const b=YR(f,y,w,!0);return b.changes.length?[!1,b]:null}},commitUpdate(f,[d,p],m,g,v,y){d?a(f,m,v,y):l_(f,p)},commitMount(f,d,p,m){var g;const v=(g=f.__r3f)!=null?g:{};f.raycast&&v.handlers&&v.eventCount&&f.__r3f.root.getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>mu(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var d;const{attach:p,parent:m}=(d=f.__r3f)!=null?d:{};p&&m&&i3(m,f,p),f.isObject3D&&(f.visible=!1),gu(f)},unhideInstance(f,d){var p;const{attach:m,parent:g}=(p=f.__r3f)!=null?p:{};m&&g&&a_(g,f,m),(f.isObject3D&&d.visible==null||d.visible)&&(f.visible=!0),gu(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Qa.exports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Sn.fun(performance.now)?performance.now:Sn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Sn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Sn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:l_}}const QR=n=>!!(n!=null&&n.render),KR=ue.exports.createContext(null),y9=(n,e)=>{const t=QV((a,l)=>{const u=new Q,f=new Q,d=new Q;function p(_=l().camera,x=f,w=l().size){const{width:b,height:A,top:E,left:C}=w,M=b/A;x instanceof Q?d.copy(x):d.set(...x);const I=_.getWorldPosition(u).distanceTo(d);if(GR(_))return{width:b/_.zoom,height:A/_.zoom,top:E,left:C,factor:1,distance:I,aspect:M};{const P=_.fov*Math.PI/180,R=2*Math.tan(P/2)*I,O=R*(b/A);return{width:O,height:R,top:E,left:C,factor:b/O,distance:I,aspect:M}}}let m;const g=_=>a(x=>({performance:{...x.performance,current:_}})),v=new be;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(_=1)=>n(l(),_),advance:(_,x)=>e(_,x,l()),legacy:!1,linear:!1,flat:!1,scene:mu(new AS),controls:null,clock:new qS,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=l();m&&clearTimeout(m),_.performance.current!==_.performance.min&&g(_.performance.min),m=setTimeout(()=>g(l().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:_=>a(x=>({...x,events:{...x.events,..._}})),setSize:(_,x,w,b,A)=>{const E=l().camera,C={width:_,height:x,top:b||0,left:A||0,updateStyle:w};a(M=>({size:C,viewport:{...M.viewport,...p(E,f,C)}}))},setDpr:_=>a(x=>{const w=XR(_);return{viewport:{...x.viewport,dpr:w,initialDpr:x.viewport.initialDpr||w}}}),setFrameloop:(_="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,_!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:ue.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,x,w)=>{const b=l().internal;return b.priority=b.priority+(x>0?1:0),b.subscribers.push({ref:_,priority:x,store:w}),b.subscribers=b.subscribers.sort((A,E)=>A.priority-E.priority),()=>{const A=l().internal;A!=null&&A.subscribers&&(A.priority=A.priority-(x>0?1:0),A.subscribers=A.subscribers.filter(E=>E.ref!==_))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:f,set:d}=t.getState();(l!==i||u.dpr!==s)&&(i=l,s=u.dpr,f9(a,l),f.setPixelRatio(u.dpr),f.setSize(l.width,l.height,l.updateStyle)),a!==o&&(o=a,d(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let rm,v9=new Set,_9=new Set,x9=new Set;function u_(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function lf(n,e){switch(n){case"before":return u_(v9,e);case"after":return u_(_9,e);case"tail":return u_(x9,e)}}let c_,f_;function h_(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),c_=e.internal.subscribers,rm=0;rm<c_.length;rm++)f_=c_[rm],f_.ref.current(f_.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function w9(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,lf("before",l);for(const f of n.values()){var u;i=f.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(t+=h_(l,i))}if(lf("after",l),t===0)return lf("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var f;if(!l)return n.forEach(d=>o(d.store.getState()),u);(f=l.gl.xr)!=null&&f.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,f,d){if(u&&lf("before",l),f)h_(l,f,d);else for(const p of n.values())h_(l,p.store.getState());u&&lf("after",l)}return{loop:s,invalidate:o,advance:a}}function eL(){const n=ue.exports.useContext(KR);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Tr(n=t=>t,e){return eL()(n,e)}function L0(n,e=0){const t=eL(),r=t.getState().internal.subscribe,i=jR(n);return Xh(()=>r(i,e,t),[e,r,t]),null}function tL(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,u9(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function ZS(n,e,t,r){const i=Array.isArray(e)?e:[e],s=r9(tL(t,r),[n,...i],{equal:Sn.equ});return Array.isArray(e)?s:s[0]}ZS.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return i9(tL(t),[n,...r])};ZS.clear=function(n,e){const t=Array.isArray(e)?e:[e];return s9([n,...t])};const nc=new Map,{invalidate:s3,advance:o3}=w9(nc),{reconciler:xg,applyProps:im}=g9(nc,d9),cu={objects:"shallow",strict:!1},S9=(n,e)=>{const t=typeof n=="function"?n(e):n;return QR(t)?t:new CS({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function b9(n){return n instanceof HTMLCanvasElement}function M9(n,e){if(e)return e;if(b9(n)&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}return{width:0,height:0,top:0,left:0}}function E9(n){const e=nc.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||y9(s3,o3),o=t||xg.createContainer(s,Qa.exports.ConcurrentRoot,null,!1,null,"",i,null);e||nc.set(n,{fiber:o,store:s});let a,l=!1;return{configure(u={}){let{gl:f,size:d,events:p,onCreated:m,shadows:g=!1,linear:v=!1,flat:y=!1,legacy:_=!1,orthographic:x=!1,frameloop:w="always",dpr:b=[1,2],performance:A,raycaster:E,camera:C,onPointerMissed:M}=u,I=s.getState(),P=I.gl;I.gl||I.set({gl:P=S9(f,n)});let R=I.raycaster;R||I.set({raycaster:R=new FR});const{params:O,...F}=E||{};if(Sn.equ(F,R,cu)||im(R,{...F}),Sn.equ(O,R.params,cu)||im(R,{params:{...R.params,...O}}),!I.camera){const j=C instanceof Dh,D=j?C:x?new _s(0,0,0,0,.1,1e3):new nn(75,0,.1,1e3);j||(D.position.z=5,C&&im(D,C),C!=null&&C.rotation||D.lookAt(0,0,0)),I.set({camera:D})}if(!I.xr){const j=(B,G)=>{const N=s.getState();N.frameloop!=="never"&&o3(B,!0,N,G)},D=()=>{const B=s.getState();B.gl.xr.enabled=B.gl.xr.isPresenting,B.gl.xr.setAnimationLoop(B.gl.xr.isPresenting?j:null),B.gl.xr.isPresenting||s3(B)},q={connect(){const B=s.getState().gl;B.xr.addEventListener("sessionstart",D),B.xr.addEventListener("sessionend",D)},disconnect(){const B=s.getState().gl;B.xr.removeEventListener("sessionstart",D),B.xr.removeEventListener("sessionend",D)}};P.xr&&q.connect(),I.set({xr:q})}if(P.shadowMap){const j=Sn.boo(g);if(j&&P.shadowMap.enabled!==g||!Sn.equ(g,P.shadowMap,cu)){const D=P.shadowMap.enabled;P.shadowMap.enabled=!!g,j?P.shadowMap.type=hS:Object.assign(P.shadowMap,g),D!==P.shadowMap.enabled&&(P.shadowMap.needsUpdate=!0)}}"ColorManagement"in _g&&h9(_g,_,["ColorManagement","legacyMode"]);const H=v?ro:tn,$=y?Xi:mS;P.outputEncoding!==H&&(P.outputEncoding=H),P.toneMapping!==$&&(P.toneMapping=$),I.legacy!==_&&I.set(()=>({legacy:_})),I.linear!==v&&I.set(()=>({linear:v})),I.flat!==y&&I.set(()=>({flat:y})),f&&!Sn.fun(f)&&!QR(f)&&!Sn.equ(f,P,cu)&&im(P,f),p&&!I.events.handlers&&I.set({events:p(s)}),b&&I.viewport.dpr!==XR(b)&&I.setDpr(b);const X=M9(n,d);return Sn.equ(X,I.size,cu)||I.setSize(X.width,X.height,X.updateStyle,X.top,X.left),I.frameloop!==w&&I.setFrameloop(w),I.onPointerMissed||I.set({onPointerMissed:M}),A&&!Sn.equ(A,I.performance,cu)&&I.set(j=>({performance:{...j.performance,...A}})),a=m,l=!0,this},render(u){return l||this.configure(),xg.updateContainer(ue.exports.createElement(C9,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){nL(n)}}}function C9({store:n,children:e,onCreated:t,rootElement:r}){return Xh(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),ue.exports.createElement(KR.Provider,{value:n},e)}function nL(n,e){const t=nc.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),xg.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),c9(i),nc.delete(n),e&&e(n)}catch{}},500)})}}xg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ue.exports.version});function xx(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var f=Date.now()-o;f<e&&f>=0?r=setTimeout(l,e-f):(r=null,t||(a=n.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var f=t&&!r;return r||(r=setTimeout(l,e)),f&&(a=n.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}xx.debounce=xx;var a3=xx;function A9(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=ue.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=ue.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,f=e?typeof e=="number"?e:e.resize:null,d=ue.exports.useRef(!1);ue.exports.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,g]=ue.exports.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:w,top:b,width:A,height:E,bottom:C,right:M,x:I,y:P}=l.current.element.getBoundingClientRect(),R={left:w,top:b,width:A,height:E,bottom:C,right:M,x:I,y:P};l.current.element instanceof HTMLElement&&i&&(R.height=l.current.element.offsetHeight,R.width=l.current.element.offsetWidth),Object.freeze(R),d.current&&!R9(l.current.lastBounds,R)&&a(l.current.lastBounds=R)};return[x,f?a3(x,f):x,u?a3(x,u):x]},[a,i,u,f]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",g,{capture:!0,passive:!0})))}const _=x=>{!x||x===l.current.element||(v(),l.current.element=x,l.current.scrollContainers=rL(x),y())};return P9(g,Boolean(t)),T9(m),ue.exports.useEffect(()=>{v(),y()},[t,g,m]),ue.exports.useEffect(()=>v,[]),[_,o,p]}function T9(n){ue.exports.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function P9(n,e){ue.exports.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function rL(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...rL(n.parentElement)]}const I9=["x","y","top","bottom","left","right","width","height"],R9=(n,e)=>I9.every(t=>n[t]===e[t]);var L9=Object.defineProperty,O9=Object.defineProperties,k9=Object.getOwnPropertyDescriptors,l3=Object.getOwnPropertySymbols,D9=Object.prototype.hasOwnProperty,N9=Object.prototype.propertyIsEnumerable,u3=(n,e,t)=>e in n?L9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,c3=(n,e)=>{for(var t in e||(e={}))D9.call(e,t)&&u3(n,t,e[t]);if(l3)for(var t of l3(e))N9.call(e,t)&&u3(n,t,e[t]);return n},F9=(n,e)=>O9(n,k9(e));function QS(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=QS(r,e,t);if(i)return i;r=e?null:r.sibling}}function iL(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const KS=iL(ue.exports.createContext(null));class sL extends ue.exports.Component{render(){return ue.exports.createElement(KS.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:z9,ReactCurrentDispatcher:B9}=ue.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function U9(){const n=ue.exports.useContext(KS);if(!n)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ue.exports.useId();return ue.exports.useMemo(()=>{var r;return(r=z9.current)!=null?r:QS(n,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}function H9(){var n;const e=U9(),t=ue.exports.useMemo(()=>[],[]),r=ue.exports.useMemo(()=>new WeakMap,[]);t.splice(0,t.length),QS(e,!0,i=>{var s;const o=(s=i.type)==null?void 0:s._context;o&&o!==KS&&t.push(iL(o))});for(const i of t){const s=(n=B9.current)==null?void 0:n.readContext(i);r.set(i,s)}return ue.exports.useMemo(()=>t.reduce((i,s)=>o=>ue.exports.createElement(i,null,ue.exports.createElement(s.Provider,F9(c3({},o),{value:r.get(s)}))),i=>ue.exports.createElement(sL,c3({},i))),[])}const d_={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function V9(n){const{handlePointer:e}=m9(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(d_).reduce((t,r)=>({...t,[r]:e(r)}),{}),connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=d_[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=d_[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const W9=ue.exports.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=V9,eventSource:a,eventPrefix:l,shadows:u,linear:f,flat:d,legacy:p,orthographic:m,frameloop:g,dpr:v,performance:y,raycaster:_,camera:x,onPointerMissed:w,onCreated:b,...A},E){ue.exports.useMemo(()=>ZR(_g),[]);const C=H9(),[M,I]=A9({scroll:!0,debounce:{scroll:50,resize:0},...r}),P=ue.exports.useRef(null),R=ue.exports.useRef(null),[O,F]=ue.exports.useState(null);ue.exports.useImperativeHandle(E,()=>P.current);const H=jR(w),[$,X]=ue.exports.useState(!1),[j,D]=ue.exports.useState(!1);if($)throw $;if(j)throw j;const q=ue.exports.useRef(null);I.width>0&&I.height>0&&O&&(q.current||(q.current=E9(O)),q.current.configure({gl:s,events:o,shadows:u,linear:f,flat:d,legacy:p,orthographic:m,frameloop:g,dpr:v,performance:y,raycaster:_,camera:x,size:I,onPointerMissed:(...G)=>H.current==null?void 0:H.current(...G),onCreated:G=>{G.events.connect==null||G.events.connect(a?o9(a)?a.current:a:R.current),l&&G.setEvents({compute:(N,U)=>{const k=N[l+"X"],W=N[l+"Y"];U.pointer.set(k/U.size.width*2-1,-(W/U.size.height)*2+1),U.raycaster.setFromCamera(U.pointer,U.camera)}}),b==null||b(G)}}),q.current.render(ue.exports.createElement(C,null,ue.exports.createElement($R,{set:D},ue.exports.createElement(ue.exports.Suspense,{fallback:ue.exports.createElement(a9,{set:X})},e))))),Xh(()=>{F(P.current)},[]),ue.exports.useEffect(()=>{if(O)return()=>nL(O)},[O]);const B=a?"none":"auto";return ue.exports.createElement("div",ra({ref:R,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:B,...i}},A),ue.exports.createElement("div",{ref:M,style:{width:"100%",height:"100%"}},ue.exports.createElement("canvas",{ref:P,style:{display:"block"}},t)))}),oL=ue.exports.forwardRef(function(e,t){return ue.exports.createElement(sL,null,ue.exports.createElement(W9,ra({},e,{ref:t})))}),Yh=new Q,eb=new Q,G9=new Q;function j9(n,e,t){const r=Yh.setFromMatrixPosition(n.matrixWorld);r.project(e);const i=t.width/2,s=t.height/2;return[r.x*i+i,-(r.y*s)+s]}function $9(n,e){const t=Yh.setFromMatrixPosition(n.matrixWorld),r=eb.setFromMatrixPosition(e.matrixWorld),i=t.sub(r),s=e.getWorldDirection(G9);return i.angleTo(s)>Math.PI/2}function q9(n,e,t,r){const i=Yh.setFromMatrixPosition(n.matrixWorld),s=i.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function X9(n,e){if(e instanceof _s)return e.zoom;if(e instanceof nn){const t=Yh.setFromMatrixPosition(n.matrixWorld),r=eb.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=t.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function Y9(n,e,t){if(e instanceof nn||e instanceof _s){const r=Yh.setFromMatrixPosition(n.matrixWorld),i=eb.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const wx=n=>Math.abs(n)<1e-10?0:n;function aL(n,e,t=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=wx(e[i]*n.elements[i])+(i!==15?",":")");return t+r}const J9=(n=>e=>aL(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),Z9=(n=>(e,t)=>aL(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]),Jh=ue.exports.forwardRef(({children:n,eps:e=.001,style:t,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:u=!1,transform:f=!1,occlude:d,onOcclude:p,zIndexRange:m=[16777271,0],calculatePosition:g=j9,as:v="div",wrapperClass:y,pointerEvents:_="auto",...x},w)=>{const{gl:b,camera:A,scene:E,size:C,raycaster:M,events:I}=Tr(),[P]=ue.exports.useState(()=>document.createElement(v)),R=ue.exports.useRef(),O=ue.exports.useRef(null),F=ue.exports.useRef(0),H=ue.exports.useRef([0,0]),$=ue.exports.useRef(null),X=ue.exports.useRef(null),j=(a==null?void 0:a.current)||I.connected||b.domElement.parentNode;ue.exports.useLayoutEffect(()=>{if(O.current){const G=R.current=YT(P);if(E.updateMatrixWorld(),f)P.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const N=g(O.current,A,C);P.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${N[0]}px,${N[1]}px,0);transform-origin:0 0;`}return j&&(i?j.prepend(P):j.appendChild(P)),()=>{j&&j.removeChild(P),G.unmount()}}},[j,f]),ue.exports.useLayoutEffect(()=>{y&&(P.className=y)},[y]);const D=ue.exports.useMemo(()=>f?{position:"absolute",top:0,left:0,width:C.width,height:C.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-C.height/2,left:-C.width/2,width:C.width,height:C.height},...t},[t,s,o,C,f]),q=ue.exports.useMemo(()=>({position:"absolute",pointerEvents:_}),[_]);ue.exports.useLayoutEffect(()=>{if(f){var G;(G=R.current)==null||G.render(ue.exports.createElement("div",{ref:$,style:D},ue.exports.createElement("div",{ref:X,style:q},ue.exports.createElement("div",{ref:w,className:r,style:t,children:n}))))}else{var N;(N=R.current)==null||N.render(ue.exports.createElement("div",{ref:w,style:D,className:r,children:n}))}});const B=ue.exports.useRef(!0);return L0(()=>{if(O.current){A.updateMatrixWorld(),O.current.updateWorldMatrix(!0,!1);const G=f?H.current:g(O.current,A,C);if(f||Math.abs(F.current-A.zoom)>e||Math.abs(H.current[0]-G[0])>e||Math.abs(H.current[1]-G[1])>e){const N=$9(O.current,A);let U=!1;typeof d=="boolean"?d===!0&&(U=[E]):Array.isArray(d)&&(U=d.map(W=>W.current));const k=B.current;if(U){const W=q9(O.current,A,M,U);B.current=W&&!N}else B.current=!N;if(k!==B.current&&(p?p(!B.current):P.style.display=B.current?"block":"none"),P.style.zIndex=`${Y9(O.current,A,m)}`,f){const[W,V]=[C.width/2,C.height/2],J=A.projectionMatrix.elements[5]*V,{isOrthographicCamera:re,top:Se,left:pe,bottom:we,right:se}=A,ce=J9(A.matrixWorldInverse),ge=re?`scale(${J})translate(${wx(-(se+pe)/2)}px,${wx((Se+we)/2)}px)`:`translateZ(${J}px)`;let ye=O.current.matrixWorld;u&&(ye=A.matrixWorldInverse.clone().transpose().copyPosition(ye).scale(O.current.scale),ye.elements[3]=ye.elements[7]=ye.elements[11]=0,ye.elements[15]=1),P.style.width=C.width+"px",P.style.height=C.height+"px",P.style.perspective=re?"":`${J}px`,$.current&&X.current&&($.current.style.transform=`${ge}${ce}translate(${W}px,${V}px)`,X.current.style.transform=Z9(ye,1/((l||10)/400)))}else{const W=l===void 0?1:X9(O.current,A)*l;P.style.transform=`translate3d(${G[0]}px,${G[1]}px,0) scale(${W})`}H.current=G,F.current=A.zoom}}}),ue.exports.createElement("group",ra({},x,{ref:O}))});function Q9(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function fh(n){return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(n)}function K9(n,e){if(fh(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(fh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function eW(n){var e=K9(n,"string");return fh(e)==="symbol"?e:String(e)}function gt(n,e,t){return e=eW(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const tW=(n,e)=>{const t=n[0].index!==null,r=new Set(Object.keys(n[0].attributes)),i=new Set(Object.keys(n[0].morphAttributes)),s={},o={},a=n[0].morphTargetsRelative,l=new ft;let u=0;if(n.forEach((f,d)=>{let p=0;if(t!==(f.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let m in f.attributes){if(!r.has(m))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+'. All geometries must have compatible attributes; make sure "'+m+'" attribute exists among all geometries, or in none of them.'),null;s[m]===void 0&&(s[m]=[]),s[m].push(f.attributes[m]),p++}if(p!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". Make sure all geometries have the same number of attributes."),null;if(a!==f.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let m in f.morphAttributes){if(!i.has(m))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+".  .morphAttributes must be consistent throughout all geometries."),null;o[m]===void 0&&(o[m]=[]),o[m].push(f.morphAttributes[m])}if(l.userData.mergedUserData=l.userData.mergedUserData||[],l.userData.mergedUserData.push(f.userData),e){let m;if(f.index)m=f.index.count;else if(f.attributes.position!==void 0)m=f.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". The geometry must have either an index or a position attribute"),null;l.addGroup(u,m,d),u+=m}}),t){let f=0;const d=[];n.forEach(p=>{const m=p.index;for(let g=0;g<m.count;++g)d.push(m.getX(g)+f);f+=p.attributes.position.count}),l.setIndex(d)}for(let f in s){const d=f3(s[f]);if(!d)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+f+" attribute."),null;l.setAttribute(f,d)}for(let f in o){const d=o[f][0].length;if(d===0)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[f]=[];for(let p=0;p<d;++p){const m=[];for(let v=0;v<o[f].length;++v)m.push(o[f][v][p]);const g=f3(m);if(!g)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+f+" morphAttribute."),null;l.morphAttributes[f].push(g)}}return l},f3=n=>{let e,t,r,i=0;if(n.forEach(s=>{if(e===void 0&&(e=s.array.constructor),e!==s.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(t===void 0&&(t=s.itemSize),t!==s.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(r===void 0&&(r=s.normalized),r!==s.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;i+=s.array.length}),e&&t){const s=new e(i);let o=0;return n.forEach(a=>{s.set(a.array,o),o+=a.array.length}),new Tt(s,t,r)}},h3=(n,e)=>(n%e+e)%e;let nW=class extends bs{constructor(e,t){super(),gt(this,"object",void 0),gt(this,"domElement",void 0),gt(this,"enabled",!0),gt(this,"target",new Q),gt(this,"minDistance",0),gt(this,"maxDistance",1/0),gt(this,"minZoom",0),gt(this,"maxZoom",1/0),gt(this,"minPolarAngle",0),gt(this,"maxPolarAngle",Math.PI),gt(this,"minAzimuthAngle",-1/0),gt(this,"maxAzimuthAngle",1/0),gt(this,"enableDamping",!1),gt(this,"dampingFactor",.05),gt(this,"enableZoom",!0),gt(this,"zoomSpeed",1),gt(this,"enableRotate",!0),gt(this,"rotateSpeed",1),gt(this,"enablePan",!0),gt(this,"panSpeed",1),gt(this,"screenSpacePanning",!0),gt(this,"keyPanSpeed",7),gt(this,"autoRotate",!1),gt(this,"autoRotateSpeed",2),gt(this,"reverseOrbit",!1),gt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),gt(this,"mouseButtons",{LEFT:Ua.ROTATE,MIDDLE:Ua.DOLLY,RIGHT:Ua.PAN}),gt(this,"touches",{ONE:Ha.ROTATE,TWO:Ha.DOLLY_PAN}),gt(this,"target0",void 0),gt(this,"position0",void 0),gt(this,"zoom0",void 0),gt(this,"_domElementKeyEvents",null),gt(this,"getPolarAngle",void 0),gt(this,"getAzimuthalAngle",void 0),gt(this,"setPolarAngle",void 0),gt(this,"setAzimuthalAngle",void 0),gt(this,"getDistance",void 0),gt(this,"listenToKeyEvents",void 0),gt(this,"saveState",void 0),gt(this,"reset",void 0),gt(this,"update",void 0),gt(this,"connect",void 0),gt(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof nn?this.object.zoom:1,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=ae=>{let Ee=h3(ae,2*Math.PI),Fe=f.phi;Fe<0&&(Fe+=2*Math.PI),Ee<0&&(Ee+=2*Math.PI);let Ue=Math.abs(Ee-Fe);2*Math.PI-Ue<Ue&&(Ee<Fe?Ee+=2*Math.PI:Fe+=2*Math.PI),d.phi=Ee-Fe,r.update()},this.setAzimuthalAngle=ae=>{let Ee=h3(ae,2*Math.PI),Fe=f.theta;Fe<0&&(Fe+=2*Math.PI),Ee<0&&(Ee+=2*Math.PI);let Ue=Math.abs(Ee-Fe);2*Math.PI-Ue<Ue&&(Ee<Fe?Ee+=2*Math.PI:Fe+=2*Math.PI),d.theta=Ee-Fe,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ae=>{ae.addEventListener("keydown",he),this._domElementKeyEvents=ae},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof nn?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof nn&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const ae=new Q,Ee=new xr().setFromUnitVectors(e.up,new Q(0,1,0)),Fe=Ee.clone().invert(),Ue=new Q,lt=new xr,wt=2*Math.PI;return function(){const fe=r.object.position;ae.copy(fe).sub(r.target),ae.applyQuaternion(Ee),f.setFromVector3(ae),r.autoRotate&&l===a.NONE&&O(P()),r.enableDamping?(f.theta+=d.theta*r.dampingFactor,f.phi+=d.phi*r.dampingFactor):(f.theta+=d.theta,f.phi+=d.phi);let Ce=r.minAzimuthAngle,ie=r.maxAzimuthAngle;return isFinite(Ce)&&isFinite(ie)&&(Ce<-Math.PI?Ce+=wt:Ce>Math.PI&&(Ce-=wt),ie<-Math.PI?ie+=wt:ie>Math.PI&&(ie-=wt),Ce<=ie?f.theta=Math.max(Ce,Math.min(ie,f.theta)):f.theta=f.theta>(Ce+ie)/2?Math.max(Ce,f.theta):Math.min(ie,f.theta)),f.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,f.phi)),f.makeSafe(),f.radius*=p,f.radius=Math.max(r.minDistance,Math.min(r.maxDistance,f.radius)),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),ae.setFromSpherical(f),ae.applyQuaternion(Fe),fe.copy(r.target).add(ae),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),m.set(0,0,0)),p=1,g||Ue.distanceToSquared(r.object.position)>u||8*(1-lt.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Ue.copy(r.object.position),lt.copy(r.object.quaternion),g=!1,!0):!1}})(),this.connect=ae=>{ae===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=ae,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",We),r.domElement.addEventListener("pointerdown",Z),r.domElement.addEventListener("pointercancel",Ge),r.domElement.addEventListener("wheel",Y)},this.dispose=()=>{var ae,Ee,Fe,Ue,lt,wt;(ae=r.domElement)===null||ae===void 0||ae.removeEventListener("contextmenu",We),(Ee=r.domElement)===null||Ee===void 0||Ee.removeEventListener("pointerdown",Z),(Fe=r.domElement)===null||Fe===void 0||Fe.removeEventListener("pointercancel",Ge),(Ue=r.domElement)===null||Ue===void 0||Ue.removeEventListener("wheel",Y),(lt=r.domElement)===null||lt===void 0||lt.ownerDocument.removeEventListener("pointermove",Me),(wt=r.domElement)===null||wt===void 0||wt.ownerDocument.removeEventListener("pointerup",Ne),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",he)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,f=new mx,d=new mx;let p=1;const m=new Q;let g=!1;const v=new be,y=new be,_=new be,x=new be,w=new be,b=new be,A=new be,E=new be,C=new be,M=[],I={};function P(){return 2*Math.PI/60/60*r.autoRotateSpeed}function R(){return Math.pow(.95,r.zoomSpeed)}function O(ae){r.reverseOrbit?d.theta+=ae:d.theta-=ae}function F(ae){r.reverseOrbit?d.phi+=ae:d.phi-=ae}const H=(()=>{const ae=new Q;return function(Fe,Ue){ae.setFromMatrixColumn(Ue,0),ae.multiplyScalar(-Fe),m.add(ae)}})(),$=(()=>{const ae=new Q;return function(Fe,Ue){r.screenSpacePanning===!0?ae.setFromMatrixColumn(Ue,1):(ae.setFromMatrixColumn(Ue,0),ae.crossVectors(r.object.up,ae)),ae.multiplyScalar(Fe),m.add(ae)}})(),X=(()=>{const ae=new Q;return function(Fe,Ue){const lt=r.domElement;if(lt&&r.object instanceof nn&&r.object.isPerspectiveCamera){const wt=r.object.position;ae.copy(wt).sub(r.target);let Zt=ae.length();Zt*=Math.tan(r.object.fov/2*Math.PI/180),H(2*Fe*Zt/lt.clientHeight,r.object.matrix),$(2*Ue*Zt/lt.clientHeight,r.object.matrix)}else lt&&r.object instanceof _s&&r.object.isOrthographicCamera?(H(Fe*(r.object.right-r.object.left)/r.object.zoom/lt.clientWidth,r.object.matrix),$(Ue*(r.object.top-r.object.bottom)/r.object.zoom/lt.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function j(ae){r.object instanceof nn&&r.object.isPerspectiveCamera?p/=ae:r.object instanceof _s&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*ae)),r.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function D(ae){r.object instanceof nn&&r.object.isPerspectiveCamera?p*=ae:r.object instanceof _s&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/ae)),r.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function q(ae){v.set(ae.clientX,ae.clientY)}function B(ae){A.set(ae.clientX,ae.clientY)}function G(ae){x.set(ae.clientX,ae.clientY)}function N(ae){y.set(ae.clientX,ae.clientY),_.subVectors(y,v).multiplyScalar(r.rotateSpeed);const Ee=r.domElement;Ee&&(O(2*Math.PI*_.x/Ee.clientHeight),F(2*Math.PI*_.y/Ee.clientHeight)),v.copy(y),r.update()}function U(ae){E.set(ae.clientX,ae.clientY),C.subVectors(E,A),C.y>0?j(R()):C.y<0&&D(R()),A.copy(E),r.update()}function k(ae){w.set(ae.clientX,ae.clientY),b.subVectors(w,x).multiplyScalar(r.panSpeed),X(b.x,b.y),x.copy(w),r.update()}function W(ae){ae.deltaY<0?D(R()):ae.deltaY>0&&j(R()),r.update()}function V(ae){let Ee=!1;switch(ae.code){case r.keys.UP:X(0,r.keyPanSpeed),Ee=!0;break;case r.keys.BOTTOM:X(0,-r.keyPanSpeed),Ee=!0;break;case r.keys.LEFT:X(r.keyPanSpeed,0),Ee=!0;break;case r.keys.RIGHT:X(-r.keyPanSpeed,0),Ee=!0;break}Ee&&(ae.preventDefault(),r.update())}function J(){if(M.length==1)v.set(M[0].pageX,M[0].pageY);else{const ae=.5*(M[0].pageX+M[1].pageX),Ee=.5*(M[0].pageY+M[1].pageY);v.set(ae,Ee)}}function re(){if(M.length==1)x.set(M[0].pageX,M[0].pageY);else{const ae=.5*(M[0].pageX+M[1].pageX),Ee=.5*(M[0].pageY+M[1].pageY);x.set(ae,Ee)}}function Se(){const ae=M[0].pageX-M[1].pageX,Ee=M[0].pageY-M[1].pageY,Fe=Math.sqrt(ae*ae+Ee*Ee);A.set(0,Fe)}function pe(){r.enableZoom&&Se(),r.enablePan&&re()}function we(){r.enableZoom&&Se(),r.enableRotate&&J()}function se(ae){if(M.length==1)y.set(ae.pageX,ae.pageY);else{const Fe=et(ae),Ue=.5*(ae.pageX+Fe.x),lt=.5*(ae.pageY+Fe.y);y.set(Ue,lt)}_.subVectors(y,v).multiplyScalar(r.rotateSpeed);const Ee=r.domElement;Ee&&(O(2*Math.PI*_.x/Ee.clientHeight),F(2*Math.PI*_.y/Ee.clientHeight)),v.copy(y)}function ce(ae){if(M.length==1)w.set(ae.pageX,ae.pageY);else{const Ee=et(ae),Fe=.5*(ae.pageX+Ee.x),Ue=.5*(ae.pageY+Ee.y);w.set(Fe,Ue)}b.subVectors(w,x).multiplyScalar(r.panSpeed),X(b.x,b.y),x.copy(w)}function ge(ae){const Ee=et(ae),Fe=ae.pageX-Ee.x,Ue=ae.pageY-Ee.y,lt=Math.sqrt(Fe*Fe+Ue*Ue);E.set(0,lt),C.set(0,Math.pow(E.y/A.y,r.zoomSpeed)),j(C.y),A.copy(E)}function ye(ae){r.enableZoom&&ge(ae),r.enablePan&&ce(ae)}function te(ae){r.enableZoom&&ge(ae),r.enableRotate&&se(ae)}function Z(ae){if(r.enabled!==!1){if(M.length===0){var Ee,Fe;(Ee=r.domElement)===null||Ee===void 0||Ee.ownerDocument.addEventListener("pointermove",Me),(Fe=r.domElement)===null||Fe===void 0||Fe.ownerDocument.addEventListener("pointerup",Ne)}Ke(ae),ae.pointerType==="touch"?Le(ae):nt(ae)}}function Me(ae){r.enabled!==!1&&(ae.pointerType==="touch"?ze(ae):K(ae))}function Ne(ae){if($e(ae),M.length===0){var Ee,Fe,Ue;(Ee=r.domElement)===null||Ee===void 0||Ee.releasePointerCapture(ae.pointerId),(Fe=r.domElement)===null||Fe===void 0||Fe.ownerDocument.removeEventListener("pointermove",Me),(Ue=r.domElement)===null||Ue===void 0||Ue.ownerDocument.removeEventListener("pointerup",Ne)}r.dispatchEvent(o),l=a.NONE}function Ge(ae){$e(ae)}function nt(ae){let Ee;switch(ae.button){case 0:Ee=r.mouseButtons.LEFT;break;case 1:Ee=r.mouseButtons.MIDDLE;break;case 2:Ee=r.mouseButtons.RIGHT;break;default:Ee=-1}switch(Ee){case Ua.DOLLY:if(r.enableZoom===!1)return;B(ae),l=a.DOLLY;break;case Ua.ROTATE:if(ae.ctrlKey||ae.metaKey||ae.shiftKey){if(r.enablePan===!1)return;G(ae),l=a.PAN}else{if(r.enableRotate===!1)return;q(ae),l=a.ROTATE}break;case Ua.PAN:if(ae.ctrlKey||ae.metaKey||ae.shiftKey){if(r.enableRotate===!1)return;q(ae),l=a.ROTATE}else{if(r.enablePan===!1)return;G(ae),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function K(ae){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;N(ae);break;case a.DOLLY:if(r.enableZoom===!1)return;U(ae);break;case a.PAN:if(r.enablePan===!1)return;k(ae);break}}function Y(ae){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(ae.preventDefault(),r.dispatchEvent(s),W(ae),r.dispatchEvent(o))}function he(ae){r.enabled===!1||r.enablePan===!1||V(ae)}function Le(ae){switch(Oe(ae),M.length){case 1:switch(r.touches.ONE){case Ha.ROTATE:if(r.enableRotate===!1)return;J(),l=a.TOUCH_ROTATE;break;case Ha.PAN:if(r.enablePan===!1)return;re(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Ha.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;pe(),l=a.TOUCH_DOLLY_PAN;break;case Ha.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;we(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function ze(ae){switch(Oe(ae),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;se(ae),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;ce(ae),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ye(ae),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;te(ae),r.update();break;default:l=a.NONE}}function We(ae){r.enabled!==!1&&ae.preventDefault()}function Ke(ae){M.push(ae)}function $e(ae){delete I[ae.pointerId];for(let Ee=0;Ee<M.length;Ee++)if(M[Ee].pointerId==ae.pointerId){M.splice(Ee,1);return}}function Oe(ae){let Ee=I[ae.pointerId];Ee===void 0&&(Ee=new be,I[ae.pointerId]=Ee),Ee.set(ae.pageX,ae.pageY)}function et(ae){const Ee=ae.pointerId===M[0].pointerId?M[1]:M[0];return I[Ee.pointerId]}t!==void 0&&this.connect(t),this.update()}};class tb extends Vr{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,t,r,i){const s=this,o=new xs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(a))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this;function r(N,U){if(N.nodeType!==1)return;const k=b(N);let W=!0,V=null;switch(N.nodeName){case"svg":break;case"style":s(N);break;case"g":U=g(N,U);break;case"path":U=g(N,U),N.hasAttribute("d")&&(V=i(N));break;case"rect":U=g(N,U),V=l(N);break;case"polygon":U=g(N,U),V=u(N);break;case"polyline":U=g(N,U),V=f(N);break;case"circle":U=g(N,U),V=d(N);break;case"ellipse":U=g(N,U),V=p(N);break;case"line":U=g(N,U),V=m(N);break;case"defs":W=!1;break;case"use":U=g(N,U);const J=N.href.baseVal.substring(1),re=N.viewportElement.getElementById(J);re?r(re,U):console.warn("SVGLoader: 'use node' references non-existent node id: "+J);break}if(V&&(U.fill!==void 0&&U.fill!=="none"&&V.color.setStyle(U.fill),E(V,q),P.push(V),V.userData={node:N,style:U}),W){const J=N.childNodes;for(let re=0;re<J.length;re++)r(J[re],U)}k&&(O.pop(),O.length>0?q.copy(O[O.length-1]):q.identity())}function i(N){const U=new Po,k=new be,W=new be,V=new be;let J=!0,re=!1;const pe=N.getAttribute("d").match(/[a-df-z][^a-df-z]*/gi);for(let we=0,se=pe.length;we<se;we++){const ce=pe[we],ge=ce.charAt(0),ye=ce.substr(1).trim();J===!0&&(re=!0,J=!1);let te;switch(ge){case"M":te=y(ye);for(let Z=0,Me=te.length;Z<Me;Z+=2)k.x=te[Z+0],k.y=te[Z+1],W.x=k.x,W.y=k.y,Z===0?U.moveTo(k.x,k.y):U.lineTo(k.x,k.y),Z===0&&V.copy(k);break;case"H":te=y(ye);for(let Z=0,Me=te.length;Z<Me;Z++)k.x=te[Z],W.x=k.x,W.y=k.y,U.lineTo(k.x,k.y),Z===0&&re===!0&&V.copy(k);break;case"V":te=y(ye);for(let Z=0,Me=te.length;Z<Me;Z++)k.y=te[Z],W.x=k.x,W.y=k.y,U.lineTo(k.x,k.y),Z===0&&re===!0&&V.copy(k);break;case"L":te=y(ye);for(let Z=0,Me=te.length;Z<Me;Z+=2)k.x=te[Z+0],k.y=te[Z+1],W.x=k.x,W.y=k.y,U.lineTo(k.x,k.y),Z===0&&re===!0&&V.copy(k);break;case"C":te=y(ye);for(let Z=0,Me=te.length;Z<Me;Z+=6)U.bezierCurveTo(te[Z+0],te[Z+1],te[Z+2],te[Z+3],te[Z+4],te[Z+5]),W.x=te[Z+2],W.y=te[Z+3],k.x=te[Z+4],k.y=te[Z+5],Z===0&&re===!0&&V.copy(k);break;case"S":te=y(ye);for(let Z=0,Me=te.length;Z<Me;Z+=4)U.bezierCurveTo(v(k.x,W.x),v(k.y,W.y),te[Z+0],te[Z+1],te[Z+2],te[Z+3]),W.x=te[Z+0],W.y=te[Z+1],k.x=te[Z+2],k.y=te[Z+3],Z===0&&re===!0&&V.copy(k);break;case"Q":te=y(ye);for(let Z=0,Me=te.length;Z<Me;Z+=4)U.quadraticCurveTo(te[Z+0],te[Z+1],te[Z+2],te[Z+3]),W.x=te[Z+0],W.y=te[Z+1],k.x=te[Z+2],k.y=te[Z+3],Z===0&&re===!0&&V.copy(k);break;case"T":te=y(ye);for(let Z=0,Me=te.length;Z<Me;Z+=2){const Ne=v(k.x,W.x),Ge=v(k.y,W.y);U.quadraticCurveTo(Ne,Ge,te[Z+0],te[Z+1]),W.x=Ne,W.y=Ge,k.x=te[Z+0],k.y=te[Z+1],Z===0&&re===!0&&V.copy(k)}break;case"A":te=y(ye,[3,4],7);for(let Z=0,Me=te.length;Z<Me;Z+=7){if(te[Z+5]==k.x&&te[Z+6]==k.y)continue;const Ne=k.clone();k.x=te[Z+5],k.y=te[Z+6],W.x=k.x,W.y=k.y,o(U,te[Z],te[Z+1],te[Z+2],te[Z+3],te[Z+4],Ne,k),Z===0&&re===!0&&V.copy(k)}break;case"m":te=y(ye);for(let Z=0,Me=te.length;Z<Me;Z+=2)k.x+=te[Z+0],k.y+=te[Z+1],W.x=k.x,W.y=k.y,Z===0?U.moveTo(k.x,k.y):U.lineTo(k.x,k.y),Z===0&&V.copy(k);break;case"h":te=y(ye);for(let Z=0,Me=te.length;Z<Me;Z++)k.x+=te[Z],W.x=k.x,W.y=k.y,U.lineTo(k.x,k.y),Z===0&&re===!0&&V.copy(k);break;case"v":te=y(ye);for(let Z=0,Me=te.length;Z<Me;Z++)k.y+=te[Z],W.x=k.x,W.y=k.y,U.lineTo(k.x,k.y),Z===0&&re===!0&&V.copy(k);break;case"l":te=y(ye);for(let Z=0,Me=te.length;Z<Me;Z+=2)k.x+=te[Z+0],k.y+=te[Z+1],W.x=k.x,W.y=k.y,U.lineTo(k.x,k.y),Z===0&&re===!0&&V.copy(k);break;case"c":te=y(ye);for(let Z=0,Me=te.length;Z<Me;Z+=6)U.bezierCurveTo(k.x+te[Z+0],k.y+te[Z+1],k.x+te[Z+2],k.y+te[Z+3],k.x+te[Z+4],k.y+te[Z+5]),W.x=k.x+te[Z+2],W.y=k.y+te[Z+3],k.x+=te[Z+4],k.y+=te[Z+5],Z===0&&re===!0&&V.copy(k);break;case"s":te=y(ye);for(let Z=0,Me=te.length;Z<Me;Z+=4)U.bezierCurveTo(v(k.x,W.x),v(k.y,W.y),k.x+te[Z+0],k.y+te[Z+1],k.x+te[Z+2],k.y+te[Z+3]),W.x=k.x+te[Z+0],W.y=k.y+te[Z+1],k.x+=te[Z+2],k.y+=te[Z+3],Z===0&&re===!0&&V.copy(k);break;case"q":te=y(ye);for(let Z=0,Me=te.length;Z<Me;Z+=4)U.quadraticCurveTo(k.x+te[Z+0],k.y+te[Z+1],k.x+te[Z+2],k.y+te[Z+3]),W.x=k.x+te[Z+0],W.y=k.y+te[Z+1],k.x+=te[Z+2],k.y+=te[Z+3],Z===0&&re===!0&&V.copy(k);break;case"t":te=y(ye);for(let Z=0,Me=te.length;Z<Me;Z+=2){const Ne=v(k.x,W.x),Ge=v(k.y,W.y);U.quadraticCurveTo(Ne,Ge,k.x+te[Z+0],k.y+te[Z+1]),W.x=Ne,W.y=Ge,k.x=k.x+te[Z+0],k.y=k.y+te[Z+1],Z===0&&re===!0&&V.copy(k)}break;case"a":te=y(ye,[3,4],7);for(let Z=0,Me=te.length;Z<Me;Z+=7){if(te[Z+5]==0&&te[Z+6]==0)continue;const Ne=k.clone();k.x+=te[Z+5],k.y+=te[Z+6],W.x=k.x,W.y=k.y,o(U,te[Z],te[Z+1],te[Z+2],te[Z+3],te[Z+4],Ne,k),Z===0&&re===!0&&V.copy(k)}break;case"Z":case"z":U.currentPath.autoClose=!0,U.currentPath.curves.length>0&&(k.copy(V),U.currentPath.currentPoint.copy(k),J=!0);break;default:console.warn(ce)}re=!1}return U}function s(N){if(!(!N.sheet||!N.sheet.cssRules||!N.sheet.cssRules.length))for(let U=0;U<N.sheet.cssRules.length;U++){const k=N.sheet.cssRules[U];if(k.type!==1)continue;const W=k.selectorText.split(/,/gm).filter(Boolean).map(V=>V.trim());for(let V=0;V<W.length;V++)R[W[V]]=Object.assign(R[W[V]]||{},k.style)}}function o(N,U,k,W,V,J,re,Se){if(U==0||k==0){N.lineTo(Se.x,Se.y);return}W=W*Math.PI/180,U=Math.abs(U),k=Math.abs(k);const pe=(re.x-Se.x)/2,we=(re.y-Se.y)/2,se=Math.cos(W)*pe+Math.sin(W)*we,ce=-Math.sin(W)*pe+Math.cos(W)*we;let ge=U*U,ye=k*k;const te=se*se,Z=ce*ce,Me=te/ge+Z/ye;if(Me>1){const Ke=Math.sqrt(Me);U=Ke*U,k=Ke*k,ge=U*U,ye=k*k}const Ne=ge*Z+ye*te,Ge=(ge*ye-Ne)/Ne;let nt=Math.sqrt(Math.max(0,Ge));V===J&&(nt=-nt);const K=nt*U*ce/k,Y=-nt*k*se/U,he=Math.cos(W)*K-Math.sin(W)*Y+(re.x+Se.x)/2,Le=Math.sin(W)*K+Math.cos(W)*Y+(re.y+Se.y)/2,ze=a(1,0,(se-K)/U,(ce-Y)/k),We=a((se-K)/U,(ce-Y)/k,(-se-K)/U,(-ce-Y)/k)%(Math.PI*2);N.currentPath.absellipse(he,Le,U,k,ze,ze+We,J===0,W)}function a(N,U,k,W){const V=N*k+U*W,J=Math.sqrt(N*N+U*U)*Math.sqrt(k*k+W*W);let re=Math.acos(Math.max(-1,Math.min(1,V/J)));return N*W-U*k<0&&(re=-re),re}function l(N){const U=w(N.getAttribute("x")||0),k=w(N.getAttribute("y")||0),W=w(N.getAttribute("rx")||N.getAttribute("ry")||0),V=w(N.getAttribute("ry")||N.getAttribute("rx")||0),J=w(N.getAttribute("width")),re=w(N.getAttribute("height")),Se=1-.551915024494,pe=new Po;return pe.moveTo(U+W,k),pe.lineTo(U+J-W,k),(W!==0||V!==0)&&pe.bezierCurveTo(U+J-W*Se,k,U+J,k+V*Se,U+J,k+V),pe.lineTo(U+J,k+re-V),(W!==0||V!==0)&&pe.bezierCurveTo(U+J,k+re-V*Se,U+J-W*Se,k+re,U+J-W,k+re),pe.lineTo(U+W,k+re),(W!==0||V!==0)&&pe.bezierCurveTo(U+W*Se,k+re,U,k+re-V*Se,U,k+re-V),pe.lineTo(U,k+V),(W!==0||V!==0)&&pe.bezierCurveTo(U,k+V*Se,U+W*Se,k,U+W,k),pe}function u(N){function U(J,re,Se){const pe=w(re),we=w(Se);V===0?W.moveTo(pe,we):W.lineTo(pe,we),V++}const k=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,W=new Po;let V=0;return N.getAttribute("points").replace(k,U),W.currentPath.autoClose=!0,W}function f(N){function U(J,re,Se){const pe=w(re),we=w(Se);V===0?W.moveTo(pe,we):W.lineTo(pe,we),V++}const k=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)[,|\s]([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,W=new Po;let V=0;return N.getAttribute("points").replace(k,U),W.currentPath.autoClose=!1,W}function d(N){const U=w(N.getAttribute("cx")||0),k=w(N.getAttribute("cy")||0),W=w(N.getAttribute("r")||0),V=new ea;V.absarc(U,k,W,0,Math.PI*2);const J=new Po;return J.subPaths.push(V),J}function p(N){const U=w(N.getAttribute("cx")||0),k=w(N.getAttribute("cy")||0),W=w(N.getAttribute("rx")||0),V=w(N.getAttribute("ry")||0),J=new ea;J.absellipse(U,k,W,V,0,Math.PI*2);const re=new Po;return re.subPaths.push(J),re}function m(N){const U=w(N.getAttribute("x1")||0),k=w(N.getAttribute("y1")||0),W=w(N.getAttribute("x2")||0),V=w(N.getAttribute("y2")||0),J=new Po;return J.moveTo(U,k),J.lineTo(W,V),J.currentPath.autoClose=!1,J}function g(N,U){U=Object.assign({},U);let k={};if(N.hasAttribute("class")){const re=N.getAttribute("class").split(/\s/).filter(Boolean).map(Se=>Se.trim());for(let Se=0;Se<re.length;Se++)k=Object.assign(k,R["."+re[Se]])}N.hasAttribute("id")&&(k=Object.assign(k,R["#"+N.getAttribute("id")]));function W(re,Se,pe){pe===void 0&&(pe=function(se){return se.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),se}),N.hasAttribute(re)&&(U[Se]=pe(N.getAttribute(re))),k[re]&&(U[Se]=pe(k[re])),N.style&&N.style[re]!==""&&(U[Se]=pe(N.style[re]))}function V(re){return Math.max(0,Math.min(1,w(re)))}function J(re){return Math.max(0,w(re))}return W("fill","fill"),W("fill-opacity","fillOpacity",V),W("fill-rule","fillRule"),W("opacity","opacity",V),W("stroke","stroke"),W("stroke-opacity","strokeOpacity",V),W("stroke-width","strokeWidth",J),W("stroke-linejoin","strokeLineJoin"),W("stroke-linecap","strokeLineCap"),W("stroke-miterlimit","strokeMiterLimit",J),W("visibility","visibility"),U}function v(N,U){return N-(U-N)}function y(N,U,k){if(typeof N!="string")throw new TypeError("Invalid input: "+typeof N);const W={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},V=0,J=1,re=2,Se=3;let pe=V,we=!0,se="",ce="";const ge=[];function ye(Ne,Ge,nt){const K=new SyntaxError('Unexpected character "'+Ne+'" at index '+Ge+".");throw K.partial=nt,K}function te(){se!==""&&(ce===""?ge.push(Number(se)):ge.push(Number(se)*Math.pow(10,Number(ce)))),se="",ce=""}let Z;const Me=N.length;for(let Ne=0;Ne<Me;Ne++){if(Z=N[Ne],Array.isArray(U)&&U.includes(ge.length%k)&&W.FLAGS.test(Z)){pe=J,se=Z,te();continue}if(pe===V){if(W.WHITESPACE.test(Z))continue;if(W.DIGIT.test(Z)||W.SIGN.test(Z)){pe=J,se=Z;continue}if(W.POINT.test(Z)){pe=re,se=Z;continue}W.COMMA.test(Z)&&(we&&ye(Z,Ne,ge),we=!0)}if(pe===J){if(W.DIGIT.test(Z)){se+=Z;continue}if(W.POINT.test(Z)){se+=Z,pe=re;continue}if(W.EXP.test(Z)){pe=Se;continue}W.SIGN.test(Z)&&se.length===1&&W.SIGN.test(se[0])&&ye(Z,Ne,ge)}if(pe===re){if(W.DIGIT.test(Z)){se+=Z;continue}if(W.EXP.test(Z)){pe=Se;continue}W.POINT.test(Z)&&se[se.length-1]==="."&&ye(Z,Ne,ge)}if(pe===Se){if(W.DIGIT.test(Z)){ce+=Z;continue}if(W.SIGN.test(Z)){if(ce===""){ce+=Z;continue}ce.length===1&&W.SIGN.test(ce)&&ye(Z,Ne,ge)}}W.WHITESPACE.test(Z)?(te(),pe=V,we=!1):W.COMMA.test(Z)?(te(),pe=V,we=!0):W.SIGN.test(Z)?(te(),pe=J,se=Z):W.POINT.test(Z)?(te(),pe=re,se=Z):ye(Z,Ne,ge)}return te(),ge}const _=["mm","cm","in","pt","pc","px"],x={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function w(N){let U="px";if(typeof N=="string"||N instanceof String)for(let W=0,V=_.length;W<V;W++){const J=_[W];if(N.endsWith(J)){U=J,N=N.substring(0,N.length-J.length);break}}let k;return U==="px"&&t.defaultUnit!=="px"?k=x.in[t.defaultUnit]/t.defaultDPI:(k=x[U][t.defaultUnit],k<0&&(k=x[U].in*t.defaultDPI)),k*parseFloat(N)}function b(N){if(!(N.hasAttribute("transform")||N.nodeName==="use"&&(N.hasAttribute("x")||N.hasAttribute("y"))))return null;const U=A(N);return O.length>0&&U.premultiply(O[O.length-1]),q.copy(U),O.push(U),U}function A(N){const U=new Tn,k=F;if(N.nodeName==="use"&&(N.hasAttribute("x")||N.hasAttribute("y"))){const W=w(N.getAttribute("x")),V=w(N.getAttribute("y"));U.translate(W,V)}if(N.hasAttribute("transform")){const W=N.getAttribute("transform").split(")");for(let V=W.length-1;V>=0;V--){const J=W[V].trim();if(J==="")continue;const re=J.indexOf("("),Se=J.length;if(re>0&&re<Se){const pe=J.substr(0,re),we=y(J.substr(re+1,Se-re-1));switch(k.identity(),pe){case"translate":if(we.length>=1){const se=we[0];let ce=se;we.length>=2&&(ce=we[1]),k.translate(se,ce)}break;case"rotate":if(we.length>=1){let se=0,ce=0,ge=0;se=-we[0]*Math.PI/180,we.length>=3&&(ce=we[1],ge=we[2]),H.identity().translate(-ce,-ge),$.identity().rotate(se),X.multiplyMatrices($,H),H.identity().translate(ce,ge),k.multiplyMatrices(H,X)}break;case"scale":if(we.length>=1){const se=we[0];let ce=se;we.length>=2&&(ce=we[1]),k.scale(se,ce)}break;case"skewX":we.length===1&&k.set(1,Math.tan(we[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":we.length===1&&k.set(1,0,0,Math.tan(we[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":we.length===6&&k.set(we[0],we[2],we[4],we[1],we[3],we[5],0,0,1);break}}U.premultiply(k)}}return U}function E(N,U){function k(J){D.set(J.x,J.y,1).applyMatrix3(U),J.set(D.x,D.y)}const W=C(U),V=N.subPaths;for(let J=0,re=V.length;J<re;J++){const pe=V[J].curves;for(let we=0;we<pe.length;we++){const se=pe[we];se.isLineCurve?(k(se.v1),k(se.v2)):se.isCubicBezierCurve?(k(se.v0),k(se.v1),k(se.v2),k(se.v3)):se.isQuadraticBezierCurve?(k(se.v0),k(se.v1),k(se.v2)):se.isEllipseCurve&&(W&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),j.set(se.aX,se.aY),k(j),se.aX=j.x,se.aY=j.y,se.xRadius*=M(U),se.yRadius*=I(U))}}}function C(N){return N.elements[1]!==0||N.elements[3]!==0}function M(N){const U=N.elements;return Math.sqrt(U[0]*U[0]+U[1]*U[1])}function I(N){const U=N.elements;return Math.sqrt(U[3]*U[3]+U[4]*U[4])}const P=[],R={},O=[],F=new Tn,H=new Tn,$=new Tn,X=new Tn,j=new be,D=new Q,q=new Tn,B=new DOMParser().parseFromString(e,"image/svg+xml");return r(B.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:P,xml:B.documentElement}}static createShapes(e){const r={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},i={loc:r.ORIGIN,t:0};function s(y,_,x,w){const b=y.x,A=_.x,E=x.x,C=w.x,M=y.y,I=_.y,P=x.y,R=w.y,O=(C-E)*(M-P)-(R-P)*(b-E),F=(A-b)*(M-P)-(I-M)*(b-E),H=(R-P)*(A-b)-(C-E)*(I-M),$=O/H,X=F/H;if(H===0&&O!==0||$<=0||$>=1||X<0||X>1)return null;if(O===0&&H===0){for(let j=0;j<2;j++)if(o(j===0?x:w,y,_),i.loc==r.ORIGIN){const D=j===0?x:w;return{x:D.x,y:D.y,t:i.t}}else if(i.loc==r.BETWEEN){const D=+(b+i.t*(A-b)).toPrecision(10),q=+(M+i.t*(I-M)).toPrecision(10);return{x:D,y:q,t:i.t}}return null}else{for(let q=0;q<2;q++)if(o(q===0?x:w,y,_),i.loc==r.ORIGIN){const B=q===0?x:w;return{x:B.x,y:B.y,t:i.t}}const j=+(b+$*(A-b)).toPrecision(10),D=+(M+$*(I-M)).toPrecision(10);return{x:j,y:D,t:$}}}function o(y,_,x){const w=x.x-_.x,b=x.y-_.y,A=y.x-_.x,E=y.y-_.y,C=w*E-A*b;if(y.x===_.x&&y.y===_.y){i.loc=r.ORIGIN,i.t=0;return}if(y.x===x.x&&y.y===x.y){i.loc=r.DESTINATION,i.t=1;return}if(C<-Number.EPSILON){i.loc=r.LEFT;return}if(C>Number.EPSILON){i.loc=r.RIGHT;return}if(w*A<0||b*E<0){i.loc=r.BEHIND;return}if(Math.sqrt(w*w+b*b)<Math.sqrt(A*A+E*E)){i.loc=r.BEYOND;return}let M;w!==0?M=A/w:M=E/b,i.loc=r.BETWEEN,i.t=M}function a(y,_){const x=[],w=[];for(let b=1;b<y.length;b++){const A=y[b-1],E=y[b];for(let C=1;C<_.length;C++){const M=_[C-1],I=_[C],P=s(A,E,M,I);P!==null&&x.find(R=>R.t<=P.t+Number.EPSILON&&R.t>=P.t-Number.EPSILON)===void 0&&(x.push(P),w.push(new be(P.x,P.y)))}}return w}function l(y,_,x){const w=new be;_.getCenter(w);const b=[];return x.forEach(A=>{A.boundingBox.containsPoint(w)&&a(y,A.points).forEach(C=>{b.push({identifier:A.identifier,isCW:A.isCW,point:C})})}),b.sort((A,E)=>A.point.x-E.point.x),b}function u(y,_,x,w,b){(b==null||b==="")&&(b="nonzero");const A=new be;y.boundingBox.getCenter(A);const E=[new be(x,A.y),new be(w,A.y)],C=l(E,y.boundingBox,_);C.sort((F,H)=>F.point.x-H.point.x);const M=[],I=[];C.forEach(F=>{F.identifier===y.identifier?M.push(F):I.push(F)});const P=M[0].point.x,R=[];let O=0;for(;O<I.length&&I[O].point.x<P;)R.length>0&&R[R.length-1]===I[O].identifier?R.pop():R.push(I[O].identifier),O++;if(R.push(y.identifier),b==="evenodd"){const F=R.length%2===0,H=R[R.length-2];return{identifier:y.identifier,isHole:F,for:H}}else if(b==="nonzero"){let F=!0,H=null,$=null;for(let X=0;X<R.length;X++){const j=R[X];F?($=_[j].isCW,F=!1,H=j):$!==_[j].isCW&&($=_[j].isCW,F=!0)}return{identifier:y.identifier,isHole:F,for:H}}else console.warn('fill-rule: "'+b+'" is currently not implemented.')}let f=0,d=999999999,p=-999999999,m=e.subPaths.map(y=>{const _=y.getPoints();let x=-999999999,w=999999999,b=-999999999,A=999999999;for(let E=0;E<_.length;E++){const C=_[E];C.y>x&&(x=C.y),C.y<w&&(w=C.y),C.x>b&&(b=C.x),C.x<A&&(A=C.x)}return p<=b&&(p=b+1),d>=A&&(d=A-1),{curves:y.curves,points:_,isCW:Ji.isClockWise(_),identifier:f++,boundingBox:new zR(new be(A,w),new be(b,x))}});m=m.filter(y=>y.points.length>1);const g=m.map(y=>u(y,m,d,p,e.userData.style.fillRule)),v=[];return m.forEach(y=>{if(!g[y.identifier].isHole){const x=new Yi;x.curves=y.curves,g.filter(b=>b.isHole&&b.for===y.identifier).forEach(b=>{const A=m[b.identifier],E=new ea;E.curves=A.curves,x.holes.push(E)}),v.push(x)}}),v}static getStrokeStyle(e,t,r,i,s){return e=e!==void 0?e:1,t=t!==void 0?t:"#000",r=r!==void 0?r:"miter",i=i!==void 0?i:"butt",s=s!==void 0?s:4,{strokeColor:t,strokeWidth:e,strokeLineJoin:r,strokeLineCap:i,strokeMiterLimit:s}}static pointsToStroke(e,t,r,i){const s=[],o=[],a=[];if(tb.pointsToStrokeWithBuffers(e,t,r,i,s,o,a)===0)return null;const l=new ft;return l.setAttribute("position",new Qe(s,3)),l.setAttribute("normal",new Qe(o,3)),l.setAttribute("uv",new Qe(a,2)),l}static pointsToStrokeWithBuffers(e,t,r,i,s,o,a,l){const u=new be,f=new be,d=new be,p=new be,m=new be,g=new be,v=new be,y=new be,_=new be,x=new be,w=new be,b=new be,A=new be,E=new be,C=new be,M=new be,I=new be;r=r!==void 0?r:12,i=i!==void 0?i:.001,l=l!==void 0?l:0,e=ce(e);const P=e.length;if(P<2)return 0;const R=e[0].equals(e[P-1]);let O,F=e[0],H;const $=t.strokeWidth/2,X=1/(P-1);let j=0,D,q,B,G,N=!1,U=0,k=l*3,W=l*2;V(e[0],e[1],u).multiplyScalar($),y.copy(e[0]).sub(u),_.copy(e[0]).add(u),x.copy(y),w.copy(_);for(let ge=1;ge<P;ge++){O=e[ge],ge===P-1?R?H=e[1]:H=void 0:H=e[ge+1];const ye=u;if(V(F,O,ye),d.copy(ye).multiplyScalar($),b.copy(O).sub(d),A.copy(O).add(d),D=j+X,q=!1,H!==void 0){V(O,H,f),d.copy(f).multiplyScalar($),E.copy(O).sub(d),C.copy(O).add(d),B=!0,d.subVectors(H,F),ye.dot(d)<0&&(B=!1),ge===1&&(N=B),d.subVectors(H,O),d.normalize();const te=Math.abs(ye.dot(d));if(te!==0){const Z=$/te;d.multiplyScalar(-Z),p.subVectors(O,F),m.copy(p).setLength(Z).add(d),M.copy(m).negate();const Me=m.length(),Ne=p.length();p.divideScalar(Ne),g.subVectors(H,O);const Ge=g.length();switch(g.divideScalar(Ge),p.dot(M)<Ne&&g.dot(M)<Ge&&(q=!0),I.copy(m).add(O),M.add(O),G=!1,q?B?(C.copy(M),A.copy(M)):(E.copy(M),b.copy(M)):Se(),t.strokeLineJoin){case"bevel":pe(B,q,D);break;case"round":we(B,q),B?re(O,b,E,D,0):re(O,C,A,D,1);break;case"miter":case"miter-clip":default:const nt=$*t.strokeMiterLimit/Me;if(nt<1)if(t.strokeLineJoin!=="miter-clip"){pe(B,q,D);break}else we(B,q),B?(g.subVectors(I,b).multiplyScalar(nt).add(b),v.subVectors(I,E).multiplyScalar(nt).add(E),J(b,D,0),J(g,D,0),J(O,D,.5),J(O,D,.5),J(g,D,0),J(v,D,0),J(O,D,.5),J(v,D,0),J(E,D,0)):(g.subVectors(I,A).multiplyScalar(nt).add(A),v.subVectors(I,C).multiplyScalar(nt).add(C),J(A,D,1),J(g,D,1),J(O,D,.5),J(O,D,.5),J(g,D,1),J(v,D,1),J(O,D,.5),J(v,D,1),J(C,D,1));else q?(B?(J(_,j,1),J(y,j,0),J(I,D,0),J(_,j,1),J(I,D,0),J(M,D,1)):(J(_,j,1),J(y,j,0),J(I,D,1),J(y,j,0),J(M,D,0),J(I,D,1)),B?E.copy(I):C.copy(I)):B?(J(b,D,0),J(I,D,0),J(O,D,.5),J(O,D,.5),J(I,D,0),J(E,D,0)):(J(A,D,1),J(I,D,1),J(O,D,.5),J(O,D,.5),J(I,D,1),J(C,D,1)),G=!0;break}}else Se()}else Se();!R&&ge===P-1&&se(e[0],x,w,B,!0,j),j=D,F=O,y.copy(E),_.copy(C)}if(!R)se(O,b,A,B,!1,D);else if(q&&s){let ge=I,ye=M;N!==B&&(ge=M,ye=I),B?(G||N)&&(ye.toArray(s,0*3),ye.toArray(s,3*3),G&&ge.toArray(s,1*3)):(G||!N)&&(ye.toArray(s,1*3),ye.toArray(s,3*3),G&&ge.toArray(s,0*3))}return U;function V(ge,ye,te){return te.subVectors(ye,ge),te.set(-te.y,te.x).normalize()}function J(ge,ye,te){s&&(s[k]=ge.x,s[k+1]=ge.y,s[k+2]=0,o&&(o[k]=0,o[k+1]=0,o[k+2]=1),k+=3,a&&(a[W]=ye,a[W+1]=te,W+=2)),U+=3}function re(ge,ye,te,Z,Me){u.copy(ye).sub(ge).normalize(),f.copy(te).sub(ge).normalize();let Ne=Math.PI;const Ge=u.dot(f);Math.abs(Ge)<1&&(Ne=Math.abs(Math.acos(Ge))),Ne/=r,d.copy(ye);for(let nt=0,K=r-1;nt<K;nt++)p.copy(d).rotateAround(ge,Ne),J(d,Z,Me),J(p,Z,Me),J(ge,Z,.5),d.copy(p);J(p,Z,Me),J(te,Z,Me),J(ge,Z,.5)}function Se(){J(_,j,1),J(y,j,0),J(b,D,0),J(_,j,1),J(b,D,1),J(A,D,0)}function pe(ge,ye,te){ye?ge?(J(_,j,1),J(y,j,0),J(b,D,0),J(_,j,1),J(b,D,0),J(M,D,1),J(b,te,0),J(E,te,0),J(M,te,.5)):(J(_,j,1),J(y,j,0),J(A,D,1),J(y,j,0),J(M,D,0),J(A,D,1),J(A,te,1),J(C,te,0),J(M,te,.5)):ge?(J(b,te,0),J(E,te,0),J(O,te,.5)):(J(A,te,1),J(C,te,0),J(O,te,.5))}function we(ge,ye){ye&&(ge?(J(_,j,1),J(y,j,0),J(b,D,0),J(_,j,1),J(b,D,0),J(M,D,1),J(b,j,0),J(O,D,.5),J(M,D,1),J(O,D,.5),J(E,j,0),J(M,D,1)):(J(_,j,1),J(y,j,0),J(A,D,1),J(y,j,0),J(M,D,0),J(A,D,1),J(A,j,1),J(M,D,0),J(O,D,.5),J(O,D,.5),J(M,D,0),J(C,j,1)))}function se(ge,ye,te,Z,Me,Ne){switch(t.strokeLineCap){case"round":Me?re(ge,te,ye,Ne,.5):re(ge,ye,te,Ne,.5);break;case"square":if(Me)u.subVectors(ye,ge),f.set(u.y,-u.x),d.addVectors(u,f).add(ge),p.subVectors(f,u).add(ge),Z?(d.toArray(s,1*3),p.toArray(s,0*3),p.toArray(s,3*3)):(d.toArray(s,1*3),d.toArray(s,3*3),p.toArray(s,0*3));else{u.subVectors(te,ge),f.set(u.y,-u.x),d.addVectors(u,f).add(ge),p.subVectors(f,u).add(ge);const Ge=s.length;Z?(d.toArray(s,Ge-1*3),p.toArray(s,Ge-2*3),p.toArray(s,Ge-4*3)):(d.toArray(s,Ge-2*3),p.toArray(s,Ge-1*3),p.toArray(s,Ge-4*3))}break}}function ce(ge){let ye=!1;for(let Z=1,Me=ge.length-1;Z<Me;Z++)if(ge[Z].distanceTo(ge[Z+1])<i){ye=!0;break}if(!ye)return ge;const te=[];te.push(ge[0]);for(let Z=1,Me=ge.length-1;Z<Me;Z++)ge[Z].distanceTo(ge[Z+1])>=i&&te.push(ge[Z]);return te.push(ge[ge.length-1]),te}}}var rW=Object.defineProperty,iW=(n,e,t)=>e in n?rW(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,jt=(n,e,t)=>(iW(n,typeof e!="symbol"?e+"":e,t),t);function p_(n,e,t,r,i){let s;if(n=n.subarray||n.slice?n:n.buffer,t=t.subarray||t.slice?t:t.buffer,n=e?n.subarray?n.subarray(e,i&&e+i):n.slice(e,i&&e+i):n,t.set)t.set(n,r);else for(s=0;s<n.length;s++)t[s+r]=n[s];return t}function sW(n){return n instanceof Float32Array?n:n instanceof ft?n.getAttribute("position").array:n.map(e=>{const t=Array.isArray(e);return e instanceof Q?[e.x,e.y,e.z]:e instanceof be?[e.x,e.y,0]:t&&e.length===3?[e[0],e[1],e[2]]:t&&e.length===2?[e[0],e[1],0]:e}).flat()}class oW extends ft{constructor(){super(),jt(this,"type","MeshLine"),jt(this,"isMeshLine",!0),jt(this,"positions",[]),jt(this,"previous",[]),jt(this,"next",[]),jt(this,"side",[]),jt(this,"width",[]),jt(this,"indices_array",[]),jt(this,"uvs",[]),jt(this,"counters",[]),jt(this,"widthCallback",null),jt(this,"_attributes"),jt(this,"_points",[]),jt(this,"points"),jt(this,"matrixWorld",new yt),Object.defineProperties(this,{points:{enumerable:!0,get(){return this._points},set(e){this.setPoints(e,this.widthCallback)}}})}setMatrixWorld(e){this.matrixWorld=e}setPoints(e,t){if(e=sW(e),this._points=e,this.widthCallback=t??null,this.positions=[],this.counters=[],e.length&&e[0]instanceof Q)for(let r=0;r<e.length;r++){const i=e[r],s=r/(e.length-1);this.positions.push(i.x,i.y,i.z),this.positions.push(i.x,i.y,i.z),this.counters.push(s),this.counters.push(s)}else for(let r=0;r<e.length;r+=3){const i=r/(e.length-1);this.positions.push(e[r],e[r+1],e[r+2]),this.positions.push(e[r],e[r+1],e[r+2]),this.counters.push(i),this.counters.push(i)}this.process()}compareV3(e,t){const r=e*6,i=t*6;return this.positions[r]===this.positions[i]&&this.positions[r+1]===this.positions[i+1]&&this.positions[r+2]===this.positions[i+2]}copyV3(e){const t=e*6;return[this.positions[t],this.positions[t+1],this.positions[t+2]]}process(){const e=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];let t,r;this.compareV3(0,e-1)?r=this.copyV3(e-2):r=this.copyV3(0),this.previous.push(r[0],r[1],r[2]),this.previous.push(r[0],r[1],r[2]);for(let i=0;i<e;i++){if(this.side.push(1),this.side.push(-1),this.widthCallback?t=this.widthCallback(i/(e-1)):t=1,this.width.push(t),this.width.push(t),this.uvs.push(i/(e-1),0),this.uvs.push(i/(e-1),1),i<e-1){r=this.copyV3(i),this.previous.push(r[0],r[1],r[2]),this.previous.push(r[0],r[1],r[2]);const s=i*2;this.indices_array.push(s,s+1,s+2),this.indices_array.push(s+2,s+1,s+3)}i>0&&(r=this.copyV3(i),this.next.push(r[0],r[1],r[2]),this.next.push(r[0],r[1],r[2]))}this.compareV3(e-1,0)?r=this.copyV3(1):r=this.copyV3(e-1),this.next.push(r[0],r[1],r[2]),this.next.push(r[0],r[1],r[2]),!this._attributes||this._attributes.position.count!==this.positions.length?this._attributes={position:new Tt(new Float32Array(this.positions),3),previous:new Tt(new Float32Array(this.previous),3),next:new Tt(new Float32Array(this.next),3),side:new Tt(new Float32Array(this.side),1),width:new Tt(new Float32Array(this.width),1),uv:new Tt(new Float32Array(this.uvs),2),index:new Tt(new Uint16Array(this.indices_array),1),counters:new Tt(new Float32Array(this.counters),1)}:(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()}advance({x:e,y:t,z:r}){const i=this._attributes.position.array,s=this._attributes.previous.array,o=this._attributes.next.array,a=i.length;p_(i,0,s,0,a),p_(i,6,i,0,a-6),i[a-6]=e,i[a-5]=t,i[a-4]=r,i[a-3]=e,i[a-2]=t,i[a-1]=r,p_(i,6,o,0,a-6),o[a-6]=e,o[a-5]=t,o[a-4]=r,o[a-3]=e,o[a-2]=t,o[a-1]=r,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0}}const aW=`
  #include <common>
  #include <logdepthbuf_pars_vertex>
  #include <fog_pars_vertex>

  attribute vec3 previous;
  attribute vec3 next;
  attribute float side;
  attribute float width;
  attribute float counters;
  
  uniform vec2 resolution;
  uniform float lineWidth;
  uniform vec3 color;
  uniform float opacity;
  uniform float sizeAttenuation;
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  vec2 fix(vec4 i, float aspect) {
    vec2 res = i.xy / i.w;
    res.x *= aspect;
  	vCounters = counters;
    return res;
  }
  
  void main() {
    float aspect = resolution.x / resolution.y;
    vColor = vec4(color, opacity);
    vUV = uv;
  
    mat4 m = projectionMatrix * modelViewMatrix;
    vec4 finalPosition = m * vec4(position, 1.0);
    vec4 prevPos = m * vec4(previous, 1.0);
    vec4 nextPos = m * vec4(next, 1.0);
  
    vec2 currentP = fix(finalPosition, aspect);
    vec2 prevP = fix(prevPos, aspect);
    vec2 nextP = fix(nextPos, aspect);
  
    float w = lineWidth * width;
  
    vec2 dir;
    if (nextP == currentP) dir = normalize(currentP - prevP);
    else if (prevP == currentP) dir = normalize(nextP - currentP);
    else {
      vec2 dir1 = normalize(currentP - prevP);
      vec2 dir2 = normalize(nextP - currentP);
      dir = normalize(dir1 + dir2);
  
      vec2 perp = vec2(-dir1.y, dir1.x);
      vec2 miter = vec2(-dir.y, dir.x);
      //w = clamp(w / dot(miter, perp), 0., 4. * lineWidth * width);
    }
  
    //vec2 normal = (cross(vec3(dir, 0.), vec3(0., 0., 1.))).xy;
    vec4 normal = vec4(-dir.y, dir.x, 0., 1.);
    normal.xy *= .5 * w;
    //normal *= projectionMatrix;
    if (sizeAttenuation == 0.) {
      normal.xy *= finalPosition.w;
      normal.xy /= (vec4(resolution, 0., 1.) * projectionMatrix).xy;
    }
  
    finalPosition.xy += normal.xy * side;
    gl_Position = finalPosition;
    #include <logdepthbuf_vertex>
    #include <fog_vertex>
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    #include <fog_vertex>
  }
`,lW=`
  #include <fog_pars_fragment>
  #include <logdepthbuf_pars_fragment>
  
  uniform sampler2D map;
  uniform sampler2D alphaMap;
  uniform float useMap;
  uniform float useAlphaMap;
  uniform float useDash;
  uniform float dashArray;
  uniform float dashOffset;
  uniform float dashRatio;
  uniform float visibility;
  uniform float alphaTest;
  uniform vec2 repeat;
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  void main() {
    #include <logdepthbuf_fragment>
    vec4 c = vColor;
    if (useMap == 1.) c *= texture2D(map, vUV * repeat);
    if (useAlphaMap == 1.) c.a *= texture2D(alphaMap, vUV * repeat).a;
    if (c.a < alphaTest) discard;
    if (useDash == 1.) {
      c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));
    }
    gl_FragColor = c;
    gl_FragColor.a *= step(vCounters, visibility);
    #include <fog_fragment>
    #include <tonemapping_fragment>
    #include <encodings_fragment>
  }
`;class uW extends Qi{constructor(e){super({uniforms:{...je.fog,lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new Ye(16777215)},opacity:{value:1},resolution:{value:new be(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new be(1,1)}},vertexShader:aW,fragmentShader:lW}),jt(this,"lineWidth"),jt(this,"map"),jt(this,"useMap"),jt(this,"alphaMap"),jt(this,"useAlphaMap"),jt(this,"color"),jt(this,"resolution"),jt(this,"sizeAttenuation"),jt(this,"dashArray"),jt(this,"dashOffset"),jt(this,"dashRatio"),jt(this,"useDash"),jt(this,"visibility"),jt(this,"repeat"),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get(){return this.uniforms.lineWidth.value},set(t){this.uniforms.lineWidth.value=t}},map:{enumerable:!0,get(){return this.uniforms.map.value},set(t){this.uniforms.map.value=t}},useMap:{enumerable:!0,get(){return this.uniforms.useMap.value},set(t){this.uniforms.useMap.value=t}},alphaMap:{enumerable:!0,get(){return this.uniforms.alphaMap.value},set(t){this.uniforms.alphaMap.value=t}},useAlphaMap:{enumerable:!0,get(){return this.uniforms.useAlphaMap.value},set(t){this.uniforms.useAlphaMap.value=t}},color:{enumerable:!0,get(){return this.uniforms.color.value},set(t){this.uniforms.color.value=t}},opacity:{enumerable:!0,get(){return this.uniforms.opacity.value},set(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get(){return this.uniforms.resolution.value},set(t){this.uniforms.resolution.value.copy(t)}},sizeAttenuation:{enumerable:!0,get(){return this.uniforms.sizeAttenuation.value},set(t){this.uniforms.sizeAttenuation.value=t}},dashArray:{enumerable:!0,get(){return this.uniforms.dashArray.value},set(t){this.uniforms.dashArray.value=t,this.useDash=t!==0?1:0}},dashOffset:{enumerable:!0,get(){return this.uniforms.dashOffset.value},set(t){this.uniforms.dashOffset.value=t}},dashRatio:{enumerable:!0,get(){return this.uniforms.dashRatio.value},set(t){this.uniforms.dashRatio.value=t}},useDash:{enumerable:!0,get(){return this.uniforms.useDash.value},set(t){this.uniforms.useDash.value=t}},visibility:{enumerable:!0,get(){return this.uniforms.visibility.value},set(t){this.uniforms.visibility.value=t}},alphaTest:{enumerable:!0,get(){return this.uniforms.alphaTest.value},set(t){this.uniforms.alphaTest.value=t}},repeat:{enumerable:!0,get(){return this.uniforms.repeat.value},set(t){this.uniforms.repeat.value.copy(t)}}}),this.setValues(e)}copy(e){return super.copy(e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.alphaMap=e.alphaMap,this.useAlphaMap=e.useAlphaMap,this.color.copy(e.color),this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.dashArray=e.dashArray,this.dashOffset=e.dashOffset,this.dashRatio=e.dashRatio,this.useDash=e.useDash,this.visibility=e.visibility,this.alphaTest=e.alphaTest,this.repeat.copy(e.repeat),this}}function cW(n,e,t){const{gl:r,size:i,viewport:s}=Tr(),o=typeof n=="number"?n:i.width*s.dpr,a=typeof e=="number"?e:i.height*s.dpr,l=(typeof n=="number"?t:n)||{},{samples:u,...f}=l,d=ue.exports.useMemo(()=>{let p;return p=new ri(o,a,{minFilter:pn,magFilter:pn,encoding:r.outputEncoding,type:ml,...f}),p.samples=u,p},[]);return ue.exports.useLayoutEffect(()=>{d.setSize(o,a),u&&(d.samples=u)},[u,d,o,a]),ue.exports.useEffect(()=>()=>d.dispose(),[]),d}const fW=n=>typeof n=="function",lL=ue.exports.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,makeDefault:r,children:i,...s},o)=>{const a=Tr(({set:y})=>y),l=Tr(({camera:y})=>y),u=Tr(({size:y})=>y),f=ue.exports.useRef(null),d=ue.exports.useRef(null),p=cW(e);ue.exports.useLayoutEffect(()=>{s.manual||(f.current.aspect=u.width/u.height)},[u,s]),ue.exports.useLayoutEffect(()=>{f.current.updateProjectionMatrix()});let m=0,g=null;const v=fW(i);return L0(y=>{v&&(t===1/0||m<t)&&(d.current.visible=!1,y.gl.setRenderTarget(p),g=y.scene.background,n&&(y.scene.background=n),y.gl.render(y.scene,f.current),y.scene.background=g,y.gl.setRenderTarget(null),d.current.visible=!0,m++)}),ue.exports.useLayoutEffect(()=>{if(r){const y=l;return a(()=>({camera:f.current})),()=>a(()=>({camera:y}))}},[f,r,a]),ue.exports.createElement(ue.exports.Fragment,null,ue.exports.createElement("perspectiveCamera",ra({ref:Q9([f,o])},s),!v&&i),ue.exports.createElement("group",{ref:d},v&&i(p.texture)))}),uL=ue.exports.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,onChange:s,onStart:o,onEnd:a,...l},u)=>{const f=Tr(b=>b.invalidate),d=Tr(b=>b.camera),p=Tr(b=>b.gl),m=Tr(b=>b.events),g=Tr(b=>b.set),v=Tr(b=>b.get),y=Tr(b=>b.performance),_=e||d,x=r||m.connected||p.domElement,w=ue.exports.useMemo(()=>new nW(_),[_]);return L0(()=>{w.enabled&&w.update()},-1),ue.exports.useEffect(()=>(w.connect(x),()=>void w.dispose()),[x,t,w,f]),ue.exports.useEffect(()=>{const b=A=>{f(),t&&y.regress(),s&&s(A)};return w.addEventListener("change",b),o&&w.addEventListener("start",o),a&&w.addEventListener("end",a),()=>{o&&w.removeEventListener("start",o),a&&w.removeEventListener("end",a),w.removeEventListener("change",b)}},[s,o,a,w,f]),ue.exports.useEffect(()=>{if(n){const b=v().controls;return g({controls:w}),()=>g({controls:b})}},[n,w]),ue.exports.createElement("primitive",ra({ref:u,object:w,enableDamping:i},l))});function hW(n){const e=n+"Geometry";return ue.exports.forwardRef(({args:t,children:r,...i},s)=>ue.exports.createElement("mesh",ra({ref:s},i),ue.exports.createElement(e,{attach:"geometry",args:t}),r))}const dW=hW("sphere");var cL={exports:{}};(function(n,e){var t=function(){var r={},i=Math.PI/180,s=180/Math.PI,o=6378137,a=20037508342789244e-9;function l(f){return Number(f)===f&&f%1!==0}function u(f){if(f=f||{},this.size=f.size||256,this.expansion=f.antimeridian===!0?2:1,!r[this.size]){var d=this.size,p=r[this.size]={};p.Bc=[],p.Cc=[],p.zc=[],p.Ac=[];for(var m=0;m<30;m++)p.Bc.push(d/360),p.Cc.push(d/(2*Math.PI)),p.zc.push(d/2),p.Ac.push(d),d*=2}this.Bc=r[this.size].Bc,this.Cc=r[this.size].Cc,this.zc=r[this.size].zc,this.Ac=r[this.size].Ac}return u.prototype.px=function(f,d){if(l(d)){var p=this.size*Math.pow(2,d),m=p/2,g=p/360,v=p/(2*Math.PI),y=p,_=Math.min(Math.max(Math.sin(i*f[1]),-.9999),.9999),x=m+f[0]*g,w=m+.5*Math.log((1+_)/(1-_))*-v;return x>y*this.expansion&&(x=y*this.expansion),w>y&&(w=y),[x,w]}else{var m=this.zc[d],_=Math.min(Math.max(Math.sin(i*f[1]),-.9999),.9999),x=Math.round(m+f[0]*this.Bc[d]),w=Math.round(m+.5*Math.log((1+_)/(1-_))*-this.Cc[d]);return x>this.Ac[d]*this.expansion&&(x=this.Ac[d]*this.expansion),w>this.Ac[d]&&(w=this.Ac[d]),[x,w]}},u.prototype.ll=function(f,d){if(l(d)){var p=this.size*Math.pow(2,d),m=p/360,g=p/(2*Math.PI),v=p/2,y=(f[1]-v)/-g,_=(f[0]-v)/m,x=s*(2*Math.atan(Math.exp(y))-.5*Math.PI);return[_,x]}else{var y=(f[1]-this.zc[d])/-this.Cc[d],_=(f[0]-this.zc[d])/this.Bc[d],x=s*(2*Math.atan(Math.exp(y))-.5*Math.PI);return[_,x]}},u.prototype.bbox=function(f,d,p,m,g){m&&(d=Math.pow(2,p)-1-d);var v=[f*this.size,(+d+1)*this.size],y=[(+f+1)*this.size,d*this.size],_=this.ll(v,p).concat(this.ll(y,p));return g==="900913"?this.convert(_,"900913"):_},u.prototype.xyz=function(f,d,p,m){m==="900913"&&(f=this.convert(f,"WGS84"));var g=[f[0],f[1]],v=[f[2],f[3]],y=this.px(g,d),_=this.px(v,d),x=[Math.floor(y[0]/this.size),Math.floor((_[0]-1)/this.size)],w=[Math.floor(_[1]/this.size),Math.floor((y[1]-1)/this.size)],b={minX:Math.min.apply(Math,x)<0?0:Math.min.apply(Math,x),minY:Math.min.apply(Math,w)<0?0:Math.min.apply(Math,w),maxX:Math.max.apply(Math,x),maxY:Math.max.apply(Math,w)};if(p){var A={minY:Math.pow(2,d)-1-b.maxY,maxY:Math.pow(2,d)-1-b.minY};b.minY=A.minY,b.maxY=A.maxY}return b},u.prototype.convert=function(f,d){return d==="900913"?this.forward(f.slice(0,2)).concat(this.forward(f.slice(2,4))):this.inverse(f.slice(0,2)).concat(this.inverse(f.slice(2,4)))},u.prototype.forward=function(f){var d=[o*f[0]*i,o*Math.log(Math.tan(Math.PI*.25+.5*f[1]*i))];return d[0]>a&&(d[0]=a),d[0]<-a&&(d[0]=-a),d[1]>a&&(d[1]=a),d[1]<-a&&(d[1]=-a),d},u.prototype.inverse=function(f){return[f[0]*s/o,(Math.PI*.5-2*Math.atan(Math.exp(-f[1]/o)))*s]},u}();n.exports=t})(cL);const pW=cL.exports,Vu=new pW,fL=156543.03392804097,Ho=20037508342789244e-9,Jt={width:1024,height:1024,segments:100};function mW(n,e,t){let i=Vu.xyz([n.minlng,n.minlat,n.maxlng,n.maxlat],18,!0),s=(i.maxX-i.minX+1)*Vu.size,o=(i.maxY-i.minY+1)*Vu.size,a=(e+Jt.width/2)*(s/Jt.width),l=(t+Jt.height/2)*(o/Jt.height);return[a,l]}function gW(n,e,t){let i=Vu.xyz([n.minlng,n.minlat,n.maxlng,n.maxlat],18,!0),s=(i.maxX-i.minX+1)*Vu.size,o=(i.maxY-i.minY+1)*Vu.size,a=e*Jt.width/s-Jt.width/2,l=t*Jt.height/o-Jt.height/2;return[a,l]}function Sx(n,e,t){let r=n*Ho/180,i=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);i=i*Ho/180;const s=fL/2**t,o=(r+Ho)/s,a=(i+Ho)/s;return[o,a]}function yW(n,e,t){const r=fL/2**t,i=n*r-Ho,s=e*r-Ho;let o=i/Ho*180,a=s/Ho*180;return a=180/Math.PI*(2*Math.atan(Math.exp(a*Math.PI/180))-Math.PI/2),[o,a]}function rc(n,e,t,r,i){let[o,a]=Sx(n.minlng,n.minlat,18),[l,u]=Sx(e,t,18),f=l-o,d=u-a,[p,m]=gW(n,f,d);return{x:p,y:m}}function vW(n,e,t){[e,t]=mW(n,e,t);let[i,s]=Sx(n.minlng,n.minlat,18),o=i+e,a=s+t,[l,u]=yW(o,a,18);return{lng:l,lat:u}}function To(n){return n*1e4}function m_(n,e,t,r,i){r=r||Jt.width,i=i||Jt.height;let s=To(n.maxlng)-To(n.minlng),o=To(n.maxlat)-To(n.minlat),a=r/s,l=i/o,u=To(e)-To(n.minlng),f=To(t)-To(n.minlat),d=u*a,p=f*l;return{x:d-r/2,y:p-i/2}}function hL(n,e,t){if(!n.vertices)return 0;let r=Math.floor(e/(Jt.width/Jt.segments))+Jt.segments*(Jt.segments-1-Math.floor(t/(Jt.height/Jt.segments)));return r<0||n.vertices.length<=r?0:n.vertices[r*3+2]}const Zh=ue.exports.createContext(),sm=Jt.segments;function _W({width:n,height:e,color:t,...r}){const s=ue.exports.useContext(Qh).model,[,o]=ue.exports.useState([]),[a,l]=ln(yP);return ue.exports.useEffect(()=>{a||o([])},[a]),it("mesh",{onDoubleClick:u=>{if(u.shiftKey&&(u.stopPropagation(),u.intersections.length>0)){let f=u.intersections[0].point,d=vW(s.bbox,f.x,f.y);o(p=>{let m=[...p,`[${d.lng}, ${d.lat}]`];return l(`[${m.join(", ")}]`),m})}},children:[oe("planeGeometry",{args:[n,e]}),oe("meshBasicMaterial",{color:t||15856629,polygonOffset:!0,polygonOffsetFactor:1})]})}function xW({levelmap:n,zoom:e,width:t,height:r,...i}){const s=ue.exports.useMemo(()=>new Ml(t,r,sm-1,sm-1),[]),o=ue.exports.useMemo(()=>{if(!Array.isArray(n)||n.length===0)return null;const a=new Float32Array(s.getAttribute("position").array),l=n.reduce((u,f)=>Math.min(u,f[2]),n[0][2]);return n.forEach(u=>{const f=u[0]+sm*(sm-1-u[1]);a[f*3+2]=(u[2]-l)*e}),s.setAttribute("position",new Tt(a,3)),Array.from(a)},[n,e]);return it(Ki,{children:[oe(_W,{width:t,height:r}),oe("mesh",{name:"terrain",geometry:s,children:oe("meshBasicMaterial",{color:16447993})}),"!!vertices && (",oe(Zh.Provider,{value:{geometry:s,vertices:o},children:i.children}),")"]})}function wW({url:n,...e}){const t=ue.exports.useContext(Zh),r=ZS(ER,n);return oe("mesh",{geometry:t.geometry,children:oe("meshBasicMaterial",{map:r,transparent:!0,color:16777215,opacity:e.opacity?e.opacity:.5})})}const g_=Jt.width,y_=Jt.height,om=Jt.segments,SW=new tb;async function bW(n){return await(()=>new Promise(t=>{SW.load(n,t)}))().then(t=>{const r=t.xml.viewBox.baseVal.width,i=t.xml.viewBox.baseVal.height,s=t.paths;let o=[];for(let a=0;a<s.length;a++){let l=s[a];a===3250&&console.log(l),l.toShapes(!0).forEach(f=>{let d=f.getPoints();d=d.map(p=>{let m=p.x;m<0&&(m=0),m>=r&&(m=r-1);let g=i-p.y;return g<0&&(g=0),g>=i&&(g=i-1),p.x=m,p.y=g,p}),o.push(d)})}return{pathPoints:o,width:r,height:i}}).catch(t=>{console.error(t)})}function MW({url:n,color:e,...t}){const[r,i]=ue.exports.useState([]),[s,o]=ue.exports.useState(!1),a=ue.exports.useContext(Zh);ue.exports.useEffect(()=>{(async()=>{const u=await bW(n);let f=[];u.pathPoints.forEach((p,m)=>{let g=[];p.forEach((y,_)=>{_>0&&(g.push(p[_-1]),g.push(y))});const v=new ft().setFromPoints(g);v.scale(g_/u.width,y_/u.height,1),f.push(v)});let d=tW(f);i([oe("lineSegments",{geometry:d,children:oe("meshBasicMaterial",{color:e||14343392,side:ji,depthWrite:!1})},0)])})()},[n,e]);const l=ue.exports.useRef();return ue.exports.useLayoutEffect(()=>{let u=new Q(g_,y_,0);l.current.position.set(0,0,0),l.current.translateX(-u.x/2),l.current.translateY(-u.y/2);function f(d,p){if(!a.vertices)return 0;let m=Math.floor(d/(g_/om))+om*(om-1-Math.floor(p/(y_/om)));return m<0||a.vertices.length<=m?0:a.vertices[m*3+2]}l.current.children.forEach(d=>{let p=d.geometry.getAttribute("position"),m=[];m=p.array.map((g,v)=>v%3===2?f(p.array[v-2],p.array[v-1])+2:g),d.geometry.setAttribute("position",new Tt(new Float32Array(m),3))}),o(!0)},[r,a.vertices]),oe("group",{ref:l,visible:s,children:r})}function EW(n,e=!1){const t=n[0].index!==null,r=new Set(Object.keys(n[0].attributes)),i=new Set(Object.keys(n[0].morphAttributes)),s={},o={},a=n[0].morphTargetsRelative,l=new ft;let u=0;for(let f=0;f<n.length;++f){const d=n[f];let p=0;if(t!==(d.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+f+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const m in d.attributes){if(!r.has(m))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+f+'. All geometries must have compatible attributes; make sure "'+m+'" attribute exists among all geometries, or in none of them.'),null;s[m]===void 0&&(s[m]=[]),s[m].push(d.attributes[m]),p++}if(p!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+f+". Make sure all geometries have the same number of attributes."),null;if(a!==d.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+f+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const m in d.morphAttributes){if(!i.has(m))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+f+".  .morphAttributes must be consistent throughout all geometries."),null;o[m]===void 0&&(o[m]=[]),o[m].push(d.morphAttributes[m])}if(e){let m;if(t)m=d.index.count;else if(d.attributes.position!==void 0)m=d.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+f+". The geometry must have either an index or a position attribute"),null;l.addGroup(u,m,f),u+=m}}if(t){let f=0;const d=[];for(let p=0;p<n.length;++p){const m=n[p].index;for(let g=0;g<m.count;++g)d.push(m.getX(g)+f);f+=n[p].attributes.position.count}l.setIndex(d)}for(const f in s){const d=d3(s[f]);if(!d)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+f+" attribute."),null;l.setAttribute(f,d)}for(const f in o){const d=o[f][0].length;if(d===0)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[f]=[];for(let p=0;p<d;++p){const m=[];for(let v=0;v<o[f].length;++v)m.push(o[f][v][p]);const g=d3(m);if(!g)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+f+" morphAttribute."),null;l.morphAttributes[f].push(g)}}return l}function d3(n){let e,t,r,i=0;for(let a=0;a<n.length;++a){const l=n[a];if(l.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(e===void 0&&(e=l.array.constructor),e!==l.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(t===void 0&&(t=l.itemSize),t!==l.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(r===void 0&&(r=l.normalized),r!==l.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;i+=l.array.length}const s=new e(i);let o=0;for(let a=0;a<n.length;++a)s.set(n[a].array,o),o+=n[a].array.length;return new Tt(s,t,r)}function CW({coordinates:n,bbox:e,terrain:t,...r}){const i=r.height/2;n=n[0];const s=n[0][0],o=n[0][1],a=rc(e,s,o),l=hL(t,a.x+1024/2,a.y+1024/2)||0,u=new Yi;u.moveTo(0,0),n.slice().reverse().forEach(p=>{const m=rc(e,p[0],p[1]);u.lineTo(m.x-a.x,m.y-a.y)});const f={steps:1,depth:i||10,bevelEnabled:!1},d=new ga(u,f);return d.translate(a.x,a.y,l),d}function AW({url:n,clip:e=!0,...t}){const r=ue.exports.useContext(Zh),{model:i}=ue.exports.useContext(Qh),[s,o]=ue.exports.useState(null);ue.exports.useEffect(()=>{n&&(async()=>{const u=await qf.get(n).then(f=>f.data);o(u)})()},[n]);const a=ue.exports.useMemo(()=>{if(!s)return;const u=[];return s.features.forEach(d=>{const p=d.geometry.coordinates[0][0][0],m=d.geometry.coordinates[0][0][1],g=rc(i.bbox,p,m);if(e&&(g.x<-Jt.width/2||Jt.width/2<=g.x||g.y<-Jt.height/2||Jt.height/2<=g.y))return;const v=CW({coordinates:d.geometry.coordinates,bbox:i.bbox,height:d.properties.attributes.measuredHeight,terrain:r});u.push(v)}),u.length===0?void 0:EW(u,!1)},[s,i.bbox,r,e]);return it(Ki,{children:["!!geom && (",it("mesh",{geometry:a,children:[oe("meshBasicMaterial",{color:{default:13751771,hover:6710886}.default,transparent:!0,opacity:t.opacity||.5}),it("lineSegments",{children:[oe("edgesGeometry",{attach:"geometry",args:[a,45]}),oe("lineBasicMaterial",{color:16316664,attach:"material"})]})]}),")"]})}function TW({position:n,label:e=null,labelVisibility:t="auto",height:r=256,radius:i=5,...s}){const o=ue.exports.useRef(null),[a]=ln(vP);return ue.exports.useLayoutEffect(()=>{o.current.rotateX(Math.PI/2),o.current.translate(0,0,r/2)},[r]),it("mesh",{position:n,children:[oe("cylinderBufferGeometry",{ref:o,args:[i,i,r,8]}),oe("meshBasicMaterial",{color:s.color||2201331,opacity:.5,transparent:!0}),oe(Jh,{style:{pointerEvents:"none"},children:oe("div",{style:{display:t==="always"||a?"block":"none",fontSize:"0.75rem",fontWeight:"normal",width:"10rem",color:"rgb(156 163 175)"},children:e})})]})}var p3=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},ps=[],_i=[],PW=typeof Uint8Array<"u"?Uint8Array:Array,nb=!1;function dL(){nb=!0;for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,t=n.length;e<t;++e)ps[e]=n[e],_i[n.charCodeAt(e)]=e;_i["-".charCodeAt(0)]=62,_i["_".charCodeAt(0)]=63}function IW(n){nb||dL();var e,t,r,i,s,o,a=n.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=n[a-2]==="="?2:n[a-1]==="="?1:0,o=new PW(a*3/4-s),r=s>0?a-4:a;var l=0;for(e=0,t=0;e<r;e+=4,t+=3)i=_i[n.charCodeAt(e)]<<18|_i[n.charCodeAt(e+1)]<<12|_i[n.charCodeAt(e+2)]<<6|_i[n.charCodeAt(e+3)],o[l++]=i>>16&255,o[l++]=i>>8&255,o[l++]=i&255;return s===2?(i=_i[n.charCodeAt(e)]<<2|_i[n.charCodeAt(e+1)]>>4,o[l++]=i&255):s===1&&(i=_i[n.charCodeAt(e)]<<10|_i[n.charCodeAt(e+1)]<<4|_i[n.charCodeAt(e+2)]>>2,o[l++]=i>>8&255,o[l++]=i&255),o}function RW(n){return ps[n>>18&63]+ps[n>>12&63]+ps[n>>6&63]+ps[n&63]}function LW(n,e,t){for(var r,i=[],s=e;s<t;s+=3)r=(n[s]<<16)+(n[s+1]<<8)+n[s+2],i.push(RW(r));return i.join("")}function m3(n){nb||dL();for(var e,t=n.length,r=t%3,i="",s=[],o=16383,a=0,l=t-r;a<l;a+=o)s.push(LW(n,a,a+o>l?l:a+o));return r===1?(e=n[t-1],i+=ps[e>>2],i+=ps[e<<4&63],i+="=="):r===2&&(e=(n[t-2]<<8)+n[t-1],i+=ps[e>>10],i+=ps[e>>4&63],i+=ps[e<<2&63],i+="="),s.push(i),s.join("")}function O0(n,e,t,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,u=l>>1,f=-7,d=t?i-1:0,p=t?-1:1,m=n[e+d];for(d+=p,s=m&(1<<-f)-1,m>>=-f,f+=a;f>0;s=s*256+n[e+d],d+=p,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=r;f>0;o=o*256+n[e+d],d+=p,f-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-u}return(m?-1:1)*o*Math.pow(2,s-r)}function pL(n,e,t,r,i,s){var o,a,l,u=s*8-i-1,f=(1<<u)-1,d=f>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,g=r?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?e+=p/l:e+=p*Math.pow(2,1-d),e*l>=2&&(o++,l/=2),o+d>=f?(a=0,o=f):o+d>=1?(a=(e*l-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;n[t+m]=a&255,m+=g,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;n[t+m]=o&255,m+=g,o/=256,u-=8);n[t+m-g]|=v*128}var OW={}.toString,mL=Array.isArray||function(n){return OW.call(n)=="[object Array]"},kW=50;Te.TYPED_ARRAY_SUPPORT=p3.TYPED_ARRAY_SUPPORT!==void 0?p3.TYPED_ARRAY_SUPPORT:!0;wg();function wg(){return Te.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Ys(n,e){if(wg()<e)throw new RangeError("Invalid typed array length");return Te.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(e),n.__proto__=Te.prototype):(n===null&&(n=new Te(e)),n.length=e),n}function Te(n,e,t){if(!Te.TYPED_ARRAY_SUPPORT&&!(this instanceof Te))return new Te(n,e,t);if(typeof n=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return rb(this,n)}return gL(this,n,e,t)}Te.poolSize=8192;Te._augment=function(n){return n.__proto__=Te.prototype,n};function gL(n,e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?FW(n,e,t,r):typeof e=="string"?NW(n,e,t):zW(n,e)}Te.from=function(n,e,t){return gL(null,n,e,t)};Te.TYPED_ARRAY_SUPPORT&&(Te.prototype.__proto__=Uint8Array.prototype,Te.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Te[Symbol.species]);function yL(n){if(typeof n!="number")throw new TypeError('"size" argument must be a number');if(n<0)throw new RangeError('"size" argument must not be negative')}function DW(n,e,t,r){return yL(e),e<=0?Ys(n,e):t!==void 0?typeof r=="string"?Ys(n,e).fill(t,r):Ys(n,e).fill(t):Ys(n,e)}Te.alloc=function(n,e,t){return DW(null,n,e,t)};function rb(n,e){if(yL(e),n=Ys(n,e<0?0:ib(e)|0),!Te.TYPED_ARRAY_SUPPORT)for(var t=0;t<e;++t)n[t]=0;return n}Te.allocUnsafe=function(n){return rb(null,n)};Te.allocUnsafeSlow=function(n){return rb(null,n)};function NW(n,e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Te.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var r=vL(e,t)|0;n=Ys(n,r);var i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}function bx(n,e){var t=e.length<0?0:ib(e.length)|0;n=Ys(n,t);for(var r=0;r<t;r+=1)n[r]=e[r]&255;return n}function FW(n,e,t,r){if(e.byteLength,t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(r||0))throw new RangeError("'length' is out of bounds");return t===void 0&&r===void 0?e=new Uint8Array(e):r===void 0?e=new Uint8Array(e,t):e=new Uint8Array(e,t,r),Te.TYPED_ARRAY_SUPPORT?(n=e,n.__proto__=Te.prototype):n=bx(n,e),n}function zW(n,e){if(ws(e)){var t=ib(e.length)|0;return n=Ys(n,t),n.length===0||e.copy(n,0,0,t),n}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||rG(e.length)?Ys(n,0):bx(n,e);if(e.type==="Buffer"&&mL(e.data))return bx(n,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function ib(n){if(n>=wg())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+wg().toString(16)+" bytes");return n|0}Te.isBuffer=wi;function ws(n){return!!(n!=null&&n._isBuffer)}Te.compare=function(e,t){if(!ws(e)||!ws(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,i=t.length,s=0,o=Math.min(r,i);s<o;++s)if(e[s]!==t[s]){r=e[s],i=t[s];break}return r<i?-1:i<r?1:0};Te.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Te.concat=function(e,t){if(!mL(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Te.alloc(0);var r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var i=Te.allocUnsafe(t),s=0;for(r=0;r<e.length;++r){var o=e[r];if(!ws(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i};function vL(n,e){if(ws(n))return n.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(n)||n instanceof ArrayBuffer))return n.byteLength;typeof n!="string"&&(n=""+n);var t=n.length;if(t===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return Sg(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return EL(n).length;default:if(r)return Sg(n).length;e=(""+e).toLowerCase(),r=!0}}Te.byteLength=vL;function BW(n,e,t){var r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(n||(n="utf8");;)switch(n){case"hex":return YW(this,e,t);case"utf8":case"utf-8":return wL(this,e,t);case"ascii":return qW(this,e,t);case"latin1":case"binary":return XW(this,e,t);case"base64":return jW(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return JW(this,e,t);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),r=!0}}Te.prototype._isBuffer=!0;function Ka(n,e,t){var r=n[e];n[e]=n[t],n[t]=r}Te.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Ka(this,t,t+1);return this};Te.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Ka(this,t,t+3),Ka(this,t+1,t+2);return this};Te.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Ka(this,t,t+7),Ka(this,t+1,t+6),Ka(this,t+2,t+5),Ka(this,t+3,t+4);return this};Te.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?wL(this,0,e):BW.apply(this,arguments)};Te.prototype.equals=function(e){if(!ws(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Te.compare(this,e)===0};Te.prototype.inspect=function(){var e="",t=kW;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"};Te.prototype.compare=function(e,t,r,i,s){if(!ws(e))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),t<0||r>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&t>=r)return 0;if(i>=s)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var o=s-i,a=r-t,l=Math.min(o,a),u=this.slice(i,s),f=e.slice(t,r),d=0;d<l;++d)if(u[d]!==f[d]){o=u[d],a=f[d];break}return o<a?-1:a<o?1:0};function _L(n,e,t,r,i){if(n.length===0)return-1;if(typeof t=="string"?(r=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=i?0:n.length-1),t<0&&(t=n.length+t),t>=n.length){if(i)return-1;t=n.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=Te.from(e,r)),ws(e))return e.length===0?-1:g3(n,e,t,r,i);if(typeof e=="number")return e=e&255,Te.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(n,e,t):Uint8Array.prototype.lastIndexOf.call(n,e,t):g3(n,[e],t,r,i);throw new TypeError("val must be string, number or Buffer")}function g3(n,e,t,r,i){var s=1,o=n.length,a=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(n.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function l(m,g){return s===1?m[g]:m.readUInt16BE(g*s)}var u;if(i){var f=-1;for(u=t;u<o;u++)if(l(n,u)===l(e,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===a)return f*s}else f!==-1&&(u-=u-f),f=-1}else for(t+a>o&&(t=o-a),u=t;u>=0;u--){for(var d=!0,p=0;p<a;p++)if(l(n,u+p)!==l(e,p)){d=!1;break}if(d)return u}return-1}Te.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1};Te.prototype.indexOf=function(e,t,r){return _L(this,e,t,r,!0)};Te.prototype.lastIndexOf=function(e,t,r){return _L(this,e,t,r,!1)};function UW(n,e,t,r){t=Number(t)||0;var i=n.length-t;r?(r=Number(r),r>i&&(r=i)):r=i;var s=e.length;if(s%2!==0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(e.substr(o*2,2),16);if(isNaN(a))return o;n[t+o]=a}return o}function HW(n,e,t,r){return N0(Sg(e,n.length-t),n,t,r)}function xL(n,e,t,r){return N0(tG(e),n,t,r)}function VW(n,e,t,r){return xL(n,e,t,r)}function WW(n,e,t,r){return N0(EL(e),n,t,r)}function GW(n,e,t,r){return N0(nG(e,n.length-t),n,t,r)}Te.prototype.write=function(e,t,r,i){if(t===void 0)i="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")i=t,r=this.length,t=0;else if(isFinite(t))t=t|0,isFinite(r)?(r=r|0,i===void 0&&(i="utf8")):(i=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((r===void 0||r>s)&&(r=s),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return UW(this,e,t,r);case"utf8":case"utf-8":return HW(this,e,t,r);case"ascii":return xL(this,e,t,r);case"latin1":case"binary":return VW(this,e,t,r);case"base64":return WW(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return GW(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};Te.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function jW(n,e,t){return e===0&&t===n.length?m3(n):m3(n.slice(e,t))}function wL(n,e,t){t=Math.min(n.length,t);for(var r=[],i=e;i<t;){var s=n[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=t){var l,u,f,d;switch(a){case 1:s<128&&(o=s);break;case 2:l=n[i+1],(l&192)===128&&(d=(s&31)<<6|l&63,d>127&&(o=d));break;case 3:l=n[i+1],u=n[i+2],(l&192)===128&&(u&192)===128&&(d=(s&15)<<12|(l&63)<<6|u&63,d>2047&&(d<55296||d>57343)&&(o=d));break;case 4:l=n[i+1],u=n[i+2],f=n[i+3],(l&192)===128&&(u&192)===128&&(f&192)===128&&(d=(s&15)<<18|(l&63)<<12|(u&63)<<6|f&63,d>65535&&d<1114112&&(o=d))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|o&1023),r.push(o),i+=a}return $W(r)}var y3=4096;function $W(n){var e=n.length;if(e<=y3)return String.fromCharCode.apply(String,n);for(var t="",r=0;r<e;)t+=String.fromCharCode.apply(String,n.slice(r,r+=y3));return t}function qW(n,e,t){var r="";t=Math.min(n.length,t);for(var i=e;i<t;++i)r+=String.fromCharCode(n[i]&127);return r}function XW(n,e,t){var r="";t=Math.min(n.length,t);for(var i=e;i<t;++i)r+=String.fromCharCode(n[i]);return r}function YW(n,e,t){var r=n.length;(!e||e<0)&&(e=0),(!t||t<0||t>r)&&(t=r);for(var i="",s=e;s<t;++s)i+=eG(n[s]);return i}function JW(n,e,t){for(var r=n.slice(e,t),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+r[s+1]*256);return i}Te.prototype.slice=function(e,t){var r=this.length;e=~~e,t=t===void 0?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);var i;if(Te.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=Te.prototype;else{var s=t-e;i=new Te(s,void 0);for(var o=0;o<s;++o)i[o]=this[o+e]}return i};function Qn(n,e,t){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}Te.prototype.readUIntLE=function(e,t,r){e=e|0,t=t|0,r||Qn(e,t,this.length);for(var i=this[e],s=1,o=0;++o<t&&(s*=256);)i+=this[e+o]*s;return i};Te.prototype.readUIntBE=function(e,t,r){e=e|0,t=t|0,r||Qn(e,t,this.length);for(var i=this[e+--t],s=1;t>0&&(s*=256);)i+=this[e+--t]*s;return i};Te.prototype.readUInt8=function(e,t){return t||Qn(e,1,this.length),this[e]};Te.prototype.readUInt16LE=function(e,t){return t||Qn(e,2,this.length),this[e]|this[e+1]<<8};Te.prototype.readUInt16BE=function(e,t){return t||Qn(e,2,this.length),this[e]<<8|this[e+1]};Te.prototype.readUInt32LE=function(e,t){return t||Qn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Te.prototype.readUInt32BE=function(e,t){return t||Qn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Te.prototype.readIntLE=function(e,t,r){e=e|0,t=t|0,r||Qn(e,t,this.length);for(var i=this[e],s=1,o=0;++o<t&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i};Te.prototype.readIntBE=function(e,t,r){e=e|0,t=t|0,r||Qn(e,t,this.length);for(var i=t,s=1,o=this[e+--i];i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};Te.prototype.readInt8=function(e,t){return t||Qn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Te.prototype.readInt16LE=function(e,t){t||Qn(e,2,this.length);var r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};Te.prototype.readInt16BE=function(e,t){t||Qn(e,2,this.length);var r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};Te.prototype.readInt32LE=function(e,t){return t||Qn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Te.prototype.readInt32BE=function(e,t){return t||Qn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Te.prototype.readFloatLE=function(e,t){return t||Qn(e,4,this.length),O0(this,e,!0,23,4)};Te.prototype.readFloatBE=function(e,t){return t||Qn(e,4,this.length),O0(this,e,!1,23,4)};Te.prototype.readDoubleLE=function(e,t){return t||Qn(e,8,this.length),O0(this,e,!0,52,8)};Te.prototype.readDoubleBE=function(e,t){return t||Qn(e,8,this.length),O0(this,e,!1,52,8)};function Wr(n,e,t,r,i,s){if(!ws(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(t+r>n.length)throw new RangeError("Index out of range")}Te.prototype.writeUIntLE=function(e,t,r,i){if(e=+e,t=t|0,r=r|0,!i){var s=Math.pow(2,8*r)-1;Wr(this,e,t,r,s,0)}var o=1,a=0;for(this[t]=e&255;++a<r&&(o*=256);)this[t+a]=e/o&255;return t+r};Te.prototype.writeUIntBE=function(e,t,r,i){if(e=+e,t=t|0,r=r|0,!i){var s=Math.pow(2,8*r)-1;Wr(this,e,t,r,s,0)}var o=r-1,a=1;for(this[t+o]=e&255;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+r};Te.prototype.writeUInt8=function(e,t,r){return e=+e,t=t|0,r||Wr(this,e,t,1,255,0),Te.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e&255,t+1};function k0(n,e,t,r){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(n.length-t,2);i<s;++i)n[t+i]=(e&255<<8*(r?i:1-i))>>>(r?i:1-i)*8}Te.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=t|0,r||Wr(this,e,t,2,65535,0),Te.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):k0(this,e,t,!0),t+2};Te.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=t|0,r||Wr(this,e,t,2,65535,0),Te.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):k0(this,e,t,!1),t+2};function D0(n,e,t,r){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(n.length-t,4);i<s;++i)n[t+i]=e>>>(r?i:3-i)*8&255}Te.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=t|0,r||Wr(this,e,t,4,4294967295,0),Te.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255):D0(this,e,t,!0),t+4};Te.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=t|0,r||Wr(this,e,t,4,4294967295,0),Te.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):D0(this,e,t,!1),t+4};Te.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t=t|0,!i){var s=Math.pow(2,8*r-1);Wr(this,e,t,r,s-1,-s)}var o=0,a=1,l=0;for(this[t]=e&255;++o<r&&(a*=256);)e<0&&l===0&&this[t+o-1]!==0&&(l=1),this[t+o]=(e/a>>0)-l&255;return t+r};Te.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t=t|0,!i){var s=Math.pow(2,8*r-1);Wr(this,e,t,r,s-1,-s)}var o=r-1,a=1,l=0;for(this[t+o]=e&255;--o>=0&&(a*=256);)e<0&&l===0&&this[t+o+1]!==0&&(l=1),this[t+o]=(e/a>>0)-l&255;return t+r};Te.prototype.writeInt8=function(e,t,r){return e=+e,t=t|0,r||Wr(this,e,t,1,127,-128),Te.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=e&255,t+1};Te.prototype.writeInt16LE=function(e,t,r){return e=+e,t=t|0,r||Wr(this,e,t,2,32767,-32768),Te.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):k0(this,e,t,!0),t+2};Te.prototype.writeInt16BE=function(e,t,r){return e=+e,t=t|0,r||Wr(this,e,t,2,32767,-32768),Te.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):k0(this,e,t,!1),t+2};Te.prototype.writeInt32LE=function(e,t,r){return e=+e,t=t|0,r||Wr(this,e,t,4,2147483647,-2147483648),Te.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D0(this,e,t,!0),t+4};Te.prototype.writeInt32BE=function(e,t,r){return e=+e,t=t|0,r||Wr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Te.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):D0(this,e,t,!1),t+4};function SL(n,e,t,r,i,s){if(t+r>n.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function bL(n,e,t,r,i){return i||SL(n,e,t,4),pL(n,e,t,r,23,4),t+4}Te.prototype.writeFloatLE=function(e,t,r){return bL(this,e,t,!0,r)};Te.prototype.writeFloatBE=function(e,t,r){return bL(this,e,t,!1,r)};function ML(n,e,t,r,i){return i||SL(n,e,t,8),pL(n,e,t,r,52,8),t+8}Te.prototype.writeDoubleLE=function(e,t,r){return ML(this,e,t,!0,r)};Te.prototype.writeDoubleBE=function(e,t,r){return ML(this,e,t,!1,r)};Te.prototype.copy=function(e,t,r,i){if(r||(r=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);var s=i-r,o;if(this===e&&r<t&&t<i)for(o=s-1;o>=0;--o)e[o+t]=this[o+r];else if(s<1e3||!Te.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+s),t);return s};Te.prototype.fill=function(e,t,r,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),e.length===1){var s=e.charCodeAt(0);s<256&&(e=s)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!Te.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t=t>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);var o;if(typeof e=="number")for(o=t;o<r;++o)this[o]=e;else{var a=ws(e)?e:Sg(new Te(e,i).toString()),l=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%l]}return this};var ZW=/[^+\/0-9A-Za-z-_]/g;function QW(n){if(n=KW(n).replace(ZW,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function KW(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function eG(n){return n<16?"0"+n.toString(16):n.toString(16)}function Sg(n,e){e=e||1/0;for(var t,r=n.length,i=null,s=[],o=0;o<r;++o){if(t=n.charCodeAt(o),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function tG(n){for(var e=[],t=0;t<n.length;++t)e.push(n.charCodeAt(t)&255);return e}function nG(n,e){for(var t,r,i,s=[],o=0;o<n.length&&!((e-=2)<0);++o)t=n.charCodeAt(o),r=t>>8,i=t%256,s.push(i),s.push(r);return s}function EL(n){return IW(QW(n))}function N0(n,e,t,r){for(var i=0;i<r&&!(i+t>=e.length||i>=n.length);++i)e[i+t]=n[i];return i}function rG(n){return n!==n}function wi(n){return n!=null&&(!!n._isBuffer||CL(n)||iG(n))}function CL(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function iG(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&CL(n.slice(0,0))}class Gt extends Error{constructor(e,t,r,...i){Array.isArray(t)&&(t=t.join(" ").trim()),super(t),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,Gt),this.code=e;for(const s of i)for(const o in s){const a=s[o];this[o]=wi(a)?a.toString(r.encoding):a==null?a:JSON.parse(JSON.stringify(a))}}}const sG=function(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)},AL=function(n){const e=[];for(let t=0,r=n.length;t<r;t++){const i=n[t];if(i==null||i===!1)e[t]={disabled:!0};else if(typeof i=="string")e[t]={name:i};else if(sG(i)){if(typeof i.name!="string")throw new Gt("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${t}`,"when column is an object literal"]);e[t]=i}else throw new Gt("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(i)} at position ${t}`])}return e};class v3{constructor(e=100){this.size=e,this.length=0,this.buf=Te.allocUnsafe(e)}prepend(e){if(wi(e)){const t=this.length+e.length;if(t>=this.size&&(this.resize(),t>=this.size))throw Error("INVALID_BUFFER_STATE");const r=this.buf;this.buf=Te.allocUnsafe(this.size),e.copy(this.buf,0),r.copy(this.buf,e.length),this.length+=e.length}else{const t=this.length++;t===this.size&&this.resize();const r=this.clone();this.buf[0]=e,r.copy(this.buf,1,0,t)}}append(e){const t=this.length++;t===this.size&&this.resize(),this.buf[t]=e}clone(){return Te.from(this.buf.slice(0,this.length))}resize(){const e=this.length;this.size=this.size*2;const t=Te.allocUnsafe(this.size);this.buf.copy(t,0,0,e),this.buf=t}toString(e){return e?this.buf.slice(0,this.length).toString(e):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}}const oG=12,aG=13,lG=10,uG=32,cG=9,fG=function(n){return{bomSkipped:!1,bufBytesStart:0,castField:n.cast_function,commenting:!1,error:void 0,enabled:n.from_line===1,escaping:!1,escapeIsQuote:wi(n.escape)&&wi(n.quote)&&Te.compare(n.escape,n.quote)===0,expectedRecordLength:Array.isArray(n.columns)?n.columns.length:void 0,field:new v3(20),firstLineToHeaders:n.cast_first_line_to_header,needMoreDataSize:Math.max(n.comment!==null?n.comment.length:0,...n.delimiter.map(e=>e.length),n.quote!==null?n.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new v3(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:n.record_delimiter.length===0?0:Math.max(...n.record_delimiter.map(e=>e.length)),trimChars:[Te.from(" ",n.encoding)[0],Te.from("	",n.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1,timchars:[Te.from(Te.from([aG],"utf8").toString(),n.encoding),Te.from(Te.from([lG],"utf8").toString(),n.encoding),Te.from(Te.from([oG],"utf8").toString(),n.encoding),Te.from(Te.from([uG],"utf8").toString(),n.encoding),Te.from(Te.from([cG],"utf8").toString(),n.encoding)]}},hG=function(n){return n.replace(/([A-Z])/g,function(e,t){return"_"+t.toLowerCase()})},_3=function(n){const e={};for(const r in n)e[hG(r)]=n[r];if(e.encoding===void 0||e.encoding===!0)e.encoding="utf8";else if(e.encoding===null||e.encoding===!1)e.encoding=null;else if(typeof e.encoding!="string"&&e.encoding!==null)throw new Gt("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(e.encoding)}`],e);if(e.bom===void 0||e.bom===null||e.bom===!1)e.bom=!1;else if(e.bom!==!0)throw new Gt("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(e.bom)}`],e);if(e.cast_function=null,e.cast===void 0||e.cast===null||e.cast===!1||e.cast==="")e.cast=void 0;else if(typeof e.cast=="function")e.cast_function=e.cast,e.cast=!0;else if(e.cast!==!0)throw new Gt("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(e.cast)}`],e);if(e.cast_date===void 0||e.cast_date===null||e.cast_date===!1||e.cast_date==="")e.cast_date=!1;else if(e.cast_date===!0)e.cast_date=function(r){const i=Date.parse(r);return isNaN(i)?r:new Date(i)};else if(typeof e.cast_date!="function")throw new Gt("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(e.cast_date)}`],e);if(e.cast_first_line_to_header=null,e.columns===!0)e.cast_first_line_to_header=void 0;else if(typeof e.columns=="function")e.cast_first_line_to_header=e.columns,e.columns=!0;else if(Array.isArray(e.columns))e.columns=AL(e.columns);else if(e.columns===void 0||e.columns===null||e.columns===!1)e.columns=!1;else throw new Gt("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(e.columns)}`],e);if(e.group_columns_by_name===void 0||e.group_columns_by_name===null||e.group_columns_by_name===!1)e.group_columns_by_name=!1;else{if(e.group_columns_by_name!==!0)throw new Gt("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(e.group_columns_by_name)}`],e);if(e.columns===!1)throw new Gt("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],e)}if(e.comment===void 0||e.comment===null||e.comment===!1||e.comment==="")e.comment=null;else if(typeof e.comment=="string"&&(e.comment=Te.from(e.comment,e.encoding)),!wi(e.comment))throw new Gt("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(e.comment)}`],e);const t=JSON.stringify(e.delimiter);if(Array.isArray(e.delimiter)||(e.delimiter=[e.delimiter]),e.delimiter.length===0)throw new Gt("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${t}`],e);if(e.delimiter=e.delimiter.map(function(r){if(r==null||r===!1)return Te.from(",",e.encoding);if(typeof r=="string"&&(r=Te.from(r,e.encoding)),!wi(r)||r.length===0)throw new Gt("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${t}`],e);return r}),e.escape===void 0||e.escape===!0?e.escape=Te.from('"',e.encoding):typeof e.escape=="string"?e.escape=Te.from(e.escape,e.encoding):(e.escape===null||e.escape===!1)&&(e.escape=null),e.escape!==null&&!wi(e.escape))throw new Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(e.escape)}`);if(e.from===void 0||e.from===null)e.from=1;else if(typeof e.from=="string"&&/\d+/.test(e.from)&&(e.from=parseInt(e.from)),Number.isInteger(e.from)){if(e.from<0)throw new Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(n.from)}`)}else throw new Error(`Invalid Option: from must be an integer, got ${JSON.stringify(e.from)}`);if(e.from_line===void 0||e.from_line===null)e.from_line=1;else if(typeof e.from_line=="string"&&/\d+/.test(e.from_line)&&(e.from_line=parseInt(e.from_line)),Number.isInteger(e.from_line)){if(e.from_line<=0)throw new Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(n.from_line)}`)}else throw new Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(n.from_line)}`);if(e.ignore_last_delimiters===void 0||e.ignore_last_delimiters===null)e.ignore_last_delimiters=!1;else if(typeof e.ignore_last_delimiters=="number")e.ignore_last_delimiters=Math.floor(e.ignore_last_delimiters),e.ignore_last_delimiters===0&&(e.ignore_last_delimiters=!1);else if(typeof e.ignore_last_delimiters!="boolean")throw new Gt("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(e.ignore_last_delimiters)}`],e);if(e.ignore_last_delimiters===!0&&e.columns===!1)throw new Gt("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],e);if(e.info===void 0||e.info===null||e.info===!1)e.info=!1;else if(e.info!==!0)throw new Error(`Invalid Option: info must be true, got ${JSON.stringify(e.info)}`);if(e.max_record_size===void 0||e.max_record_size===null||e.max_record_size===!1)e.max_record_size=0;else if(!(Number.isInteger(e.max_record_size)&&e.max_record_size>=0))if(typeof e.max_record_size=="string"&&/\d+/.test(e.max_record_size))e.max_record_size=parseInt(e.max_record_size);else throw new Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(e.max_record_size)}`);if(e.objname===void 0||e.objname===null||e.objname===!1)e.objname=void 0;else if(wi(e.objname)){if(e.objname.length===0)throw new Error("Invalid Option: objname must be a non empty buffer");e.encoding===null||(e.objname=e.objname.toString(e.encoding))}else if(typeof e.objname=="string"){if(e.objname.length===0)throw new Error("Invalid Option: objname must be a non empty string")}else if(typeof e.objname!="number")throw new Error(`Invalid Option: objname must be a string or a buffer, got ${e.objname}`);if(e.objname!==void 0){if(typeof e.objname=="number"){if(e.columns!==!1)throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}else if(e.columns===!1)throw Error("Invalid Option: objname field must be combined with columns or be defined as an index")}if(e.on_record===void 0||e.on_record===null)e.on_record=void 0;else if(typeof e.on_record!="function")throw new Gt("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(e.on_record)}`],e);if(e.quote===null||e.quote===!1||e.quote==="")e.quote=null;else if(e.quote===void 0||e.quote===!0?e.quote=Te.from('"',e.encoding):typeof e.quote=="string"&&(e.quote=Te.from(e.quote,e.encoding)),!wi(e.quote))throw new Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(e.quote)}`);if(e.raw===void 0||e.raw===null||e.raw===!1)e.raw=!1;else if(e.raw!==!0)throw new Error(`Invalid Option: raw must be true, got ${JSON.stringify(e.raw)}`);if(e.record_delimiter===void 0)e.record_delimiter=[];else if(typeof e.record_delimiter=="string"||wi(e.record_delimiter)){if(e.record_delimiter.length===0)throw new Gt("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);e.record_delimiter=[e.record_delimiter]}else if(!Array.isArray(e.record_delimiter))throw new Gt("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);if(e.record_delimiter=e.record_delimiter.map(function(r,i){if(typeof r!="string"&&!wi(r))throw new Gt("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${i},`,`got ${JSON.stringify(r)}`],e);if(r.length===0)throw new Gt("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${i},`,`got ${JSON.stringify(r)}`],e);return typeof r=="string"&&(r=Te.from(r,e.encoding)),r}),typeof e.relax_column_count!="boolean")if(e.relax_column_count===void 0||e.relax_column_count===null)e.relax_column_count=!1;else throw new Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(e.relax_column_count)}`);if(typeof e.relax_column_count_less!="boolean")if(e.relax_column_count_less===void 0||e.relax_column_count_less===null)e.relax_column_count_less=!1;else throw new Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(e.relax_column_count_less)}`);if(typeof e.relax_column_count_more!="boolean")if(e.relax_column_count_more===void 0||e.relax_column_count_more===null)e.relax_column_count_more=!1;else throw new Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(e.relax_column_count_more)}`);if(typeof e.relax_quotes!="boolean")if(e.relax_quotes===void 0||e.relax_quotes===null)e.relax_quotes=!1;else throw new Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(e.relax_quotes)}`);if(typeof e.skip_empty_lines!="boolean")if(e.skip_empty_lines===void 0||e.skip_empty_lines===null)e.skip_empty_lines=!1;else throw new Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(e.skip_empty_lines)}`);if(typeof e.skip_records_with_empty_values!="boolean")if(e.skip_records_with_empty_values===void 0||e.skip_records_with_empty_values===null)e.skip_records_with_empty_values=!1;else throw new Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(e.skip_records_with_empty_values)}`);if(typeof e.skip_records_with_error!="boolean")if(e.skip_records_with_error===void 0||e.skip_records_with_error===null)e.skip_records_with_error=!1;else throw new Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(e.skip_records_with_error)}`);if(e.rtrim===void 0||e.rtrim===null||e.rtrim===!1)e.rtrim=!1;else if(e.rtrim!==!0)throw new Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(e.rtrim)}`);if(e.ltrim===void 0||e.ltrim===null||e.ltrim===!1)e.ltrim=!1;else if(e.ltrim!==!0)throw new Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(e.ltrim)}`);if(e.trim===void 0||e.trim===null||e.trim===!1)e.trim=!1;else if(e.trim!==!0)throw new Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(e.trim)}`);if(e.trim===!0&&n.ltrim!==!1?e.ltrim=!0:e.ltrim!==!0&&(e.ltrim=!1),e.trim===!0&&n.rtrim!==!1?e.rtrim=!0:e.rtrim!==!0&&(e.rtrim=!1),e.to===void 0||e.to===null)e.to=-1;else if(typeof e.to=="string"&&/\d+/.test(e.to)&&(e.to=parseInt(e.to)),Number.isInteger(e.to)){if(e.to<=0)throw new Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(n.to)}`)}else throw new Error(`Invalid Option: to must be an integer, got ${JSON.stringify(n.to)}`);if(e.to_line===void 0||e.to_line===null)e.to_line=-1;else if(typeof e.to_line=="string"&&/\d+/.test(e.to_line)&&(e.to_line=parseInt(e.to_line)),Number.isInteger(e.to_line)){if(e.to_line<=0)throw new Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(n.to_line)}`)}else throw new Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(n.to_line)}`);return e},x3=function(n){return n.every(e=>e==null||e.toString&&e.toString().trim()==="")},dG=13,pG=10,fu={utf8:Te.from([239,187,191]),utf16le:Te.from([255,254])},mG=function(n={}){const e={bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},t=_3(n);return{info:e,original_options:n,options:t,state:fG(t),__needMoreData:function(r,i,s){if(s)return!1;const{encoding:o,escape:a,quote:l}=this.options,{quoting:u,needMoreDataSize:f,recordDelimiterMaxLength:d}=this.state,p=i-r-1,m=Math.max(f,d===0?Te.from(`\r
`,o).length:d,u?(a===null?0:a.length)+l.length:0,u?l.length+d:0);return p<m},parse:function(r,i,s,o){const{bom:a,encoding:l,from_line:u,ltrim:f,max_record_size:d,raw:p,relax_quotes:m,rtrim:g,skip_empty_lines:v,to:y,to_line:_}=this.options;let{comment:x,escape:w,quote:b,record_delimiter:A}=this.options;const{bomSkipped:E,previousBuf:C,rawBuffer:M,escapeIsQuote:I}=this.state;let P;if(C===void 0)if(r===void 0){o();return}else P=r;else C!==void 0&&r===void 0?P=C:P=Te.concat([C,r]);if(E===!1)if(a===!1)this.state.bomSkipped=!0;else if(P.length<3){if(i===!1){this.state.previousBuf=P;return}}else{for(const F in fu)if(fu[F].compare(P,0,fu[F].length)===0){const H=fu[F].length;this.state.bufBytesStart+=H,P=P.slice(H),this.options=_3({...this.original_options,encoding:F}),{comment:x,escape:w,quote:b}=this.options;break}this.state.bomSkipped=!0}const R=P.length;let O;for(O=0;O<R&&!this.__needMoreData(O,R,i);O++){if(this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1),_!==-1&&this.info.lines>_){this.state.stop=!0,o();return}this.state.quoting===!1&&A.length===0&&this.__autoDiscoverRecordDelimiter(P,O)&&(A=this.options.record_delimiter);const F=P[O];if(p===!0&&M.append(F),(F===dG||F===pG)&&this.state.wasRowDelimiter===!1&&(this.state.wasRowDelimiter=!0),this.state.escaping===!0)this.state.escaping=!1;else{if(w!==null&&this.state.quoting===!0&&this.__isEscape(P,O,F)&&O+w.length<R)if(I){if(this.__isQuote(P,O+w.length)){this.state.escaping=!0,O+=w.length-1;continue}}else{this.state.escaping=!0,O+=w.length-1;continue}if(this.state.commenting===!1&&this.__isQuote(P,O))if(this.state.quoting===!0){const X=P[O+b.length],j=g&&this.__isCharTrimable(P,O+b.length),D=x!==null&&this.__compareBytes(x,P,O+b.length,X),q=this.__isDelimiter(P,O+b.length,X),B=A.length===0?this.__autoDiscoverRecordDelimiter(P,O+b.length):this.__isRecordDelimiter(X,P,O+b.length);if(w!==null&&this.__isEscape(P,O,F)&&this.__isQuote(P,O+w.length))O+=w.length-1;else if(!X||q||B||D||j){this.state.quoting=!1,this.state.wasQuoting=!0,O+=b.length-1;continue}else if(m===!1){const G=this.__error(new Gt("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(X)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(G!==void 0)return G}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(b),O+=b.length-1}else if(this.state.field.length!==0){if(m===!1){const X=this.__infoField(),j=Object.keys(fu).map(q=>fu[q].equals(this.state.field.toString())?q:!1).filter(Boolean)[0],D=this.__error(new Gt("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found on field ${JSON.stringify(X.column)} at line ${X.lines}, value is ${JSON.stringify(this.state.field.toString(l))}`,j?`(${j} bom)`:void 0],this.options,X,{field:this.state.field}));if(D!==void 0)return D}}else{this.state.quoting=!0,O+=b.length-1;continue}if(this.state.quoting===!1){const X=this.__isRecordDelimiter(F,P,O);if(X!==0){if(this.state.commenting&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0)this.info.comment_lines++;else{if(this.state.enabled===!1&&this.info.lines+(this.state.wasRowDelimiter===!0?1:0)>=u){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),O+=X-1;continue}if(v===!0&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0){this.info.empty_lines++,O+=X-1;continue}this.info.bytes=this.state.bufBytesStart+O;const B=this.__onField();if(B!==void 0)return B;this.info.bytes=this.state.bufBytesStart+O+X;const G=this.__onRecord(s);if(G!==void 0)return G;if(y!==-1&&this.info.records>=y){this.state.stop=!0,o();return}}this.state.commenting=!1,O+=X-1;continue}if(this.state.commenting)continue;if((x===null?0:this.__compareBytes(x,P,O,F))!==0){this.state.commenting=!0;continue}const D=this.__isDelimiter(P,O,F);if(D!==0){this.info.bytes=this.state.bufBytesStart+O;const q=this.__onField();if(q!==void 0)return q;O+=D-1;continue}}}if(this.state.commenting===!1&&d!==0&&this.state.record_length+this.state.field.length>d)return this.__error(new Gt("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${d}`,`at line ${this.info.lines}`],this.options,this.__infoField()));const H=f===!1||this.state.quoting===!0||this.state.field.length!==0||!this.__isCharTrimable(P,O),$=g===!1||this.state.wasQuoting===!1;if(H===!0&&$===!0)this.state.field.append(F);else{if(g===!0&&!this.__isCharTrimable(P,O))return this.__error(new Gt("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()));H===!1&&(O+=this.__isCharTrimable(P,O)-1);continue}}if(i===!0)if(this.state.quoting===!0){const F=this.__error(new Gt("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(F!==void 0)return F}else if(this.state.wasQuoting===!0||this.state.record.length!==0||this.state.field.length!==0){this.info.bytes=this.state.bufBytesStart+O;const F=this.__onField();if(F!==void 0)return F;const H=this.__onRecord(s);if(H!==void 0)return H}else this.state.wasRowDelimiter===!0?this.info.empty_lines++:this.state.commenting===!0&&this.info.comment_lines++;else this.state.bufBytesStart+=O,this.state.previousBuf=P.slice(O);this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1)},__onRecord:function(r){const{columns:i,group_columns_by_name:s,encoding:o,info:a,from:l,relax_column_count:u,relax_column_count_less:f,relax_column_count_more:d,raw:p,skip_records_with_empty_values:m}=this.options,{enabled:g,record:v}=this.state;if(g===!1)return this.__resetRecord();const y=v.length;if(i===!0){if(m===!0&&x3(v)){this.__resetRecord();return}return this.__firstLineToColumns(v)}if(i===!1&&this.info.records===0&&(this.state.expectedRecordLength=y),y!==this.state.expectedRecordLength){const _=i===!1?new Gt("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${y} on line ${this.info.lines}`],this.options,this.__infoField(),{record:v}):new Gt("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${i.length},`,`got ${y} on line ${this.info.lines}`],this.options,this.__infoField(),{record:v});if(u===!0||f===!0&&y<this.state.expectedRecordLength||d===!0&&y>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=_;else{const x=this.__error(_);if(x)return x}}if(m===!0&&x3(v)){this.__resetRecord();return}if(this.state.recordHasError===!0){this.__resetRecord(),this.state.recordHasError=!1;return}if(this.info.records++,l===1||this.info.records>=l){const{objname:_}=this.options;if(i!==!1){const x={};for(let w=0,b=v.length;w<b;w++)i[w]===void 0||i[w].disabled||(s===!0&&x[i[w].name]!==void 0?Array.isArray(x[i[w].name])?x[i[w].name]=x[i[w].name].concat(v[w]):x[i[w].name]=[x[i[w].name],v[w]]:x[i[w].name]=v[w]);if(p===!0||a===!0){const w=Object.assign({record:x},p===!0?{raw:this.state.rawBuffer.toString(o)}:{},a===!0?{info:this.__infoRecord()}:{}),b=this.__push(_===void 0?w:[x[_],w],r);if(b)return b}else{const w=this.__push(_===void 0?x:[x[_],x],r);if(w)return w}}else if(p===!0||a===!0){const x=Object.assign({record:v},p===!0?{raw:this.state.rawBuffer.toString(o)}:{},a===!0?{info:this.__infoRecord()}:{}),w=this.__push(_===void 0?x:[v[_],x],r);if(w)return w}else{const x=this.__push(_===void 0?v:[v[_],v],r);if(x)return x}}this.__resetRecord()},__firstLineToColumns:function(r){const{firstLineToHeaders:i}=this.state;try{const s=i===void 0?r:i.call(null,r);if(!Array.isArray(s))return this.__error(new Gt("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(s)}`],this.options,this.__infoField(),{headers:s}));const o=AL(s);this.state.expectedRecordLength=o.length,this.options.columns=o,this.__resetRecord();return}catch(s){return s}},__resetRecord:function(){this.options.raw===!0&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0},__onField:function(){const{cast:r,encoding:i,rtrim:s,max_record_size:o}=this.options,{enabled:a,wasQuoting:l}=this.state;if(a===!1)return this.__resetField();let u=this.state.field.toString(i);if(s===!0&&l===!1&&(u=u.trimRight()),r===!0){const[f,d]=this.__cast(u);if(f!==void 0)return f;u=d}this.state.record.push(u),o!==0&&typeof u=="string"&&(this.state.record_length+=u.length),this.__resetField()},__resetField:function(){this.state.field.reset(),this.state.wasQuoting=!1},__push:function(r,i){const{on_record:s}=this.options;if(s!==void 0){const o=this.__infoRecord();try{r=s.call(null,r,o)}catch(a){return a}if(r==null)return}i(r)},__cast:function(r){const{columns:i,relax_column_count:s}=this.options;if(Array.isArray(i)===!0&&s&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(this.state.castField!==null)try{const a=this.__infoField();return[void 0,this.state.castField.call(null,r,a)]}catch(a){return[a]}if(this.__isFloat(r))return[void 0,parseFloat(r)];if(this.options.cast_date!==!1){const a=this.__infoField();return[void 0,this.options.cast_date.call(null,r,a)]}return[void 0,r]},__isCharTrimable:function(r,i){return((o,a)=>{const{timchars:l}=this.state;e:for(let u=0;u<l.length;u++){const f=l[u];for(let d=0;d<f.length;d++)if(f[d]!==o[a+d])continue e;return f.length}return 0})(r,i)},__isFloat:function(r){return r-parseFloat(r)+1>=0},__compareBytes:function(r,i,s,o){if(r[0]!==o)return 0;const a=r.length;for(let l=1;l<a;l++)if(r[l]!==i[s+l])return 0;return a},__isDelimiter:function(r,i,s){const{delimiter:o,ignore_last_delimiters:a}=this.options;if(a===!0&&this.state.record.length===this.options.columns.length-1)return 0;if(a!==!1&&typeof a=="number"&&this.state.record.length===a-1)return 0;e:for(let l=0;l<o.length;l++){const u=o[l];if(u[0]===s){for(let f=1;f<u.length;f++)if(u[f]!==r[i+f])continue e;return u.length}}return 0},__isRecordDelimiter:function(r,i,s){const{record_delimiter:o}=this.options,a=o.length;e:for(let l=0;l<a;l++){const u=o[l],f=u.length;if(u[0]===r){for(let d=1;d<f;d++)if(u[d]!==i[s+d])continue e;return u.length}}return 0},__isEscape:function(r,i,s){const{escape:o}=this.options;if(o===null)return!1;const a=o.length;if(o[0]===s){for(let l=0;l<a;l++)if(o[l]!==r[i+l])return!1;return!0}return!1},__isQuote:function(r,i){const{quote:s}=this.options;if(s===null)return!1;const o=s.length;for(let a=0;a<o;a++)if(s[a]!==r[i+a])return!1;return!0},__autoDiscoverRecordDelimiter:function(r,i){const{encoding:s}=this.options,o=[Te.from(`\r
`,s),Te.from(`
`,s),Te.from("\r",s)];e:for(let a=0;a<o.length;a++){const l=o[a].length;for(let u=0;u<l;u++)if(o[a][u]!==r[i+u])continue e;return this.options.record_delimiter.push(o[a]),this.state.recordDelimiterMaxLength=o[a].length,o[a].length}return 0},__error:function(r){const{encoding:i,raw:s,skip_records_with_error:o}=this.options,a=typeof r=="string"?new Error(r):r;if(o){this.state.recordHasError=!0,this.options.on_skip!==void 0&&this.options.on_skip(a,s?this.state.rawBuffer.toString(i):void 0);return}else return a},__infoDataSet:function(){return{...this.info,columns:this.options.columns}},__infoRecord:function(){const{columns:r,raw:i,encoding:s}=this.options;return{...this.__infoDataSet(),error:this.state.error,header:r===!0,index:this.state.record.length,raw:i?this.state.rawBuffer.toString(s):void 0}},__infoField:function(){const{columns:r}=this.options,i=Array.isArray(r);return{...this.__infoRecord(),column:i===!0?r.length>this.state.record.length?r[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting}}}},gG=function(n,e={}){typeof n=="string"&&(n=Te.from(n));const t=e&&e.objname?{}:[],r=mG(e),i=l=>{r.options.objname===void 0?t.push(l):t[l[0]]=l[1]},s=()=>{},o=r.parse(n,!1,i,s);if(o!==void 0)throw o;const a=r.parse(void 0,!0,i,s);if(a!==void 0)throw a;return t};function yG({coordinates:n,bbox:e,terrain:t,label:r=null,labelVisibility:i="auto",clip:s=!0,size:o={},...a}){const l=parseFloat(n[0]),u=parseFloat(n[1]),f=rc(e,l,u),d=hL(t,f.x+1024/2,f.y+1024/2)||0;return s&&(f.x<-Jt.width/2||Jt.width/2<=f.x||f.y<-Jt.height/2||Jt.height/2<=f.y)?oe(Ki,{}):oe(TW,{position:[f.x,f.y,d],label:r,labelVisibility:i,height:o.height,radius:2,color:a.color})}function vG({url:n,clip:e=!0,...t}){const r=ue.exports.useContext(Zh),s=ue.exports.useContext(Qh).model,[o,a]=ue.exports.useState(null);return ue.exports.useEffect(()=>{n&&(async()=>{const l=await qf.get(n).then(f=>f.data),u=gG(l,{columns:!0,skip_empty_lines:!0});a(u)})()},[n]),oe("group",{opacity:t.opacity?t.opacity:.5,children:o&&s&&r&&o.map(l=>oe(yG,{clip:e,coordinates:[l[t.keys.lng],l[t.keys.lat]],bbox:s.bbox,terrain:r,label:l[t.keys.label],labelVisibility:t.labelVisibility,color:t.color,size:t.size}))})}function _G({def:n,basePath:e,...t}){if(e&&(n.path=e?new URL(n.path,e).toString():n.path),n.format==="svg")return oe(MW,{url:n.path,color:n.color});if(n.format==="png")return oe(ue.exports.Suspense,{fallback:null,children:oe(wW,{url:n.path,opacity:.5})});if(n.format==="geojson")return oe(AW,{url:n.path,opacity:.5});if(n.format==="csv")return oe(vG,{url:n.path,keys:n.keys,color:n.color,labelVisibility:n.labelVisibility,size:n.size,opacity:.5})}function xG({baseShape:n,height:e,position:t=[0,0,0],color:r={default:15856628,line:13421772,hover:6710886},wireframe:i=!1,onPointerOver:s,onPointerOut:o,children:a,...l}){const[u,f]=ue.exports.useState(!1),d=ue.exports.useMemo(()=>{const p={steps:1,depth:e||50,bevelEnabled:!1};return new ga(n,p)},[n]);return ue.exports.useEffect(()=>{if(u)return document.body.style.cursor="pointer",()=>void(document.body.style.cursor="auto")},[u]),it("mesh",{position:t,geometry:d,onPointerOver:p=>{p.stopPropagation(),f(!0),s&&s(p)},onPointerOut:p=>{f(!1),o&&o(p)},...l,children:[oe("meshLambertMaterial",{color:u?r.hover:r.default,wireframe:i,visible:!i}),it("lineSegments",{children:[oe("edgesGeometry",{attach:"geometry",args:[d,45]}),oe("lineBasicMaterial",{color:r.line,attach:"material"})]}),a]})}function wG({item:n,...e}){return it(bG,{style:{minWidth:"200px"},$_css:[{borderRadius:"0.25rem",borderWidth:"1px","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem"}],children:[oe(MG,{$_css2:[{fontSize:"0.75rem",lineHeight:"1rem"}],children:n.type}),oe("div",{children:n.name}),oe(EG,{$_css3:[{marginTop:"0.75rem",fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}],children:""})]})}function SG({base:n,z:e,depth:t,onPointerDown:r,onClick:i,...s}){const{model:o}=ue.exports.useContext(Qh),a=n[0][0],l=n[0][1],u=rc(o.bbox,a,l),f=ue.exports.useMemo(()=>{const m=new Yi;return m.moveTo(0,0),n.slice().reverse().forEach(g=>{const v=rc(o.bbox,g[0],g[1]);m.lineTo(v.x-u.x,v.y-u.y)}),m},[o,n,u.x,u.y,t]),[d,p]=ue.exports.useState(!1);return oe(xG,{baseShape:f,height:t,position:[u.x,u.y,e],onClick:i,onPointerDown:r,onPointerOver:m=>{m.stopPropagation(),p(!0)},onPointerOut:()=>p(!1),children:oe(Jh,{style:{pointerEvents:"none"},children:d&&oe(wG,{item:{name:s.name,type:s.type}})})})}var bG=ke("div").withConfig({displayName:"Building___StyledDiv",componentId:"sc-5rdsht-0"})(["",""],n=>n.$_css),MG=ke("div").withConfig({displayName:"Building___StyledDiv2",componentId:"sc-5rdsht-1"})(["",""],n=>n.$_css2),EG=ke("div").withConfig({displayName:"Building___StyledDiv3",componentId:"sc-5rdsht-2"})(["",""],n=>n.$_css3),CG="M12,5.5A3.5,3.5 0 0,1 15.5,9A3.5,3.5 0 0,1 12,12.5A3.5,3.5 0 0,1 8.5,9A3.5,3.5 0 0,1 12,5.5M5,8C5.56,8 6.08,8.15 6.53,8.42C6.38,9.85 6.8,11.27 7.66,12.38C7.16,13.34 6.16,14 5,14A3,3 0 0,1 2,11A3,3 0 0,1 5,8M19,8A3,3 0 0,1 22,11A3,3 0 0,1 19,14C17.84,14 16.84,13.34 16.34,12.38C17.2,11.27 17.62,9.85 17.47,8.42C17.92,8.15 18.44,8 19,8M5.5,18.25C5.5,16.18 8.41,14.5 12,14.5C15.59,14.5 18.5,16.18 18.5,18.25V20H5.5V18.25M0,20V18.5C0,17.11 1.89,15.94 4.45,15.6C3.86,16.28 3.5,17.22 3.5,18.25V20H0M24,20H20.5V18.25C20.5,17.22 20.14,16.28 19.55,15.6C22.11,15.94 24,17.11 24,18.5V20Z",AG="M3.97 12C3.97 16.41 7.59 20.03 12 20.03C16.41 20.03 20.03 16.41 20.03 12C20.03 7.59 16.41 3.97 12 3.97C7.59 3.97 3.97 7.59 3.97 12M2 12C2 6.46 6.46 2 12 2C17.54 2 22 6.46 22 12C22 17.54 17.54 22 12 22C6.46 22 2 17.54 2 12M10.46 11V8L6.5 12L10.46 16V13H17.5V11",TG="M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",PG="M12,23A1,1 0 0,1 11,22V19H7A2,2 0 0,1 5,17V7A2,2 0 0,1 7,5H21A2,2 0 0,1 23,7V17A2,2 0 0,1 21,19H16.9L13.2,22.71C13,22.89 12.76,23 12.5,23H12M13,17V20.08L16.08,17H21V7H7V17H13M3,15H1V3A2,2 0 0,1 3,1H19V3H3V15M9,9H19V11H9V9M9,13H17V15H9V13Z",IG="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z",TL="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",RG="M9.75 20.85C11.53 20.15 11.14 18.22 10.24 17C9.35 15.75 8.12 14.89 6.88 14.06C6 13.5 5.19 12.8 4.54 12C4.26 11.67 3.69 11.06 4.27 10.94C4.86 10.82 5.88 11.4 6.4 11.62C7.31 12 8.21 12.44 9.05 12.96L10.06 11.26C8.5 10.23 6.5 9.32 4.64 9.05C3.58 8.89 2.46 9.11 2.1 10.26C1.78 11.25 2.29 12.25 2.87 13.03C4.24 14.86 6.37 15.74 7.96 17.32C8.3 17.65 8.71 18.04 8.91 18.5C9.12 18.94 9.07 18.97 8.6 18.97C7.36 18.97 5.81 18 4.8 17.36L3.79 19.06C5.32 20 7.88 21.47 9.75 20.85M20.84 5.25C21.06 5.03 21.06 4.67 20.84 4.46L19.54 3.16C19.33 2.95 18.97 2.95 18.76 3.16L17.74 4.18L19.82 6.26M11 10.92V13H13.08L19.23 6.85L17.15 4.77L11 10.92Z",LG="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z",OG="M11,18H13V16H11V18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,6A4,4 0 0,0 8,10H10A2,2 0 0,1 12,8A2,2 0 0,1 14,10C14,12 11,11.75 11,15H13C13,12.75 16,12.5 16,10A4,4 0 0,0 12,6Z",kG="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z",DG="M7,10L12,15L17,10H7Z",NG="M7,15L12,10L17,15H7Z",FG="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z",zG="M14.06,9L15,9.94L5.92,19H5V18.08L14.06,9M17.66,3C17.41,3 17.15,3.1 16.96,3.29L15.13,5.12L18.88,8.87L20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18.17,3.09 17.92,3 17.66,3M14.06,6.19L3,17.25V21H6.75L17.81,9.94L14.06,6.19Z",BG="M2,21L23,12L2,3V10L17,12L2,14V21Z";function UG({position:n,content:e=null,z:t,depth:r,onPointerDown:i,...s}){return n=new Q(n.x,n.y,n.z),oe(Jh,{position:n,style:{transform:"translate3d(-50%,-100%,0)"},distanceFactor:1e3,children:it(VG,{$_css:[{position:"relative"}],children:[oe(WG,{style:{minWidth:"32px",width:"max-content",maxWidth:"180px"},$_css2:[{borderRadius:"0.25rem","--tw-bg-opacity":"0.5",backgroundColor:"rgb(75 85 99 / var(--tw-bg-opacity))",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"}],children:oe(GG,{$_css3:[{fontSize:"0.75rem",lineHeight:"1rem"}],children:e})}),oe(jG,{x:"0px",y:"0px",viewBox:"0 0 255 255",$_css4:[{position:"absolute",left:"0px",top:"100%",height:"0.5rem",width:"100%","--tw-text-opacity":"0.5",color:"rgb(75 85 99 / var(--tw-text-opacity))"}],children:oe($G,{points:"0,0 127.5,127.5 255,0",$_css5:[{fill:"currentColor"}]})})]})})}function HG({position:n,base:e,z:t,depth:r,onPointerDown:i,...s}){return oe(Jh,{position:n,style:{transform:"translate3d(-50%,-100%,0)"},distanceFactor:1e3,children:it(qG,{$_css6:[{position:"relative"}],children:[oe(XG,{style:{},$_css7:[{borderRadius:"0.25rem","--tw-bg-opacity":"0.5",backgroundColor:"rgb(75 85 99 / var(--tw-bg-opacity))",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"}],children:it(YG,{$_css8:[{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",lineHeight:"1rem"}],children:[oe(JG,{$_css9:[{display:"flex",height:"1.25rem",width:"1.25rem",alignItems:"center",justifyContent:"center","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"}],children:oe(ZG,{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",$_css10:[{fill:"currentColor"}],children:oe("path",{d:zG})})}),oe(QG,{$_css11:[{display:"flex",height:"1.25rem",width:"1.25rem",alignItems:"center",justifyContent:"center","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"}],children:oe(KG,{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",$_css12:[{fill:"currentColor"}],children:oe("path",{d:IG})})})]})}),oe(e7,{x:"0px",y:"0px",viewBox:"0 0 255 255",$_css13:[{position:"absolute",left:"0px",top:"100%",height:"0.5rem",width:"100%","--tw-text-opacity":"0.5",color:"rgb(75 85 99 / var(--tw-text-opacity))"}],children:oe(t7,{points:"0,0 127.5,127.5 255,0",$_css14:[{fill:"currentColor"}]})})]})})}var VG=ke("div").withConfig({displayName:"Comment___StyledDiv",componentId:"sc-1te4pr0-0"})(["",""],n=>n.$_css),WG=ke("div").withConfig({displayName:"Comment___StyledDiv2",componentId:"sc-1te4pr0-1"})(["",""],n=>n.$_css2),GG=ke("div").withConfig({displayName:"Comment___StyledDiv3",componentId:"sc-1te4pr0-2"})(["",""],n=>n.$_css3),jG=ke("svg").withConfig({displayName:"Comment___StyledSvg",componentId:"sc-1te4pr0-3"})(["",""],n=>n.$_css4),$G=ke("polygon").withConfig({displayName:"Comment___StyledPolygon",componentId:"sc-1te4pr0-4"})(["",""],n=>n.$_css5),qG=ke("div").withConfig({displayName:"Comment___StyledDiv4",componentId:"sc-1te4pr0-5"})(["",""],n=>n.$_css6),XG=ke("div").withConfig({displayName:"Comment___StyledDiv5",componentId:"sc-1te4pr0-6"})(["",""],n=>n.$_css7),YG=ke("div").withConfig({displayName:"Comment___StyledDiv6",componentId:"sc-1te4pr0-7"})(["",""],n=>n.$_css8),JG=ke("div").withConfig({displayName:"Comment___StyledDiv7",componentId:"sc-1te4pr0-8"})(["",""],n=>n.$_css9),ZG=ke("svg").withConfig({displayName:"Comment___StyledSvg2",componentId:"sc-1te4pr0-9"})(["",""],n=>n.$_css10),QG=ke("div").withConfig({displayName:"Comment___StyledDiv8",componentId:"sc-1te4pr0-10"})(["",""],n=>n.$_css11),KG=ke("svg").withConfig({displayName:"Comment___StyledSvg3",componentId:"sc-1te4pr0-11"})(["",""],n=>n.$_css12),e7=ke("svg").withConfig({displayName:"Comment___StyledSvg4",componentId:"sc-1te4pr0-12"})(["",""],n=>n.$_css13),t7=ke("polygon").withConfig({displayName:"Comment___StyledPolygon2",componentId:"sc-1te4pr0-13"})(["",""],n=>n.$_css14),PL={exports:{}},IL={exports:{}};(function(n,e){(function(r,i){n.exports=i()})(b_,function(){return function(){var t={"../../node_modules/debug/src/browser.js":function(o,a,l){a.formatArgs=f,a.save=d,a.load=p,a.useColors=u,a.storage=m(),a.destroy=function(){var v=!1;return function(){v||(v=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function u(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function f(v){if(v[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+v[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!!this.useColors){var y="color: "+this.color;v.splice(1,0,y,"color: inherit");var _=0,x=0;v[0].replace(/%[a-zA-Z%]/g,function(w){w!=="%%"&&(_++,w==="%c"&&(x=_))}),v.splice(x,0,y)}}a.log=console.debug||console.log||function(){};function d(v){try{v?a.storage.setItem("debug",v):a.storage.removeItem("debug")}catch{}}function p(){var v;try{v=a.storage.getItem("debug")}catch{}return!v&&typeof process<"u"&&"env"in process&&(v={}.DEBUG),v}function m(){try{return localStorage}catch{}}o.exports=l("../../node_modules/debug/src/common.js")(a);var g=o.exports.formatters;g.j=function(v){try{return JSON.stringify(v)}catch(y){return"[UnexpectedJSONParseError]: "+y.message}}},"../../node_modules/debug/src/common.js":function(o,a,l){function u(y){return m(y)||p(y)||d(y)||f()}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(y,_){if(y){if(typeof y=="string")return g(y,_);var x=Object.prototype.toString.call(y).slice(8,-1);if(x==="Object"&&y.constructor&&(x=y.constructor.name),x==="Map"||x==="Set")return Array.from(y);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return g(y,_)}}function p(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}function m(y){if(Array.isArray(y))return g(y)}function g(y,_){(_==null||_>y.length)&&(_=y.length);for(var x=0,w=new Array(_);x<_;x++)w[x]=y[x];return w}function v(y){x.debug=x,x.default=x,x.coerce=M,x.disable=A,x.enable=b,x.enabled=E,x.humanize=l("../../node_modules/ms/index.js"),x.destroy=I,Object.keys(y).forEach(function(P){x[P]=y[P]}),x.names=[],x.skips=[],x.formatters={};function _(P){for(var R=0,O=0;O<P.length;O++)R=(R<<5)-R+P.charCodeAt(O),R|=0;return x.colors[Math.abs(R)%x.colors.length]}x.selectColor=_;function x(P){var R,O=null,F,H;function $(){for(var X=arguments.length,j=new Array(X),D=0;D<X;D++)j[D]=arguments[D];if($.enabled){var q=$,B=Number(new Date),G=B-(R||B);q.diff=G,q.prev=R,q.curr=B,R=B,j[0]=x.coerce(j[0]),typeof j[0]!="string"&&j.unshift("%O");var N=0;j[0]=j[0].replace(/%([a-zA-Z%])/g,function(k,W){if(k==="%%")return"%";N++;var V=x.formatters[W];if(typeof V=="function"){var J=j[N];k=V.call(q,J),j.splice(N,1),N--}return k}),x.formatArgs.call(q,j);var U=q.log||x.log;U.apply(q,j)}}return $.namespace=P,$.useColors=x.useColors(),$.color=x.selectColor(P),$.extend=w,$.destroy=x.destroy,Object.defineProperty($,"enabled",{enumerable:!0,configurable:!1,get:function(){return O!==null?O:(F!==x.namespaces&&(F=x.namespaces,H=x.enabled(P)),H)},set:function(j){O=j}}),typeof x.init=="function"&&x.init($),$}function w(P,R){var O=x(this.namespace+(typeof R>"u"?":":R)+P);return O.log=this.log,O}function b(P){x.save(P),x.namespaces=P,x.names=[],x.skips=[];var R,O=(typeof P=="string"?P:"").split(/[\s,]+/),F=O.length;for(R=0;R<F;R++)O[R]&&(P=O[R].replace(/\*/g,".*?"),P[0]==="-"?x.skips.push(new RegExp("^"+P.slice(1)+"$")):x.names.push(new RegExp("^"+P+"$")))}function A(){var P=[].concat(u(x.names.map(C)),u(x.skips.map(C).map(function(R){return"-"+R}))).join(",");return x.enable(""),P}function E(P){if(P[P.length-1]==="*")return!0;var R,O;for(R=0,O=x.skips.length;R<O;R++)if(x.skips[R].test(P))return!1;for(R=0,O=x.names.length;R<O;R++)if(x.names[R].test(P))return!0;return!1}function C(P){return P.toString().substring(2,P.toString().length-2).replace(/\.\*\?$/,"*")}function M(P){return P instanceof Error?P.stack||P.message:P}function I(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return x.enable(x.load()),x}o.exports=v},"../authentication-client/lib/core.js":function(o,a,l){function u(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function f(E,C){for(var M=0;M<C.length;M++){var I=C[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}function d(E,C,M){return C&&f(E.prototype,C),M&&f(E,M),Object.defineProperty(E,"prototype",{writable:!1}),E}function p(E,C){return _(E)||y(E,C)||g(E,C)||m()}function m(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(E,C){if(E){if(typeof E=="string")return v(E,C);var M=Object.prototype.toString.call(E).slice(8,-1);if(M==="Object"&&E.constructor&&(M=E.constructor.name),M==="Map"||M==="Set")return Array.from(E);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return v(E,C)}}function v(E,C){(C==null||C>E.length)&&(C=E.length);for(var M=0,I=new Array(C);M<C;M++)I[M]=E[M];return I}function y(E,C){var M=E==null?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(M!=null){var I=[],P=!0,R=!1,O,F;try{for(M=M.call(E);!(P=(O=M.next()).done)&&(I.push(O.value),!(C&&I.length===C));P=!0);}catch(H){R=!0,F=H}finally{try{!P&&M.return!=null&&M.return()}finally{if(R)throw F}}return I}}function _(E){if(Array.isArray(E))return E}Object.defineProperty(a,"__esModule",{value:!0}),a.AuthenticationClient=void 0;var x=l("../errors/lib/index.js"),w=l("../authentication-client/lib/storage.js"),b=function(C,M){var I=new RegExp("(?:&?)".concat(M,"=([^&]*)")),P=C.hash?C.hash.match(I):null;if(P!==null){var R=p(P,2),O=R[1];return[O,I]}return[null,I]},A=function(){function E(C,M){u(this,E);var I=C.io||C.primus,P=new w.StorageWrapper(C.get("storage")||M.storage);this.app=C,this.options=M,this.authenticated=!1,this.app.set("storage",P),I&&this.handleSocket(I)}return d(E,[{key:"service",get:function(){return this.app.service(this.options.path)}},{key:"storage",get:function(){return this.app.get("storage")}},{key:"handleSocket",value:function(M){var I=this,P=this.app.io?"connect":"open",R=this.app.io?"disconnect":"disconnection";M.on(R,function(){var O=new Promise(function(F){return M.once(P,function(H){return F(H)})}).then(function(){return I.authenticated?I.reAuthenticate(!0):null});I.app.set("authentication",O)})}},{key:"getFromLocation",value:function(M){var I=b(M,this.options.locationKey),P=p(I,2),R=P[0],O=P[1];if(R!==null)return M.hash=M.hash.replace(O,""),Promise.resolve(R);var F=b(M,this.options.locationErrorKey),H=p(F,2),$=H[0],X=H[1];return $!==null?(M.hash=M.hash.replace(X,""),Promise.reject(new x.NotAuthenticated(decodeURIComponent($)))):Promise.resolve(null)}},{key:"setAccessToken",value:function(M){return this.storage.setItem(this.options.storageKey,M)}},{key:"getAccessToken",value:function(){var M=this;return this.storage.getItem(this.options.storageKey).then(function(I){return!I&&typeof window<"u"&&window.location?M.getFromLocation(window.location):I||null})}},{key:"removeAccessToken",value:function(){return this.storage.removeItem(this.options.storageKey)}},{key:"reset",value:function(){return this.app.set("authentication",null),this.authenticated=!1,Promise.resolve(null)}},{key:"handleError",value:function(M,I){var P=this;if(M.code===401||M.code===403){var R=this.removeAccessToken().then(function(){return P.reset()});return I==="logout"?R:R.then(function(){return Promise.reject(M)})}return Promise.reject(M)}},{key:"reAuthenticate",value:function(){var M=this,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,P=arguments.length>1?arguments[1]:void 0,R=this.app.get("authentication");return!R||I===!0?this.getAccessToken().then(function(O){if(!O)throw new x.NotAuthenticated("No accessToken found in storage");return M.authenticate({strategy:P||M.options.jwtStrategy,accessToken:O})}):R}},{key:"authenticate",value:function(M,I){var P=this;if(!M)return this.reAuthenticate();var R=this.service.create(M,I).then(function(O){var F=O.accessToken;return P.authenticated=!0,P.app.emit("login",O),P.app.emit("authenticated",O),P.setAccessToken(F).then(function(){return O})}).catch(function(O){return P.handleError(O,"authenticate")});return this.app.set("authentication",R),R}},{key:"logout",value:function(){var M=this;return Promise.resolve(this.app.get("authentication")).then(function(){return M.service.remove(null).then(function(I){return M.removeAccessToken().then(function(){return M.reset()}).then(function(){return M.app.emit("logout",I),I})})}).catch(function(I){return M.handleError(I,"logout")})}}]),E}();a.AuthenticationClient=A},"../authentication-client/lib/hooks/authentication.js":function(o,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.authentication=void 0;var u=l("../commons/lib/index.js"),f=function(){return function(p){var m=p.app,g=p.params,v=p.path,y=p.method,_=p.app.authentication;return(0,u.stripSlashes)(_.options.path)===v&&y==="create"?p:Promise.resolve(m.get("authentication")).then(function(x){return x&&(p.params=Object.assign({},x,g)),p})}};a.authentication=f},"../authentication-client/lib/hooks/index.js":function(o,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.populateHeader=a.authentication=void 0;var u=l("../authentication-client/lib/hooks/authentication.js");Object.defineProperty(a,"authentication",{enumerable:!0,get:function(){return u.authentication}});var f=l("../authentication-client/lib/hooks/populate-header.js");Object.defineProperty(a,"populateHeader",{enumerable:!0,get:function(){return f.populateHeader}})},"../authentication-client/lib/hooks/populate-header.js":function(o,a){function l(f,d,p){return d in f?Object.defineProperty(f,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):f[d]=p,f}Object.defineProperty(a,"__esModule",{value:!0}),a.populateHeader=void 0;var u=function(){return function(d){var p=d.app,m=d.params.accessToken,g=p.authentication;if(p.rest&&m){var v=g.options,y=v.scheme,_=v.header,x="".concat(y," ").concat(m);d.params.headers=Object.assign({},l({},_,x),d.params.headers)}return d}};a.populateHeader=u},"../authentication-client/lib/index.js":function(o,a,l){var u=this&&this.__createBinding||(Object.create?function(_,x,w,b){b===void 0&&(b=w);var A=Object.getOwnPropertyDescriptor(x,w);(!A||("get"in A?!x.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return x[w]}}),Object.defineProperty(_,b,A)}:function(_,x,w,b){b===void 0&&(b=w),_[b]=x[w]}),f=this&&this.__setModuleDefault||(Object.create?function(_,x){Object.defineProperty(_,"default",{enumerable:!0,value:x})}:function(_,x){_.default=x}),d=this&&this.__importStar||function(_){if(_&&_.__esModule)return _;var x={};if(_!=null)for(var w in _)w!=="default"&&Object.prototype.hasOwnProperty.call(_,w)&&u(x,_,w);return f(x,_),x};Object.defineProperty(a,"__esModule",{value:!0}),a.defaults=a.defaultStorage=a.hooks=a.MemoryStorage=a.AuthenticationClient=a.getDefaultStorage=void 0;var p=l("../authentication-client/lib/core.js");Object.defineProperty(a,"AuthenticationClient",{enumerable:!0,get:function(){return p.AuthenticationClient}});var m=d(l("../authentication-client/lib/hooks/index.js"));a.hooks=m;var g=l("../authentication-client/lib/storage.js");Object.defineProperty(a,"MemoryStorage",{enumerable:!0,get:function(){return g.MemoryStorage}});var v=function(){try{return new g.StorageWrapper(window.localStorage)}catch{}return new g.MemoryStorage};a.getDefaultStorage=v,a.defaultStorage=(0,a.getDefaultStorage)(),a.defaults={header:"Authorization",scheme:"Bearer",storageKey:"feathers-jwt",locationKey:"access_token",locationErrorKey:"error",jwtStrategy:"jwt",path:"/authentication",Authentication:p.AuthenticationClient,storage:a.defaultStorage};var y=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=Object.assign({},a.defaults,x),b=w.Authentication;return function(A){var E=new b(A,w);A.authentication=E,A.authenticate=E.authenticate.bind(E),A.reAuthenticate=E.reAuthenticate.bind(E),A.logout=E.logout.bind(E),A.hooks({before:{all:[m.authentication(),m.populateHeader()]}})}};a.default=y,o.exports=Object.assign(y,o.exports)},"../authentication-client/lib/storage.js":function(o,a){function l(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function u(m,g){for(var v=0;v<g.length;v++){var y=g[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}function f(m,g,v){return g&&u(m.prototype,g),v&&u(m,v),Object.defineProperty(m,"prototype",{writable:!1}),m}Object.defineProperty(a,"__esModule",{value:!0}),a.StorageWrapper=a.MemoryStorage=void 0;var d=function(){function m(){l(this,m),this.store={}}return f(m,[{key:"getItem",value:function(v){return Promise.resolve(this.store[v])}},{key:"setItem",value:function(v,y){return Promise.resolve(this.store[v]=y)}},{key:"removeItem",value:function(v){var y=this.store[v];return delete this.store[v],Promise.resolve(y)}}]),m}();a.MemoryStorage=d;var p=function(){function m(g){l(this,m),this.storage=g}return f(m,[{key:"getItem",value:function(v){return Promise.resolve(this.storage.getItem(v))}},{key:"setItem",value:function(v,y){return Promise.resolve(this.storage.setItem(v,y))}},{key:"removeItem",value:function(v){return Promise.resolve(this.storage.removeItem(v))}}]),m}();a.StorageWrapper=p},"./src/index.js":function(o,a,l){var u=l("../feathers/lib/index.js"),f=l("../errors/lib/index.js"),d=l("../authentication-client/lib/index.js"),p=l("../rest-client/lib/index.js"),m=l("../socketio-client/lib/index.js"),g=l("../primus-client/lib/index.js");Object.assign(u,{errors:f,socketio:m,primus:g,rest:p,authentication:d}),o.exports=u},"../commons/lib/hooks.js":function(o,a,l){function u(E){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},u(E)}Object.defineProperty(a,"__esModule",{value:!0}),a.enableHooks=a.processHooks=a.getHooks=a.isHookObject=a.convertHookData=a.makeArguments=a.defaultMakeArguments=a.createHookObject=a.ACTIVATE_HOOKS=void 0;var f=l("../commons/lib/utils.js"),d=f._,p=d.each,m=d.pick;a.ACTIVATE_HOOKS=(0,f.createSymbol)("__feathersActivateHooks");function g(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M={};return Object.defineProperty(M,"toJSON",{value:function(){return m(this,"type","method","path","params","id","data","result","error")}}),Object.assign(M,C,{method:E,get path(){var I=C.app,P=C.service;return!P||!I||!I.services?null:Object.keys(I.services).find(function(R){return I.services[R]===P})}})}a.createHookObject=g;function v(E){var C=[];return typeof E.id<"u"&&C.push(E.id),E.data&&C.push(E.data),C.push(E.params||{}),C}a.defaultMakeArguments=v;function y(E){switch(E.method){case"find":return[E.params];case"get":case"remove":return[E.id,E.params];case"update":case"patch":return[E.id,E.data,E.params];case"create":return[E.data,E.params]}return v(E)}a.makeArguments=y;function _(E){var C={};return Array.isArray(E)?C={all:E}:u(E)!=="object"?C={all:[E]}:p(E,function(M,I){C[I]=Array.isArray(M)?M:[M]}),C}a.convertHookData=_;function x(E){return u(E)==="object"&&typeof E.method=="string"&&typeof E.type=="string"}a.isHookObject=x;function w(E,C,M,I){var P=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,R=E.__hooks[M][I]||[],O=C.__hooks[M][I]||[];return P?O.concat(R):R.concat(O)}a.getHooks=w;function b(E,C){var M=this,I=C,P=function(F){if(F){if(!x(F))throw new Error("".concat(I.type," hook for '").concat(I.method,"' method returned invalid hook object"));I=F}return I},R=E.reduce(function(O,F){var H=F.bind(M);return O.then(function($){return H($)}).then(P)},Promise.resolve(I));return R.then(function(){return I}).catch(function(O){throw O.hook=I,O})}a.processHooks=b;function A(E,C,M){if(typeof E.hooks=="function")return E;var I={};return M.forEach(function(P){I[P]={}}),Object.defineProperty(E,"__hooks",{configurable:!0,value:I,writable:!0}),Object.assign(E,{hooks:function(R){var O=this;return p(R,function(F,H){if(!O.__hooks[H])throw new Error("'".concat(H,"' is not a valid hook type"));var $=_(F);p($,function(X,j){if(j!=="all"&&C.indexOf(j)===-1)throw new Error("'".concat(j,"' is not a valid hook method"))}),C.forEach(function(X){var j=O.__hooks[H][X]||(O.__hooks[H][X]=[]);$.all&&j.push.apply(j,$.all),$[X]&&j.push.apply(j,$[X])})}),this}})}a.enableHooks=A},"../commons/lib/index.js":function(o,a,l){var u=this&&this.__createBinding||(Object.create?function(g,v,y,_){_===void 0&&(_=y);var x=Object.getOwnPropertyDescriptor(v,y);(!x||("get"in x?!v.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return v[y]}}),Object.defineProperty(g,_,x)}:function(g,v,y,_){_===void 0&&(_=y),g[_]=v[y]}),f=this&&this.__setModuleDefault||(Object.create?function(g,v){Object.defineProperty(g,"default",{enumerable:!0,value:v})}:function(g,v){g.default=v}),d=this&&this.__importStar||function(g){if(g&&g.__esModule)return g;var v={};if(g!=null)for(var y in g)y!=="default"&&Object.prototype.hasOwnProperty.call(g,y)&&u(v,g,y);return f(v,g),v},p=this&&this.__exportStar||function(g,v){for(var y in g)y!=="default"&&!Object.prototype.hasOwnProperty.call(v,y)&&u(v,g,y)};Object.defineProperty(a,"__esModule",{value:!0}),a.hooks=void 0;var m=d(l("../commons/lib/hooks.js"));p(l("../commons/lib/utils.js"),a),a.hooks=m},"../commons/lib/utils.js":function(o,a){function l(b,A,E){return A in b?Object.defineProperty(b,A,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[A]=E,b}function u(b){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},u(b)}function f(b,A){return v(b)||g(b,A)||p(b,A)||d()}function d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(b,A){if(b){if(typeof b=="string")return m(b,A);var E=Object.prototype.toString.call(b).slice(8,-1);if(E==="Object"&&b.constructor&&(E=b.constructor.name),E==="Map"||E==="Set")return Array.from(b);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return m(b,A)}}function m(b,A){(A==null||A>b.length)&&(A=b.length);for(var E=0,C=new Array(A);E<A;E++)C[E]=b[E];return C}function g(b,A){var E=b==null?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(E!=null){var C=[],M=!0,I=!1,P,R;try{for(E=E.call(b);!(M=(P=E.next()).done)&&(C.push(P.value),!(A&&C.length===A));M=!0);}catch(O){I=!0,R=O}finally{try{!M&&E.return!=null&&E.return()}finally{if(I)throw R}}return C}}function v(b){if(Array.isArray(b))return b}Object.defineProperty(a,"__esModule",{value:!0}),a.createSymbol=a.makeUrl=a.isPromise=a._=a.stripSlashes=void 0;function y(b){return b.replace(/^(\/+)|(\/+)$/g,"")}a.stripSlashes=y,a._={each:function(A,E){A&&typeof A.forEach=="function"?A.forEach(E):a._.isObject(A)&&Object.keys(A).forEach(function(C){return E(A[C],C)})},some:function(A,E){return Object.keys(A).map(function(C){return[A[C],C]}).some(function(C){var M=f(C,2),I=M[0],P=M[1];return E(I,P)})},every:function(A,E){return Object.keys(A).map(function(C){return[A[C],C]}).every(function(C){var M=f(C,2),I=M[0],P=M[1];return E(I,P)})},keys:function(A){return Object.keys(A)},values:function(A){return a._.keys(A).map(function(E){return A[E]})},isMatch:function(A,E){return a._.keys(E).every(function(C){return A[C]===E[C]})},isEmpty:function(A){return a._.keys(A).length===0},isObject:function(A){return u(A)==="object"&&!Array.isArray(A)&&A!==null},isObjectOrArray:function(A){return u(A)==="object"&&A!==null},extend:function(A){for(var E=arguments.length,C=new Array(E>1?E-1:0),M=1;M<E;M++)C[M-1]=arguments[M];return Object.assign.apply(Object,[A].concat(C))},omit:function(A){for(var E=a._.extend({},A),C=arguments.length,M=new Array(C>1?C-1:0),I=1;I<C;I++)M[I-1]=arguments[I];return M.forEach(function(P){return delete E[P]}),E},pick:function(A){for(var E=arguments.length,C=new Array(E>1?E-1:0),M=1;M<E;M++)C[M-1]=arguments[M];return C.reduce(function(I,P){return A[P]!==void 0&&(I[P]=A[P]),I},{})},merge:function(A,E){return a._.isObject(A)&&a._.isObject(E)&&Object.keys(E).forEach(function(C){a._.isObject(E[C])?(A[C]||Object.assign(A,l({},C,{})),a._.merge(A[C],E[C])):Object.assign(A,l({},C,E[C]))}),A}};function _(b){return a._.isObject(b)&&typeof b.then=="function"}a.isPromise=_;function x(b){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=typeof A.get=="function"?A.get.bind(A):function(){},C=E("env")||"development",M=E("host")||{}.HOST_NAME||"localhost",I=C==="development"||C==="test"||C===void 0?"http":"https",P=E("port")||{}.PORT||3030,R=C==="development"||C==="test"||C===void 0?":".concat(P):"";return b=b||"","".concat(I,"://").concat(M).concat(R,"/").concat(a.stripSlashes(b))}a.makeUrl=x;function w(b){return typeof Symbol<"u"?Symbol(b):b}a.createSymbol=w},"../errors/lib/index.js":function(o,a,l){function u(X){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},u(X)}var f=l("../../node_modules/debug/src/browser.js")("@feathersjs/errors");function d(X,j,D,q,B){X=X||"Error";var G,N,U;X instanceof Error?(N=X.message||"Error",X.errors&&(G=X.errors)):u(X)==="object"?(N=X.message||"Error",B=X):N=X,B&&(U=JSON.parse(JSON.stringify(B)),U.errors?(G=U.errors,delete U.errors):B.errors&&(G=JSON.parse(JSON.stringify(B.errors)))),this.type="FeathersError",this.name=j,this.message=N,this.code=D,this.className=q,this.data=U,this.errors=G||{},f("".concat(this.name,"(").concat(this.code,"): ").concat(this.message)),f(this.errors),Error.captureStackTrace?Error.captureStackTrace(this,d):this.stack=new Error().stack}function p(X,j){X.prototype=Object.create(j.prototype),X.prototype.constructor=X}p(d,Error),Object.defineProperty(d.prototype,"toJSON",{value:function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}}});function m(X,j){d.call(this,X,"BadRequest",400,"bad-request",j)}p(m,d);function g(X,j){d.call(this,X,"NotAuthenticated",401,"not-authenticated",j)}p(g,d);function v(X,j){d.call(this,X,"PaymentError",402,"payment-error",j)}p(v,d);function y(X,j){d.call(this,X,"Forbidden",403,"forbidden",j)}p(y,d);function _(X,j){d.call(this,X,"NotFound",404,"not-found",j)}p(_,d);function x(X,j){d.call(this,X,"MethodNotAllowed",405,"method-not-allowed",j)}p(x,d);function w(X,j){d.call(this,X,"NotAcceptable",406,"not-acceptable",j)}p(w,d);function b(X,j){d.call(this,X,"Timeout",408,"timeout",j)}p(b,d);function A(X,j){d.call(this,X,"Conflict",409,"conflict",j)}p(A,d);function E(X,j){d(this,X,"Gone",410,"gone")}p(E,d);function C(X,j){d.call(this,X,"LengthRequired",411,"length-required",j)}p(C,d);function M(X,j){d.call(this,X,"Unprocessable",422,"unprocessable",j)}p(M,d);function I(X,j){d.call(this,X,"TooManyRequests",429,"too-many-requests",j)}p(I,d);function P(X,j){d.call(this,X,"GeneralError",500,"general-error",j)}p(P,d);function R(X,j){d.call(this,X,"NotImplemented",501,"not-implemented",j)}p(R,d);function O(X,j){d.call(this,X,"BadGateway",502,"bad-gateway",j)}p(O,d);function F(X,j){d.call(this,X,"Unavailable",503,"unavailable",j)}p(F,d);var H={FeathersError:d,BadRequest:m,NotAuthenticated:g,PaymentError:v,Forbidden:y,NotFound:_,MethodNotAllowed:x,NotAcceptable:w,Timeout:b,Conflict:A,Gone:E,LengthRequired:C,Unprocessable:M,TooManyRequests:I,GeneralError:P,NotImplemented:R,BadGateway:O,Unavailable:F,400:m,401:g,402:v,403:y,404:_,405:x,406:w,408:b,409:A,410:E,411:C,422:M,429:I,500:P,501:R,502:O,503:F};function $(X){if(!X)return X;var j=H[X.name],D=j?new j(X.message,X.data):new Error(X.message||X);return u(X)==="object"&&Object.assign(D,X),D}o.exports=Object.assign({convert:$},H)},"../feathers/lib/application.js":function(o,a,l){var u=l("../../node_modules/debug/src/browser.js")("feathers:application"),f=l("../commons/lib/index.js"),d=f.stripSlashes,p=l("../../node_modules/uberproto/lib/proto.js"),m=l("../feathers/lib/events.js"),g=l("../feathers/lib/hooks/index.js"),v=l("../feathers/lib/version.js"),y=p.extend({create:null}),_={init:function(){Object.assign(this,{version:v,methods:["find","get","create","update","patch","remove"],mixins:[],services:{},providers:[],_setup:!1,settings:{}}),this.configure(g()),this.configure(m())},get:function(w){return this.settings[w]},set:function(w,b){return this.settings[w]=b,this},disable:function(w){return this.settings[w]=!1,this},disabled:function(w){return!this.settings[w]},enable:function(w){return this.settings[w]=!0,this},enabled:function(w){return!!this.settings[w]},configure:function(w){return w.call(this,this),this},service:function(w,b){if(typeof b<"u")throw new Error("Registering a new service with `app.service(path, service)` is no longer supported. Use `app.use(path, service)` instead.");var A=d(w)||"/",E=this.services[A];return typeof E>"u"&&typeof this.defaultService=="function"?this.use(A,this.defaultService(A)).service(A):E},use:function(w,b){var A=this,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof w!="string")throw new Error("'".concat(w,"' is not a valid service path."));var C=d(w)||"/",M=typeof b.service=="function"&&b.services,I=this.methods.concat("setup").some(function(O){return typeof b[O]=="function"});if(M){var P=b;return Object.keys(P.services).forEach(function(O){return A.use("".concat(C,"/").concat(O),P.service(O))}),this}if(!I)throw new Error("Invalid service object passed for path `".concat(C,"`"));var R=y.isPrototypeOf(b)?b:y.extend(b);return u("Registering new service at `".concat(C,"`")),this.mixins.forEach(function(O){return O.call(A,R,C,E)}),typeof R._setup=="function"&&R._setup(this,C),this.providers.forEach(function(O){return O.call(A,R,C,E)}),this._isSetup&&typeof R.setup=="function"&&(u("Setting up service for `".concat(C,"`")),R.setup(this,C)),this.services[C]=R,this},setup:function(){var w=this;return Object.keys(this.services).forEach(function(b){var A=w.services[b];u("Setting up service for `".concat(b,"`")),typeof A.setup=="function"&&A.setup(w,b)}),this._isSetup=!0,this}};o.exports=_},"../feathers/lib/events.js":function(o,a,l){var u=l("../../node_modules/events/events.js"),f=u.EventEmitter,d=l("../../node_modules/uberproto/lib/proto.js"),p=a.eventHook=function(){return function(v){var y=v.app,_=v.service,x=v.event===null?v.event:y.eventMappings[v.method],w=_._hookEvents&&_._hookEvents.indexOf(x)!==-1;if(x&&w&&v.type!=="error"){var b=Array.isArray(v.result)?v.result:[v.result];b.forEach(function(A){return _.emit(x,A,v)})}}},m=a.eventMixin=function(v){if(!v._serviceEvents){var y=this,_=typeof v.on=="function"&&typeof v.emit=="function";typeof v.mixin=="function"&&!_&&v.mixin(f.prototype),Object.defineProperties(v,{_serviceEvents:{value:Array.isArray(v.events)?v.events.slice():[]},_hookEvents:{value:[]}}),Object.keys(y.eventMappings).forEach(function(x){var w=y.eventMappings[x],b=v._serviceEvents.indexOf(w)!==-1;typeof v[x]=="function"&&!b&&(v._serviceEvents.push(w),v._hookEvents.push(w))})}};o.exports=function(){return function(g){Object.assign(g,{eventMappings:{create:"created",update:"updated",remove:"removed",patch:"patched"}}),g.hooks({finally:p()}),d.mixin(f.prototype,g),g.mixins.push(m)}}},"../feathers/lib/hooks/base.js":function(o,a,l){var u=l("../commons/lib/index.js"),f=u._,d=function(g){var v=g.service,y=g.method,_=v.methods[y];return g.arguments.forEach(function(x,w){g[_[w]]=x}),g.params||(g.params={}),g},p=function(g){var v=g.service,y=g.method,_=g.path,x=v.methods[y];if(x.includes("id")&&g.id===void 0)throw new Error("An id must be provided to the '".concat(_,".").concat(y,"' method"));if(x.includes("data")&&!f.isObjectOrArray(g.data))throw new Error("A data object must be provided to the '".concat(_,".").concat(y,"' method"));return g};o.exports=[d,p]},"../feathers/lib/hooks/index.js":function(o,a,l){function u(P){return m(P)||p(P)||d(P)||f()}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(P,R){if(P){if(typeof P=="string")return g(P,R);var O=Object.prototype.toString.call(P).slice(8,-1);if(O==="Object"&&P.constructor&&(O=P.constructor.name),O==="Map"||O==="Set")return Array.from(P);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return g(P,R)}}function p(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}function m(P){if(Array.isArray(P))return g(P)}function g(P,R){(R==null||R>P.length)&&(R=P.length);for(var O=0,F=new Array(R);O<R;O++)F[O]=P[O];return F}var v=l("../commons/lib/index.js"),y=v.hooks,_=v.isPromise,x=l("../feathers/lib/hooks/base.js"),w=y.createHookObject,b=y.getHooks,A=y.processHooks,E=y.enableHooks,C=y.ACTIVATE_HOOKS,M=function(R){var O=R.app,F=R.service,H=R.method,$=R.original;return function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=O.hookTypes.reduce(function(D,q){var B=X[q]||[];return D[q]=Array.isArray(B)?B:[B],D},{});return function(){for(var D=arguments.length,q=new Array(D),B=0;B<D;B++)q[B]=arguments[B];var G=q[q.length-1]===!0?q.pop():!1,N=w(H,{type:"before",arguments:q,service:F,app:O});return Promise.resolve(N).then(function(U){return A.call(F,x.concat(j.before),U)}).then(function(U){if(typeof U.result<"u")return U;var k=new Promise(function(W){var V=$||F[H],J=F.methods[H].map(function(Se){return U[Se]}),re=V.apply(F,J);if(!_(re))throw new Error("Service method '".concat(U.method,"' for '").concat(U.path,"' service must return a promise"));W(re)});return k.then(function(W){return U.result=W,U}).catch(function(W){throw W.hook=U,W})}).then(function(U){var k=Object.assign({},U,{type:"after"});return A.call(F,j.after,k)}).catch(function(U){var k=Object.assign({},U.hook,{type:"error",original:U.hook,error:U,result:void 0});return A.call(F,j.error,k).catch(function(W){var V=Object.assign({},W.hook,{error:W,result:void 0});return V})}).then(function(U){return A.call(F,j.finally,U).catch(function(k){var W=Object.assign({},k.hook,{error:k,result:void 0});return W})}).then(function(U){return typeof U.error<"u"&&typeof U.result>"u"?Promise.reject(G?U:U.error):G?U:U.result})}}},I=a.hookMixin=function(R){if(typeof R.hooks!="function"){R.methods=Object.getOwnPropertyNames(R).filter(function($){return typeof R[$]=="function"&&R[$][C]}).reduce(function($,X){return $[X]=R[X][C],$},R.methods||{}),Object.assign(R.methods,{find:["params"],get:["id","params"],create:["data","params"],update:["id","data","params"],patch:["id","data","params"],remove:["id","params"]});var O=this,F=Object.keys(R.methods),H=F.reduce(function($,X){return typeof R[X]!="function"||($[X]=function(){var j=this,D=Array.from(arguments),q=j._super.bind(j);return M({app:O,service:j,method:X,original:q})({before:b(O,j,"before",X),after:b(O,j,"after",X,!0),error:b(O,j,"error",X,!0),finally:b(O,j,"finally",X,!0)}).apply(void 0,u(D))}),$},{});E(R,F,O.hookTypes),R.mixin(H)}};o.exports=function(){return function(P){Object.assign(P,{hookTypes:["before","after","error","finally"]}),E(P,P.methods,P.hookTypes),P.mixins.push(I)}},o.exports.withHooks=M,o.exports.ACTIVATE_HOOKS=C,o.exports.activateHooks=function(R){return function(O){return Object.defineProperty(O,C,{value:R}),O}}},"../feathers/lib/index.js":function(o,a,l){var u=l("../../node_modules/uberproto/lib/proto.js"),f=l("../feathers/lib/application.js"),d=l("../feathers/lib/version.js"),p=l("../feathers/lib/hooks/index.js"),m=p.ACTIVATE_HOOKS,g=p.activateHooks,v=Object.create(null);function y(){var _=Object.create(v);return u.mixin(f,_),_.init(),_}y.version=d,y.ACTIVATE_HOOKS=m,y.activateHooks=g,o.exports=y,o.exports.default=y},"../feathers/lib/version.js":function(o){o.exports="4.5.15"},"../primus-client/lib/index.js":function(o,a,l){var u=l("../transport-commons/client.js");function f(d,p){if(!d)throw new Error("Primus connection needs to be provided");var m=function(y){return new u(Object.assign({},p,{name:y,connection:d,method:"send"}))},g=function(y){if(typeof y.defaultService=="function")throw new Error("Only one default client provider can be configured");y.primus=d,y.defaultService=m};return g.Service=u,g.service=m,g}o.exports=f,o.exports.default=f},"../rest-client/lib/angular-http-client.js":function(o,a,l){function u(E){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},u(E)}function f(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function d(E,C){for(var M=0;M<C.length;M++){var I=C[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}function p(E,C,M){return C&&d(E.prototype,C),M&&d(E,M),Object.defineProperty(E,"prototype",{writable:!1}),E}function m(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),C&&g(E,C)}function g(E,C){return g=Object.setPrototypeOf||function(I,P){return I.__proto__=P,I},g(E,C)}function v(E){var C=x();return function(){var I=w(E),P;if(C){var R=w(this).constructor;P=Reflect.construct(I,arguments,R)}else P=I.apply(this,arguments);return y(this,P)}}function y(E,C){if(C&&(u(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(E)}function _(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(E){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},w(E)}var b=l("../rest-client/lib/base.js"),A=function(E){m(M,E);var C=v(M);function M(){return f(this,M),C.apply(this,arguments)}return p(M,[{key:"request",value:function(P,R){var O=this.connection,F=this.options.HttpHeaders;if(!O||!F)throw new Error("Please pass angular's 'httpClient' (instance) and and object with 'HttpHeaders' (class) to feathers-rest");var H=P.url,$=R.connection,X=$===void 0?{}:$,j=new F(Object.assign({Accept:"application/json"},this.options.headers,P.headers,X.headers)),D=Object.assign({body:P.body},R.connection,{headers:j});return new Promise(function(q,B){O.request(P.method,H,D).subscribe(q,B)}).catch(function(q){var B=q.error;throw B?typeof B=="string"?JSON.parse(B):B:q})}}]),M}(b);o.exports=A},"../rest-client/lib/angular.js":function(o,a,l){function u(E){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},u(E)}function f(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function d(E,C){for(var M=0;M<C.length;M++){var I=C[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}function p(E,C,M){return C&&d(E.prototype,C),M&&d(E,M),Object.defineProperty(E,"prototype",{writable:!1}),E}function m(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),C&&g(E,C)}function g(E,C){return g=Object.setPrototypeOf||function(I,P){return I.__proto__=P,I},g(E,C)}function v(E){var C=x();return function(){var I=w(E),P;if(C){var R=w(this).constructor;P=Reflect.construct(I,arguments,R)}else P=I.apply(this,arguments);return y(this,P)}}function y(E,C){if(C&&(u(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(E)}function _(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(E){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},w(E)}var b=l("../rest-client/lib/base.js"),A=function(E){m(M,E);var C=v(M);function M(){return f(this,M),C.apply(this,arguments)}return p(M,[{key:"request",value:function(P,R){var O=this.connection,F=this.options.Headers;if(!O||!F)throw new Error("Please pass angular's 'http' (instance) and and object with 'Headers' (class) to feathers-rest");var H=P.url,$=R.connection,X=$===void 0?{}:$,j=new F(Object.assign({Accept:"application/json"},this.options.headers,P.headers,X.headers)),D=Object.assign({method:P.method,body:P.body},X,{headers:j});return new Promise(function(q,B){O.request(H,D).subscribe(q,B)}).then(function(q){return q.json()}).catch(function(q){var B=q.response||q;throw B instanceof Error?B:B.json()||B})}}]),M}(b);o.exports=A},"../rest-client/lib/axios.js":function(o,a,l){function u(E){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},u(E)}function f(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function d(E,C){for(var M=0;M<C.length;M++){var I=C[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}function p(E,C,M){return C&&d(E.prototype,C),M&&d(E,M),Object.defineProperty(E,"prototype",{writable:!1}),E}function m(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),C&&g(E,C)}function g(E,C){return g=Object.setPrototypeOf||function(I,P){return I.__proto__=P,I},g(E,C)}function v(E){var C=x();return function(){var I=w(E),P;if(C){var R=w(this).constructor;P=Reflect.construct(I,arguments,R)}else P=I.apply(this,arguments);return y(this,P)}}function y(E,C){if(C&&(u(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(E)}function _(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(E){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},w(E)}var b=l("../rest-client/lib/base.js"),A=function(E){m(M,E);var C=v(M);function M(){return f(this,M),C.apply(this,arguments)}return p(M,[{key:"request",value:function(P,R){var O=Object.assign({url:P.url,method:P.method,data:P.body,headers:Object.assign({Accept:"application/json"},this.options.headers,P.headers)},R.connection);return this.connection.request(O).then(function(F){return F.data}).catch(function(F){var H=F.response||F;throw H instanceof Error?H:H.data||H})}}]),M}(b);o.exports=A},"../rest-client/lib/base.js":function(o,a,l){function u(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}function f(C,M){for(var I=0;I<M.length;I++){var P=M[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}function d(C,M,I){return M&&f(C.prototype,M),I&&f(C,I),Object.defineProperty(C,"prototype",{writable:!1}),C}var p=l("../../node_modules/qs/lib/index.js"),m=l("../errors/lib/index.js"),g=m.Unavailable,v=l("../commons/lib/index.js"),y=v._,_=l("../commons/lib/index.js"),x=_.stripSlashes,w=l("../errors/lib/index.js"),b=w.convert;function A(C){throw C.code==="ECONNREFUSED"?new g(C.message,y.pick(C,"address","port","config")):b(C)}var E=function(){function C(M){u(this,C),this.name=x(M.name),this.options=M.options,this.connection=M.connection,this.base="".concat(M.base,"/").concat(this.name)}return d(C,[{key:"makeUrl",value:function(I,P){I=I||{};var R=this.base;return typeof P<"u"&&P!==null&&(R+="/".concat(encodeURIComponent(P))),R+this.getQuery(I)}},{key:"getQuery",value:function(I){if(Object.keys(I).length!==0){var P=p.stringify(I);return"?".concat(P)}return""}},{key:"find",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.request({url:this.makeUrl(I.query),method:"GET",headers:Object.assign({},I.headers)},I).catch(A)}},{key:"get",value:function(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof I>"u"?Promise.reject(new Error("id for 'get' can not be undefined")):this.request({url:this.makeUrl(P.query,I),method:"GET",headers:Object.assign({},P.headers)},P).catch(A)}},{key:"create",value:function(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.request({url:this.makeUrl(P.query),body:I,method:"POST",headers:Object.assign({"Content-Type":"application/json"},P.headers)},P).catch(A)}},{key:"update",value:function(I,P){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return typeof I>"u"?Promise.reject(new Error("id for 'update' can not be undefined, only 'null' when updating multiple entries")):this.request({url:this.makeUrl(R.query,I),body:P,method:"PUT",headers:Object.assign({"Content-Type":"application/json"},R.headers)},R).catch(A)}},{key:"patch",value:function(I,P){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return typeof I>"u"?Promise.reject(new Error("id for 'patch' can not be undefined, only 'null' when updating multiple entries")):this.request({url:this.makeUrl(R.query,I),body:P,method:"PATCH",headers:Object.assign({"Content-Type":"application/json"},R.headers)},R).catch(A)}},{key:"remove",value:function(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof I>"u"?Promise.reject(new Error("id for 'remove' can not be undefined, only 'null' when removing multiple entries")):this.request({url:this.makeUrl(P.query,I),method:"DELETE",headers:Object.assign({},P.headers)},P).catch(A)}}]),C}();o.exports=E},"../rest-client/lib/fetch.js":function(o,a,l){function u(C){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},u(C)}function f(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}function d(C,M){for(var I=0;I<M.length;I++){var P=M[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}function p(C,M,I){return M&&d(C.prototype,M),I&&d(C,I),Object.defineProperty(C,"prototype",{writable:!1}),C}function m(C,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(M&&M.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),M&&g(C,M)}function g(C,M){return g=Object.setPrototypeOf||function(P,R){return P.__proto__=R,P},g(C,M)}function v(C){var M=x();return function(){var P=w(C),R;if(M){var O=w(this).constructor;R=Reflect.construct(P,arguments,O)}else R=P.apply(this,arguments);return y(this,R)}}function y(C,M){if(M&&(u(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(C)}function _(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(C){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)},w(C)}var b=l("../rest-client/lib/base.js"),A=l("../errors/lib/index.js"),E=function(C){m(I,C);var M=v(I);function I(){return f(this,I),M.apply(this,arguments)}return p(I,[{key:"request",value:function(R,O){var F=Object.assign({},R,O.connection);F.headers=Object.assign({Accept:"application/json"},this.options.headers,F.headers),R.body&&(F.body=JSON.stringify(R.body));var H=this.connection;return H(R.url,F).then(this.checkStatus).then(function($){return $.status===204?null:$.json()})}},{key:"checkStatus",value:function(R){return R.ok?R:R.json().catch(function(){var O=A[R.status]||Error;return new O("JSON parsing error")}).then(function(O){throw O.response=R,O})}}]),I}(b);o.exports=E},"../rest-client/lib/index.js":function(o,a,l){var u=l("../rest-client/lib/jquery.js"),f=l("../rest-client/lib/superagent.js"),d=l("../rest-client/lib/request.js"),p=l("../rest-client/lib/fetch.js"),m=l("../rest-client/lib/axios.js"),g=l("../rest-client/lib/angular.js"),v=l("../rest-client/lib/base.js"),y=l("../rest-client/lib/angular-http-client.js"),_={jquery:u,superagent:f,request:d,fetch:p,axios:m,angular:g,angularHttpClient:y};function x(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",b={Base:v};return Object.keys(_).forEach(function(A){b[A]=function(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_[A];if(!E)throw new Error("".concat(A," has to be provided to feathers-rest"));typeof C=="function"&&(M=C,C={});var I=function(O){return new M({base:w,name:O,connection:E,options:C})},P=function(O){if(typeof O.defaultService=="function")throw new Error("Only one default client provider can be configured");O.rest=E,O.defaultService=I};return P.Service=M,P.service=I,P}}),b}o.exports=Object.assign(x,{SuperagentClient:f,FetchClient:p,jQueryClient:u,RequestClient:d,AxiosClient:m,AngularClient:g,AngularHttpClient:y}),o.exports.default=x},"../rest-client/lib/jquery.js":function(o,a,l){function u(E){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},u(E)}function f(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function d(E,C){for(var M=0;M<C.length;M++){var I=C[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}function p(E,C,M){return C&&d(E.prototype,C),M&&d(E,M),Object.defineProperty(E,"prototype",{writable:!1}),E}function m(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),C&&g(E,C)}function g(E,C){return g=Object.setPrototypeOf||function(I,P){return I.__proto__=P,I},g(E,C)}function v(E){var C=x();return function(){var I=w(E),P;if(C){var R=w(this).constructor;P=Reflect.construct(I,arguments,R)}else P=I.apply(this,arguments);return y(this,P)}}function y(E,C){if(C&&(u(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(E)}function _(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(E){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},w(E)}var b=l("../rest-client/lib/base.js"),A=function(E){m(M,E);var C=v(M);function M(){return f(this,M),C.apply(this,arguments)}return p(M,[{key:"request",value:function(P,R){var O=this,F=R.connection,H=F===void 0?{}:F,$=Object.assign({},P.headers,this.options.headers,H.headers),X=Object.assign({dataType:P.type||"json"},H,P,{headers:$});return P.body&&(X.data=JSON.stringify(P.body),X.contentType="application/json"),delete X.type,delete X.body,new Promise(function(j,D){O.connection.ajax(X).then(j,function(q){var B=q.responseText;try{B=JSON.parse(B)}catch{B=new Error(q.responseText)}B.xhr=B.response=q,D(B)})})}}]),M}(b);o.exports=A},"../rest-client/lib/request.js":function(o,a,l){function u(E){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},u(E)}function f(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function d(E,C){for(var M=0;M<C.length;M++){var I=C[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}function p(E,C,M){return C&&d(E.prototype,C),M&&d(E,M),Object.defineProperty(E,"prototype",{writable:!1}),E}function m(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),C&&g(E,C)}function g(E,C){return g=Object.setPrototypeOf||function(I,P){return I.__proto__=P,I},g(E,C)}function v(E){var C=x();return function(){var I=w(E),P;if(C){var R=w(this).constructor;P=Reflect.construct(I,arguments,R)}else P=I.apply(this,arguments);return y(this,P)}}function y(E,C){if(C&&(u(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(E)}function _(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(E){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},w(E)}var b=l("../rest-client/lib/base.js"),A=function(E){m(M,E);var C=v(M);function M(){return f(this,M),C.apply(this,arguments)}return p(M,[{key:"request",value:function(P,R){var O=this;return new Promise(function(F,H){var $=R.connection,X=$===void 0?{}:$,j=Object.assign({},P.headers,X.headers);O.connection(Object.assign({json:!0},P,R.connection,{headers:j}),function(D,q,B){if(D)return H(D);if(!D&&q.statusCode>=400)return typeof B=="string"?H(new Error(B)):(B.response=q,H(Object.assign(new Error(B.message),B)));F(B)})})}}]),M}(b);o.exports=A},"../rest-client/lib/superagent.js":function(o,a,l){function u(E){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},u(E)}function f(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function d(E,C){for(var M=0;M<C.length;M++){var I=C[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}function p(E,C,M){return C&&d(E.prototype,C),M&&d(E,M),Object.defineProperty(E,"prototype",{writable:!1}),E}function m(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),C&&g(E,C)}function g(E,C){return g=Object.setPrototypeOf||function(I,P){return I.__proto__=P,I},g(E,C)}function v(E){var C=x();return function(){var I=w(E),P;if(C){var R=w(this).constructor;P=Reflect.construct(I,arguments,R)}else P=I.apply(this,arguments);return y(this,P)}}function y(E,C){if(C&&(u(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(E)}function _(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(E){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},w(E)}var b=l("../rest-client/lib/base.js"),A=function(E){m(M,E);var C=v(M);function M(){return f(this,M),C.apply(this,arguments)}return p(M,[{key:"request",value:function(P,R){var O=this.connection(P.method,P.url).set(this.options.headers||{}).set("Accept","application/json").set(R.connection||{}).set(P.headers||{}).type(P.type||"json");return new Promise(function(F,H){O.set(P.headers),P.body&&O.send(P.body),O.end(function($,X){if($){try{var j=$.response;$=JSON.parse($.response.text),$.response=j}catch{}return H($)}F(X&&X.body)})})}}]),M}(b);o.exports=A},"../socketio-client/lib/index.js":function(o,a,l){var u=l("../transport-commons/client.js");function f(d,p){if(!d)throw new Error("Socket.io connection needs to be provided");if(d&&d.io&&d.io.engine&&d.io.engine.transport&&d.io.engine.transport.query&&d.io.engine.transport.query.EIO>3)throw console.error("You are trying to use the Socket.io client version 3 or later with Feathers v4 which only supports Socket.io version 2. Please use socket.io-client version 2 instead."),new Error("socket.io-client must be version 2.x");var m=function(y){var _=this,x=Object.keys(this.eventMappings||{}).map(function(b){return _.eventMappings[b]}),w=Object.assign({},p,{events:x,name:y,connection:d,method:"emit"});return new u(w)},g=function(y){if(typeof y.defaultService=="function")throw new Error("Only one default client provider can be configured");y.io=d,y.defaultService=m};return g.Service=u,g.service=m,g}o.exports=f,o.exports.default=f},"../transport-commons/client.js":function(o,a,l){o.exports=l("../transport-commons/lib/client.js").Service},"../transport-commons/lib/client.js":function(o,a,l){function u(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")}function f(b,A){for(var E=0;E<A.length;E++){var C=A[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}function d(b,A,E){return A&&f(b.prototype,A),E&&f(b,E),Object.defineProperty(b,"prototype",{writable:!1}),b}var p=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(a,"__esModule",{value:!0}),a.Service=void 0;var m=p(l("../../node_modules/debug/src/browser.js")),g=l("../errors/lib/index.js"),v=(0,m.default)("@feathersjs/transport-commons/client"),y=["addListener","emit","listenerCount","listeners","on","once","prependListener","prependOnceListener","removeAllListeners","removeListener"],_=["eventNames","getMaxListeners","setMaxListeners"],x=function(A){_.forEach(function(E){A[E]=function(){var C;if(typeof this.connection[E]!="function")throw new Error("Can not call '".concat(E,"' on the client service connection"));return(C=this.connection)[E].apply(C,arguments)}}),y.forEach(function(E){A[E]=function(C){var M;if(typeof this.connection[E]!="function")throw new Error("Can not call '".concat(E,"' on the client service connection"));var I="".concat(this.path," ").concat(C);v("Calling emitter method ".concat(E," with ")+"namespaced event '".concat(I,"'"));for(var P=arguments.length,R=new Array(P>1?P-1:0),O=1;O<P;O++)R[O-1]=arguments[O];var F=(M=this.connection)[E].apply(M,[I].concat(R));return F===this.connection?this:F}})},w=function(){function b(A){u(this,b),this.events=A.events,this.path=A.name,this.connection=A.connection,this.method=A.method,this.timeout=A.timeout||5e3,x(this)}return d(b,[{key:"send",value:function(E){for(var C=this,M=arguments.length,I=new Array(M>1?M-1:0),P=1;P<M;P++)I[P-1]=arguments[P];return new Promise(function(R,O){var F,H=setTimeout(function(){return O(new g.Timeout("Timeout of ".concat(C.timeout,"ms exceeded calling ").concat(E," on ").concat(C.path),{timeout:C.timeout,method:E,path:C.path}))},C.timeout);I.unshift(E,C.path),I.push(function($,X){return $=(0,g.convert)($),clearTimeout(H),$?O($):R(X)}),v("Sending socket.".concat(C.method),I),(F=C.connection)[C.method].apply(F,I)})}},{key:"find",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.send("find",E.query||{})}},{key:"get",value:function(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.send("get",E,C.query||{})}},{key:"create",value:function(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.send("create",E,C.query||{})}},{key:"update",value:function(E,C){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.send("update",E,C,M.query||{})}},{key:"patch",value:function(E,C){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.send("patch",E,C,M.query||{})}},{key:"remove",value:function(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.send("remove",E,C.query||{})}},{key:"off",value:function(E){for(var C=arguments.length,M=new Array(C>1?C-1:0),I=1;I<C;I++)M[I-1]=arguments[I];if(typeof this.connection.off=="function"){var P,R=(P=this.connection).off.apply(P,["".concat(this.path," ").concat(E)].concat(M));return R===this.connection?this:R}else if(M.length===0)return this.removeAllListeners(E);return this.removeListener.apply(this,[E].concat(M))}}]),b}();a.Service=w},"../../node_modules/call-bind/callBound.js":function(o,a,l){var u=l("../../node_modules/get-intrinsic/index.js"),f=l("../../node_modules/call-bind/index.js"),d=f(u("String.prototype.indexOf"));o.exports=function(m,g){var v=u(m,!!g);return typeof v=="function"&&d(m,".prototype.")>-1?f(v):v}},"../../node_modules/call-bind/index.js":function(o,a,l){var u=l("../../node_modules/function-bind/index.js"),f=l("../../node_modules/get-intrinsic/index.js"),d=f("%Function.prototype.apply%"),p=f("%Function.prototype.call%"),m=f("%Reflect.apply%",!0)||u.call(p,d),g=f("%Object.getOwnPropertyDescriptor%",!0),v=f("%Object.defineProperty%",!0),y=f("%Math.max%");if(v)try{v({},"a",{value:1})}catch{v=null}o.exports=function(w){var b=m(u,p,arguments);if(g&&v){var A=g(b,"length");A.configurable&&v(b,"length",{value:1+y(0,w.length-(arguments.length-1))})}return b};var _=function(){return m(u,d,arguments)};v?v(o.exports,"apply",{value:_}):o.exports.apply=_},"../../node_modules/events/events.js":function(o){var a=typeof Reflect=="object"?Reflect:null,l=a&&typeof a.apply=="function"?a.apply:function(O,F,H){return Function.prototype.apply.call(O,F,H)},u;a&&typeof a.ownKeys=="function"?u=a.ownKeys:Object.getOwnPropertySymbols?u=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:u=function(O){return Object.getOwnPropertyNames(O)};function f(R){console&&console.warn&&console.warn(R)}var d=Number.isNaN||function(O){return O!==O};function p(){p.init.call(this)}o.exports=p,o.exports.once=M,p.EventEmitter=p,p.prototype._events=void 0,p.prototype._eventsCount=0,p.prototype._maxListeners=void 0;var m=10;function g(R){if(typeof R!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}Object.defineProperty(p,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(R){if(typeof R!="number"||R<0||d(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");m=R}}),p.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},p.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||d(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function v(R){return R._maxListeners===void 0?p.defaultMaxListeners:R._maxListeners}p.prototype.getMaxListeners=function(){return v(this)},p.prototype.emit=function(O){for(var F=[],H=1;H<arguments.length;H++)F.push(arguments[H]);var $=O==="error",X=this._events;if(X!==void 0)$=$&&X.error===void 0;else if(!$)return!1;if($){var j;if(F.length>0&&(j=F[0]),j instanceof Error)throw j;var D=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw D.context=j,D}var q=X[O];if(q===void 0)return!1;if(typeof q=="function")l(q,this,F);else for(var B=q.length,G=A(q,B),H=0;H<B;++H)l(G[H],this,F);return!0};function y(R,O,F,H){var $,X,j;if(g(F),X=R._events,X===void 0?(X=R._events=Object.create(null),R._eventsCount=0):(X.newListener!==void 0&&(R.emit("newListener",O,F.listener?F.listener:F),X=R._events),j=X[O]),j===void 0)j=X[O]=F,++R._eventsCount;else if(typeof j=="function"?j=X[O]=H?[F,j]:[j,F]:H?j.unshift(F):j.push(F),$=v(R),$>0&&j.length>$&&!j.warned){j.warned=!0;var D=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");D.name="MaxListenersExceededWarning",D.emitter=R,D.type=O,D.count=j.length,f(D)}return R}p.prototype.addListener=function(O,F){return y(this,O,F,!1)},p.prototype.on=p.prototype.addListener,p.prototype.prependListener=function(O,F){return y(this,O,F,!0)};function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function x(R,O,F){var H={fired:!1,wrapFn:void 0,target:R,type:O,listener:F},$=_.bind(H);return $.listener=F,H.wrapFn=$,$}p.prototype.once=function(O,F){return g(F),this.on(O,x(this,O,F)),this},p.prototype.prependOnceListener=function(O,F){return g(F),this.prependListener(O,x(this,O,F)),this},p.prototype.removeListener=function(O,F){var H,$,X,j,D;if(g(F),$=this._events,$===void 0)return this;if(H=$[O],H===void 0)return this;if(H===F||H.listener===F)--this._eventsCount===0?this._events=Object.create(null):(delete $[O],$.removeListener&&this.emit("removeListener",O,H.listener||F));else if(typeof H!="function"){for(X=-1,j=H.length-1;j>=0;j--)if(H[j]===F||H[j].listener===F){D=H[j].listener,X=j;break}if(X<0)return this;X===0?H.shift():E(H,X),H.length===1&&($[O]=H[0]),$.removeListener!==void 0&&this.emit("removeListener",O,D||F)}return this},p.prototype.off=p.prototype.removeListener,p.prototype.removeAllListeners=function(O){var F,H,$;if(H=this._events,H===void 0)return this;if(H.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):H[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete H[O]),this;if(arguments.length===0){var X=Object.keys(H),j;for($=0;$<X.length;++$)j=X[$],j!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(F=H[O],typeof F=="function")this.removeListener(O,F);else if(F!==void 0)for($=F.length-1;$>=0;$--)this.removeListener(O,F[$]);return this};function w(R,O,F){var H=R._events;if(H===void 0)return[];var $=H[O];return $===void 0?[]:typeof $=="function"?F?[$.listener||$]:[$]:F?C($):A($,$.length)}p.prototype.listeners=function(O){return w(this,O,!0)},p.prototype.rawListeners=function(O){return w(this,O,!1)},p.listenerCount=function(R,O){return typeof R.listenerCount=="function"?R.listenerCount(O):b.call(R,O)},p.prototype.listenerCount=b;function b(R){var O=this._events;if(O!==void 0){var F=O[R];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}p.prototype.eventNames=function(){return this._eventsCount>0?u(this._events):[]};function A(R,O){for(var F=new Array(O),H=0;H<O;++H)F[H]=R[H];return F}function E(R,O){for(;O+1<R.length;O++)R[O]=R[O+1];R.pop()}function C(R){for(var O=new Array(R.length),F=0;F<O.length;++F)O[F]=R[F].listener||R[F];return O}function M(R,O){return new Promise(function(F,H){function $(j){R.removeListener(O,X),H(j)}function X(){typeof R.removeListener=="function"&&R.removeListener("error",$),F([].slice.call(arguments))}P(R,O,X,{once:!0}),O!=="error"&&I(R,$,{once:!0})})}function I(R,O,F){typeof R.on=="function"&&P(R,"error",O,F)}function P(R,O,F,H){if(typeof R.on=="function")H.once?R.once(O,F):R.on(O,F);else if(typeof R.addEventListener=="function")R.addEventListener(O,function $(X){H.once&&R.removeEventListener(O,$),F(X)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof R)}},"../../node_modules/function-bind/implementation.js":function(o){var a="Function.prototype.bind called on incompatible ",l=Array.prototype.slice,u=Object.prototype.toString,f="[object Function]";o.exports=function(p){var m=this;if(typeof m!="function"||u.call(m)!==f)throw new TypeError(a+m);for(var g=l.call(arguments,1),v,y=function(){if(this instanceof v){var A=m.apply(this,g.concat(l.call(arguments)));return Object(A)===A?A:this}else return m.apply(p,g.concat(l.call(arguments)))},_=Math.max(0,m.length-g.length),x=[],w=0;w<_;w++)x.push("$"+w);if(v=Function("binder","return function ("+x.join(",")+"){ return binder.apply(this,arguments); }")(y),m.prototype){var b=function(){};b.prototype=m.prototype,v.prototype=new b,b.prototype=null}return v}},"../../node_modules/function-bind/index.js":function(o,a,l){var u=l("../../node_modules/function-bind/implementation.js");o.exports=Function.prototype.bind||u},"../../node_modules/get-intrinsic/index.js":function(o,a,l){var u,f=SyntaxError,d=Function,p=TypeError,m=function(D){try{return d('"use strict"; return ('+D+").constructor;")()}catch{}},g=Object.getOwnPropertyDescriptor;if(g)try{g({},"")}catch{g=null}var v=function(){throw new p},y=g?function(){try{return arguments.callee,v}catch{try{return g(arguments,"callee").get}catch{return v}}}():v,_=l("../../node_modules/has-symbols/index.js")(),x=Object.getPrototypeOf||function(D){return D.__proto__},w={},b=typeof Uint8Array>"u"?u:x(Uint8Array),A={"%AggregateError%":typeof AggregateError>"u"?u:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?u:ArrayBuffer,"%ArrayIteratorPrototype%":_?x([][Symbol.iterator]()):u,"%AsyncFromSyncIteratorPrototype%":u,"%AsyncFunction%":w,"%AsyncGenerator%":w,"%AsyncGeneratorFunction%":w,"%AsyncIteratorPrototype%":w,"%Atomics%":typeof Atomics>"u"?u:Atomics,"%BigInt%":typeof BigInt>"u"?u:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?u:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?u:Float32Array,"%Float64Array%":typeof Float64Array>"u"?u:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?u:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":w,"%Int8Array%":typeof Int8Array>"u"?u:Int8Array,"%Int16Array%":typeof Int16Array>"u"?u:Int16Array,"%Int32Array%":typeof Int32Array>"u"?u:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_?x(x([][Symbol.iterator]())):u,"%JSON%":typeof JSON=="object"?JSON:u,"%Map%":typeof Map>"u"?u:Map,"%MapIteratorPrototype%":typeof Map>"u"||!_?u:x(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?u:Promise,"%Proxy%":typeof Proxy>"u"?u:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?u:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?u:Set,"%SetIteratorPrototype%":typeof Set>"u"||!_?u:x(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?u:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_?x(""[Symbol.iterator]()):u,"%Symbol%":_?Symbol:u,"%SyntaxError%":f,"%ThrowTypeError%":y,"%TypedArray%":b,"%TypeError%":p,"%Uint8Array%":typeof Uint8Array>"u"?u:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?u:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?u:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?u:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?u:WeakMap,"%WeakRef%":typeof WeakRef>"u"?u:WeakRef,"%WeakSet%":typeof WeakSet>"u"?u:WeakSet},E=function D(q){var B;if(q==="%AsyncFunction%")B=m("async function () {}");else if(q==="%GeneratorFunction%")B=m("function* () {}");else if(q==="%AsyncGeneratorFunction%")B=m("async function* () {}");else if(q==="%AsyncGenerator%"){var G=D("%AsyncGeneratorFunction%");G&&(B=G.prototype)}else if(q==="%AsyncIteratorPrototype%"){var N=D("%AsyncGenerator%");N&&(B=x(N.prototype))}return A[q]=B,B},C={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M=l("../../node_modules/function-bind/index.js"),I=l("../../node_modules/has/src/index.js"),P=M.call(Function.call,Array.prototype.concat),R=M.call(Function.apply,Array.prototype.splice),O=M.call(Function.call,String.prototype.replace),F=M.call(Function.call,String.prototype.slice),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$=/\\(\\)?/g,X=function(q){var B=F(q,0,1),G=F(q,-1);if(B==="%"&&G!=="%")throw new f("invalid intrinsic syntax, expected closing `%`");if(G==="%"&&B!=="%")throw new f("invalid intrinsic syntax, expected opening `%`");var N=[];return O(q,H,function(U,k,W,V){N[N.length]=W?O(V,$,"$1"):k||U}),N},j=function(q,B){var G=q,N;if(I(C,G)&&(N=C[G],G="%"+N[0]+"%"),I(A,G)){var U=A[G];if(U===w&&(U=E(G)),typeof U>"u"&&!B)throw new p("intrinsic "+q+" exists, but is not available. Please file an issue!");return{alias:N,name:G,value:U}}throw new f("intrinsic "+q+" does not exist!")};o.exports=function(q,B){if(typeof q!="string"||q.length===0)throw new p("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof B!="boolean")throw new p('"allowMissing" argument must be a boolean');var G=X(q),N=G.length>0?G[0]:"",U=j("%"+N+"%",B),k=U.name,W=U.value,V=!1,J=U.alias;J&&(N=J[0],R(G,P([0,1],J)));for(var re=1,Se=!0;re<G.length;re+=1){var pe=G[re],we=F(pe,0,1),se=F(pe,-1);if((we==='"'||we==="'"||we==="`"||se==='"'||se==="'"||se==="`")&&we!==se)throw new f("property names with quotes must have matching quotes");if((pe==="constructor"||!Se)&&(V=!0),N+="."+pe,k="%"+N+"%",I(A,k))W=A[k];else if(W!=null){if(!(pe in W)){if(!B)throw new p("base intrinsic for "+q+" exists, but the property is not available.");return}if(g&&re+1>=G.length){var ce=g(W,pe);Se=!!ce,Se&&"get"in ce&&!("originalValue"in ce.get)?W=ce.get:W=W[pe]}else Se=I(W,pe),W=W[pe];Se&&!V&&(A[k]=W)}}return W}},"../../node_modules/has-symbols/index.js":function(o,a,l){var u=typeof Symbol<"u"&&Symbol,f=l("../../node_modules/has-symbols/shams.js");o.exports=function(){return typeof u!="function"||typeof Symbol!="function"||typeof u("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:f()}},"../../node_modules/has-symbols/shams.js":function(o){o.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var l={},u=Symbol("test"),f=Object(u);if(typeof u=="string"||Object.prototype.toString.call(u)!=="[object Symbol]"||Object.prototype.toString.call(f)!=="[object Symbol]")return!1;var d=42;l[u]=d;for(u in l)return!1;if(typeof Object.keys=="function"&&Object.keys(l).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(l).length!==0)return!1;var p=Object.getOwnPropertySymbols(l);if(p.length!==1||p[0]!==u||!Object.prototype.propertyIsEnumerable.call(l,u))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var m=Object.getOwnPropertyDescriptor(l,u);if(m.value!==d||m.enumerable!==!0)return!1}return!0}},"../../node_modules/has/src/index.js":function(o,a,l){var u=l("../../node_modules/function-bind/index.js");o.exports=u.call(Function.call,Object.prototype.hasOwnProperty)},"../../node_modules/ms/index.js":function(o){var a=1e3,l=a*60,u=l*60,f=u*24,d=f*7,p=f*365.25;o.exports=function(_,x){x=x||{};var w=typeof _;if(w==="string"&&_.length>0)return m(_);if(w==="number"&&isFinite(_))return x.long?v(_):g(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))};function m(_){if(_=String(_),!(_.length>100)){var x=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(_);if(x){var w=parseFloat(x[1]),b=(x[2]||"ms").toLowerCase();switch(b){case"years":case"year":case"yrs":case"yr":case"y":return w*p;case"weeks":case"week":case"w":return w*d;case"days":case"day":case"d":return w*f;case"hours":case"hour":case"hrs":case"hr":case"h":return w*u;case"minutes":case"minute":case"mins":case"min":case"m":return w*l;case"seconds":case"second":case"secs":case"sec":case"s":return w*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function g(_){var x=Math.abs(_);return x>=f?Math.round(_/f)+"d":x>=u?Math.round(_/u)+"h":x>=l?Math.round(_/l)+"m":x>=a?Math.round(_/a)+"s":_+"ms"}function v(_){var x=Math.abs(_);return x>=f?y(_,x,f,"day"):x>=u?y(_,x,u,"hour"):x>=l?y(_,x,l,"minute"):x>=a?y(_,x,a,"second"):_+" ms"}function y(_,x,w,b){var A=x>=w*1.5;return Math.round(_/w)+" "+b+(A?"s":"")}},"../../node_modules/object-inspect/index.js":function(o,a,l){var u=typeof Map=="function"&&Map.prototype,f=Object.getOwnPropertyDescriptor&&u?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,d=u&&f&&typeof f.get=="function"?f.get:null,p=u&&Map.prototype.forEach,m=typeof Set=="function"&&Set.prototype,g=Object.getOwnPropertyDescriptor&&m?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,v=m&&g&&typeof g.get=="function"?g.get:null,y=m&&Set.prototype.forEach,_=typeof WeakMap=="function"&&WeakMap.prototype,x=_?WeakMap.prototype.has:null,w=typeof WeakSet=="function"&&WeakSet.prototype,b=w?WeakSet.prototype.has:null,A=typeof WeakRef=="function"&&WeakRef.prototype,E=A?WeakRef.prototype.deref:null,C=Boolean.prototype.valueOf,M=Object.prototype.toString,I=Function.prototype.toString,P=String.prototype.match,R=String.prototype.slice,O=String.prototype.replace,F=String.prototype.toUpperCase,H=String.prototype.toLowerCase,$=RegExp.prototype.test,X=Array.prototype.concat,j=Array.prototype.join,D=Array.prototype.slice,q=Math.floor,B=typeof BigInt=="function"?BigInt.prototype.valueOf:null,G=Object.getOwnPropertySymbols,N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,U=typeof Symbol=="function"&&typeof Symbol.iterator=="object",k=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===U||"symbol")?Symbol.toStringTag:null,W=Object.prototype.propertyIsEnumerable,V=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ie){return ie.__proto__}:null);function J(ie,le){if(ie===1/0||ie===-1/0||ie!==ie||ie&&ie>-1e3&&ie<1e3||$.call(/e/,le))return le;var He=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof ie=="number"){var tt=ie<0?-q(-ie):q(ie);if(tt!==ie){var ht=String(tt),st=R.call(le,ht.length+1);return O.call(ht,He,"$&_")+"."+O.call(O.call(st,/([0-9]{3})/g,"$&_"),/_$/,"")}}return O.call(le,He,"$&_")}var re=l("?c95a").custom,Se=re&&Ne(re)?re:null;o.exports=function ie(le,He,tt,ht){var st=He||{};if(K(st,"quoteStyle")&&st.quoteStyle!=="single"&&st.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(K(st,"maxStringLength")&&(typeof st.maxStringLength=="number"?st.maxStringLength<0&&st.maxStringLength!==1/0:st.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Dn=K(st,"customInspect")?st.customInspect:!0;if(typeof Dn!="boolean"&&Dn!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(K(st,"indent")&&st.indent!==null&&st.indent!=="	"&&!(parseInt(st.indent,10)===st.indent&&st.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(K(st,"numericSeparator")&&typeof st.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Rt=st.numericSeparator;if(typeof le>"u")return"undefined";if(le===null)return"null";if(typeof le=="boolean")return le?"true":"false";if(typeof le=="string")return ae(le,st);if(typeof le=="number"){if(le===0)return 1/0/le>0?"0":"-0";var en=String(le);return Rt?J(le,en):en}if(typeof le=="bigint"){var fn=String(le)+"n";return Rt?J(le,fn):fn}var va=typeof st.depth>"u"?5:st.depth;if(typeof tt>"u"&&(tt=0),tt>=va&&va>0&&typeof le=="object")return se(le)?"[Array]":"[Object]";var ns=Zt(st,tt);if(typeof ht>"u")ht=[];else if(Le(ht,le)>=0)return"[Circular]";function ar(lr,Wt,_t){if(Wt&&(ht=D.call(ht),ht.push(Wt)),_t){var rs={depth:st.depth};return K(st,"quoteStyle")&&(rs.quoteStyle=st.quoteStyle),ie(lr,rs,tt+1,ht)}return ie(lr,st,tt+1,ht)}if(typeof le=="function"){var lo=he(le),ee=Ce(le,ar);return"[Function"+(lo?": "+lo:" (anonymous)")+"]"+(ee.length>0?" { "+j.call(ee,", ")+" }":"")}if(Ne(le)){var _e=U?O.call(String(le),/^(Symbol\(.*\))_[^)]*$/,"$1"):N.call(le);return typeof le=="object"&&!U?Fe(_e):_e}if(et(le)){for(var Ie="<"+H.call(String(le.nodeName)),ve=le.attributes||[],Re=0;Re<ve.length;Re++)Ie+=" "+ve[Re].name+"="+pe(we(ve[Re].value),"double",st);return Ie+=">",le.childNodes&&le.childNodes.length&&(Ie+="..."),Ie+="</"+H.call(String(le.nodeName))+">",Ie}if(se(le)){if(le.length===0)return"[]";var ot=Ce(le,ar);return ns&&!wt(ot)?"["+fe(ot,ns)+"]":"[ "+j.call(ot,", ")+" ]"}if(ye(le)){var ct=Ce(le,ar);return"cause"in le&&!W.call(le,"cause")?"{ ["+String(le)+"] "+j.call(X.call("[cause]: "+ar(le.cause),ct),", ")+" }":ct.length===0?"["+String(le)+"]":"{ ["+String(le)+"] "+j.call(ct,", ")+" }"}if(typeof le=="object"&&Dn){if(Se&&typeof le[Se]=="function")return le[Se]();if(Dn!=="symbol"&&typeof le.inspect=="function")return le.inspect()}if(ze(le)){var dt=[];return p.call(le,function(lr,Wt){dt.push(ar(Wt,le,!0)+" => "+ar(lr,le))}),lt("Map",d.call(le),dt,ns)}if($e(le)){var vt=[];return y.call(le,function(lr){vt.push(ar(lr,le))}),lt("Set",v.call(le),vt,ns)}if(We(le))return Ue("WeakMap");if(Oe(le))return Ue("WeakSet");if(Ke(le))return Ue("WeakRef");if(Z(le))return Fe(ar(Number(le)));if(Ge(le))return Fe(ar(B.call(le)));if(Me(le))return Fe(C.call(le));if(te(le))return Fe(ar(String(le)));if(!ce(le)&&!ge(le)){var Et=Ce(le,ar),Ct=V?V(le)===Object.prototype:le instanceof Object||le.constructor===Object,St=le instanceof Object?"":"null prototype",sn=!Ct&&k&&Object(le)===le&&k in le?R.call(Y(le),8,-1):St?"Object":"",er=Ct||typeof le.constructor!="function"?"":le.constructor.name?le.constructor.name+" ":"",Sr=er+(sn||St?"["+j.call(X.call([],sn||[],St||[]),": ")+"] ":"");return Et.length===0?Sr+"{}":ns?Sr+"{"+fe(Et,ns)+"}":Sr+"{ "+j.call(Et,", ")+" }"}return String(le)};function pe(ie,le,He){var tt=(He.quoteStyle||le)==="double"?'"':"'";return tt+ie+tt}function we(ie){return O.call(String(ie),/"/g,"&quot;")}function se(ie){return Y(ie)==="[object Array]"&&(!k||!(typeof ie=="object"&&k in ie))}function ce(ie){return Y(ie)==="[object Date]"&&(!k||!(typeof ie=="object"&&k in ie))}function ge(ie){return Y(ie)==="[object RegExp]"&&(!k||!(typeof ie=="object"&&k in ie))}function ye(ie){return Y(ie)==="[object Error]"&&(!k||!(typeof ie=="object"&&k in ie))}function te(ie){return Y(ie)==="[object String]"&&(!k||!(typeof ie=="object"&&k in ie))}function Z(ie){return Y(ie)==="[object Number]"&&(!k||!(typeof ie=="object"&&k in ie))}function Me(ie){return Y(ie)==="[object Boolean]"&&(!k||!(typeof ie=="object"&&k in ie))}function Ne(ie){if(U)return ie&&typeof ie=="object"&&ie instanceof Symbol;if(typeof ie=="symbol")return!0;if(!ie||typeof ie!="object"||!N)return!1;try{return N.call(ie),!0}catch{}return!1}function Ge(ie){if(!ie||typeof ie!="object"||!B)return!1;try{return B.call(ie),!0}catch{}return!1}var nt=Object.prototype.hasOwnProperty||function(ie){return ie in this};function K(ie,le){return nt.call(ie,le)}function Y(ie){return M.call(ie)}function he(ie){if(ie.name)return ie.name;var le=P.call(I.call(ie),/^function\s*([\w$]+)/);return le?le[1]:null}function Le(ie,le){if(ie.indexOf)return ie.indexOf(le);for(var He=0,tt=ie.length;He<tt;He++)if(ie[He]===le)return He;return-1}function ze(ie){if(!d||!ie||typeof ie!="object")return!1;try{d.call(ie);try{v.call(ie)}catch{return!0}return ie instanceof Map}catch{}return!1}function We(ie){if(!x||!ie||typeof ie!="object")return!1;try{x.call(ie,x);try{b.call(ie,b)}catch{return!0}return ie instanceof WeakMap}catch{}return!1}function Ke(ie){if(!E||!ie||typeof ie!="object")return!1;try{return E.call(ie),!0}catch{}return!1}function $e(ie){if(!v||!ie||typeof ie!="object")return!1;try{v.call(ie);try{d.call(ie)}catch{return!0}return ie instanceof Set}catch{}return!1}function Oe(ie){if(!b||!ie||typeof ie!="object")return!1;try{b.call(ie,b);try{x.call(ie,x)}catch{return!0}return ie instanceof WeakSet}catch{}return!1}function et(ie){return!ie||typeof ie!="object"?!1:typeof HTMLElement<"u"&&ie instanceof HTMLElement?!0:typeof ie.nodeName=="string"&&typeof ie.getAttribute=="function"}function ae(ie,le){if(ie.length>le.maxStringLength){var He=ie.length-le.maxStringLength,tt="... "+He+" more character"+(He>1?"s":"");return ae(R.call(ie,0,le.maxStringLength),le)+tt}var ht=O.call(O.call(ie,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ee);return pe(ht,"single",le)}function Ee(ie){var le=ie.charCodeAt(0),He={8:"b",9:"t",10:"n",12:"f",13:"r"}[le];return He?"\\"+He:"\\x"+(le<16?"0":"")+F.call(le.toString(16))}function Fe(ie){return"Object("+ie+")"}function Ue(ie){return ie+" { ? }"}function lt(ie,le,He,tt){var ht=tt?fe(He,tt):j.call(He,", ");return ie+" ("+le+") {"+ht+"}"}function wt(ie){for(var le=0;le<ie.length;le++)if(Le(ie[le],`
`)>=0)return!1;return!0}function Zt(ie,le){var He;if(ie.indent==="	")He="	";else if(typeof ie.indent=="number"&&ie.indent>0)He=j.call(Array(ie.indent+1)," ");else return null;return{base:He,prev:j.call(Array(le+1),He)}}function fe(ie,le){if(ie.length===0)return"";var He=`
`+le.prev+le.base;return He+j.call(ie,","+He)+`
`+le.prev}function Ce(ie,le){var He=se(ie),tt=[];if(He){tt.length=ie.length;for(var ht=0;ht<ie.length;ht++)tt[ht]=K(ie,ht)?le(ie[ht],ie):""}var st=typeof G=="function"?G(ie):[],Dn;if(U){Dn={};for(var Rt=0;Rt<st.length;Rt++)Dn["$"+st[Rt]]=st[Rt]}for(var en in ie)K(ie,en)&&(He&&String(Number(en))===en&&en<ie.length||U&&Dn["$"+en]instanceof Symbol||($.call(/[^\w$]/,en)?tt.push(le(en,ie)+": "+le(ie[en],ie)):tt.push(en+": "+le(ie[en],ie))));if(typeof G=="function")for(var fn=0;fn<st.length;fn++)W.call(ie,st[fn])&&tt.push("["+le(st[fn])+"]: "+le(ie[st[fn]],ie));return tt}},"../../node_modules/qs/lib/formats.js":function(o){var a=String.prototype.replace,l=/%20/g,u={RFC1738:"RFC1738",RFC3986:"RFC3986"};o.exports={default:u.RFC3986,formatters:{RFC1738:function(f){return a.call(f,l,"+")},RFC3986:function(f){return String(f)}},RFC1738:u.RFC1738,RFC3986:u.RFC3986}},"../../node_modules/qs/lib/index.js":function(o,a,l){var u=l("../../node_modules/qs/lib/stringify.js"),f=l("../../node_modules/qs/lib/parse.js"),d=l("../../node_modules/qs/lib/formats.js");o.exports={formats:d,parse:f,stringify:u}},"../../node_modules/qs/lib/parse.js":function(o,a,l){var u=l("../../node_modules/qs/lib/utils.js"),f=Object.prototype.hasOwnProperty,d=Array.isArray,p={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:u.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},m=function(A){return A.replace(/&#(\d+);/g,function(E,C){return String.fromCharCode(parseInt(C,10))})},g=function(A,E){return A&&typeof A=="string"&&E.comma&&A.indexOf(",")>-1?A.split(","):A},v="utf8=%26%2310003%3B",y="utf8=%E2%9C%93",_=function(E,C){var M={},I=C.ignoreQueryPrefix?E.replace(/^\?/,""):E,P=C.parameterLimit===1/0?void 0:C.parameterLimit,R=I.split(C.delimiter,P),O=-1,F,H=C.charset;if(C.charsetSentinel)for(F=0;F<R.length;++F)R[F].indexOf("utf8=")===0&&(R[F]===y?H="utf-8":R[F]===v&&(H="iso-8859-1"),O=F,F=R.length);for(F=0;F<R.length;++F)if(F!==O){var $=R[F],X=$.indexOf("]="),j=X===-1?$.indexOf("="):X+1,D,q;j===-1?(D=C.decoder($,p.decoder,H,"key"),q=C.strictNullHandling?null:""):(D=C.decoder($.slice(0,j),p.decoder,H,"key"),q=u.maybeMap(g($.slice(j+1),C),function(B){return C.decoder(B,p.decoder,H,"value")})),q&&C.interpretNumericEntities&&H==="iso-8859-1"&&(q=m(q)),$.indexOf("[]=")>-1&&(q=d(q)?[q]:q),f.call(M,D)?M[D]=u.combine(M[D],q):M[D]=q}return M},x=function(A,E,C,M){for(var I=M?E:g(E,C),P=A.length-1;P>=0;--P){var R,O=A[P];if(O==="[]"&&C.parseArrays)R=[].concat(I);else{R=C.plainObjects?Object.create(null):{};var F=O.charAt(0)==="["&&O.charAt(O.length-1)==="]"?O.slice(1,-1):O,H=parseInt(F,10);!C.parseArrays&&F===""?R={0:I}:!isNaN(H)&&O!==F&&String(H)===F&&H>=0&&C.parseArrays&&H<=C.arrayLimit?(R=[],R[H]=I):F!=="__proto__"&&(R[F]=I)}I=R}return I},w=function(E,C,M,I){if(E){var P=M.allowDots?E.replace(/\.([^.[]+)/g,"[$1]"):E,R=/(\[[^[\]]*])/,O=/(\[[^[\]]*])/g,F=M.depth>0&&R.exec(P),H=F?P.slice(0,F.index):P,$=[];if(H){if(!M.plainObjects&&f.call(Object.prototype,H)&&!M.allowPrototypes)return;$.push(H)}for(var X=0;M.depth>0&&(F=O.exec(P))!==null&&X<M.depth;){if(X+=1,!M.plainObjects&&f.call(Object.prototype,F[1].slice(1,-1))&&!M.allowPrototypes)return;$.push(F[1])}return F&&$.push("["+P.slice(F.index)+"]"),x($,C,M,I)}},b=function(E){if(!E)return p;if(E.decoder!==null&&E.decoder!==void 0&&typeof E.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof E.charset<"u"&&E.charset!=="utf-8"&&E.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var C=typeof E.charset>"u"?p.charset:E.charset;return{allowDots:typeof E.allowDots>"u"?p.allowDots:!!E.allowDots,allowPrototypes:typeof E.allowPrototypes=="boolean"?E.allowPrototypes:p.allowPrototypes,allowSparse:typeof E.allowSparse=="boolean"?E.allowSparse:p.allowSparse,arrayLimit:typeof E.arrayLimit=="number"?E.arrayLimit:p.arrayLimit,charset:C,charsetSentinel:typeof E.charsetSentinel=="boolean"?E.charsetSentinel:p.charsetSentinel,comma:typeof E.comma=="boolean"?E.comma:p.comma,decoder:typeof E.decoder=="function"?E.decoder:p.decoder,delimiter:typeof E.delimiter=="string"||u.isRegExp(E.delimiter)?E.delimiter:p.delimiter,depth:typeof E.depth=="number"||E.depth===!1?+E.depth:p.depth,ignoreQueryPrefix:E.ignoreQueryPrefix===!0,interpretNumericEntities:typeof E.interpretNumericEntities=="boolean"?E.interpretNumericEntities:p.interpretNumericEntities,parameterLimit:typeof E.parameterLimit=="number"?E.parameterLimit:p.parameterLimit,parseArrays:E.parseArrays!==!1,plainObjects:typeof E.plainObjects=="boolean"?E.plainObjects:p.plainObjects,strictNullHandling:typeof E.strictNullHandling=="boolean"?E.strictNullHandling:p.strictNullHandling}};o.exports=function(A,E){var C=b(E);if(A===""||A===null||typeof A>"u")return C.plainObjects?Object.create(null):{};for(var M=typeof A=="string"?_(A,C):A,I=C.plainObjects?Object.create(null):{},P=Object.keys(M),R=0;R<P.length;++R){var O=P[R],F=w(O,M[O],C,typeof A=="string");I=u.merge(I,F,C)}return C.allowSparse===!0?I:u.compact(I)}},"../../node_modules/qs/lib/stringify.js":function(o,a,l){var u=l("../../node_modules/side-channel/index.js"),f=l("../../node_modules/qs/lib/utils.js"),d=l("../../node_modules/qs/lib/formats.js"),p=Object.prototype.hasOwnProperty,m={brackets:function(P){return P+"[]"},comma:"comma",indices:function(P,R){return P+"["+R+"]"},repeat:function(P){return P}},g=Array.isArray,v=String.prototype.split,y=Array.prototype.push,_=function(I,P){y.apply(I,g(P)?P:[P])},x=Date.prototype.toISOString,w=d.default,b={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:f.encode,encodeValuesOnly:!1,format:w,formatter:d.formatters[w],indices:!1,serializeDate:function(P){return x.call(P)},skipNulls:!1,strictNullHandling:!1},A=function(P){return typeof P=="string"||typeof P=="number"||typeof P=="boolean"||typeof P=="symbol"||typeof P=="bigint"},E={},C=function I(P,R,O,F,H,$,X,j,D,q,B,G,N,U,k){for(var W=P,V=k,J=0,re=!1;(V=V.get(E))!==void 0&&!re;){var Se=V.get(P);if(J+=1,typeof Se<"u"){if(Se===J)throw new RangeError("Cyclic object value");re=!0}typeof V.get(E)>"u"&&(J=0)}if(typeof X=="function"?W=X(R,W):W instanceof Date?W=q(W):O==="comma"&&g(W)&&(W=f.maybeMap(W,function(K){return K instanceof Date?q(K):K})),W===null){if(F)return $&&!N?$(R,b.encoder,U,"key",B):R;W=""}if(A(W)||f.isBuffer(W)){if($){var pe=N?R:$(R,b.encoder,U,"key",B);if(O==="comma"&&N){for(var we=v.call(String(W),","),se="",ce=0;ce<we.length;++ce)se+=(ce===0?"":",")+G($(we[ce],b.encoder,U,"value",B));return[G(pe)+"="+se]}return[G(pe)+"="+G($(W,b.encoder,U,"value",B))]}return[G(R)+"="+G(String(W))]}var ge=[];if(typeof W>"u")return ge;var ye;if(O==="comma"&&g(W))ye=[{value:W.length>0?W.join(",")||null:void 0}];else if(g(X))ye=X;else{var te=Object.keys(W);ye=j?te.sort(j):te}for(var Z=0;Z<ye.length;++Z){var Me=ye[Z],Ne=typeof Me=="object"&&typeof Me.value<"u"?Me.value:W[Me];if(!(H&&Ne===null)){var Ge=g(W)?typeof O=="function"?O(R,Me):R:R+(D?"."+Me:"["+Me+"]");k.set(P,J);var nt=u();nt.set(E,k),_(ge,I(Ne,Ge,O,F,H,$,X,j,D,q,B,G,N,U,nt))}}return ge},M=function(P){if(!P)return b;if(P.encoder!==null&&typeof P.encoder<"u"&&typeof P.encoder!="function")throw new TypeError("Encoder has to be a function.");var R=P.charset||b.charset;if(typeof P.charset<"u"&&P.charset!=="utf-8"&&P.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var O=d.default;if(typeof P.format<"u"){if(!p.call(d.formatters,P.format))throw new TypeError("Unknown format option provided.");O=P.format}var F=d.formatters[O],H=b.filter;return(typeof P.filter=="function"||g(P.filter))&&(H=P.filter),{addQueryPrefix:typeof P.addQueryPrefix=="boolean"?P.addQueryPrefix:b.addQueryPrefix,allowDots:typeof P.allowDots>"u"?b.allowDots:!!P.allowDots,charset:R,charsetSentinel:typeof P.charsetSentinel=="boolean"?P.charsetSentinel:b.charsetSentinel,delimiter:typeof P.delimiter>"u"?b.delimiter:P.delimiter,encode:typeof P.encode=="boolean"?P.encode:b.encode,encoder:typeof P.encoder=="function"?P.encoder:b.encoder,encodeValuesOnly:typeof P.encodeValuesOnly=="boolean"?P.encodeValuesOnly:b.encodeValuesOnly,filter:H,format:O,formatter:F,serializeDate:typeof P.serializeDate=="function"?P.serializeDate:b.serializeDate,skipNulls:typeof P.skipNulls=="boolean"?P.skipNulls:b.skipNulls,sort:typeof P.sort=="function"?P.sort:null,strictNullHandling:typeof P.strictNullHandling=="boolean"?P.strictNullHandling:b.strictNullHandling}};o.exports=function(I,P){var R=I,O=M(P),F,H;typeof O.filter=="function"?(H=O.filter,R=H("",R)):g(O.filter)&&(H=O.filter,F=H);var $=[];if(typeof R!="object"||R===null)return"";var X;P&&P.arrayFormat in m?X=P.arrayFormat:P&&"indices"in P?X=P.indices?"indices":"repeat":X="indices";var j=m[X];F||(F=Object.keys(R)),O.sort&&F.sort(O.sort);for(var D=u(),q=0;q<F.length;++q){var B=F[q];O.skipNulls&&R[B]===null||_($,C(R[B],B,j,O.strictNullHandling,O.skipNulls,O.encode?O.encoder:null,O.filter,O.sort,O.allowDots,O.serializeDate,O.format,O.formatter,O.encodeValuesOnly,O.charset,D))}var G=$.join(O.delimiter),N=O.addQueryPrefix===!0?"?":"";return O.charsetSentinel&&(O.charset==="iso-8859-1"?N+="utf8=%26%2310003%3B&":N+="utf8=%E2%9C%93&"),G.length>0?N+G:""}},"../../node_modules/qs/lib/utils.js":function(o,a,l){var u=l("../../node_modules/qs/lib/formats.js"),f=Object.prototype.hasOwnProperty,d=Array.isArray,p=function(){for(var M=[],I=0;I<256;++I)M.push("%"+((I<16?"0":"")+I.toString(16)).toUpperCase());return M}(),m=function(I){for(;I.length>1;){var P=I.pop(),R=P.obj[P.prop];if(d(R)){for(var O=[],F=0;F<R.length;++F)typeof R[F]<"u"&&O.push(R[F]);P.obj[P.prop]=O}}},g=function(I,P){for(var R=P&&P.plainObjects?Object.create(null):{},O=0;O<I.length;++O)typeof I[O]<"u"&&(R[O]=I[O]);return R},v=function M(I,P,R){if(!P)return I;if(typeof P!="object"){if(d(I))I.push(P);else if(I&&typeof I=="object")(R&&(R.plainObjects||R.allowPrototypes)||!f.call(Object.prototype,P))&&(I[P]=!0);else return[I,P];return I}if(!I||typeof I!="object")return[I].concat(P);var O=I;return d(I)&&!d(P)&&(O=g(I,R)),d(I)&&d(P)?(P.forEach(function(F,H){if(f.call(I,H)){var $=I[H];$&&typeof $=="object"&&F&&typeof F=="object"?I[H]=M($,F,R):I.push(F)}else I[H]=F}),I):Object.keys(P).reduce(function(F,H){var $=P[H];return f.call(F,H)?F[H]=M(F[H],$,R):F[H]=$,F},O)},y=function(I,P){return Object.keys(P).reduce(function(R,O){return R[O]=P[O],R},I)},_=function(M,I,P){var R=M.replace(/\+/g," ");if(P==="iso-8859-1")return R.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(R)}catch{return R}},x=function(I,P,R,O,F){if(I.length===0)return I;var H=I;if(typeof I=="symbol"?H=Symbol.prototype.toString.call(I):typeof I!="string"&&(H=String(I)),R==="iso-8859-1")return escape(H).replace(/%u[0-9a-f]{4}/gi,function(D){return"%26%23"+parseInt(D.slice(2),16)+"%3B"});for(var $="",X=0;X<H.length;++X){var j=H.charCodeAt(X);if(j===45||j===46||j===95||j===126||j>=48&&j<=57||j>=65&&j<=90||j>=97&&j<=122||F===u.RFC1738&&(j===40||j===41)){$+=H.charAt(X);continue}if(j<128){$=$+p[j];continue}if(j<2048){$=$+(p[192|j>>6]+p[128|j&63]);continue}if(j<55296||j>=57344){$=$+(p[224|j>>12]+p[128|j>>6&63]+p[128|j&63]);continue}X+=1,j=65536+((j&1023)<<10|H.charCodeAt(X)&1023),$+=p[240|j>>18]+p[128|j>>12&63]+p[128|j>>6&63]+p[128|j&63]}return $},w=function(I){for(var P=[{obj:{o:I},prop:"o"}],R=[],O=0;O<P.length;++O)for(var F=P[O],H=F.obj[F.prop],$=Object.keys(H),X=0;X<$.length;++X){var j=$[X],D=H[j];typeof D=="object"&&D!==null&&R.indexOf(D)===-1&&(P.push({obj:H,prop:j}),R.push(D))}return m(P),I},b=function(I){return Object.prototype.toString.call(I)==="[object RegExp]"},A=function(I){return!I||typeof I!="object"?!1:!!(I.constructor&&I.constructor.isBuffer&&I.constructor.isBuffer(I))},E=function(I,P){return[].concat(I,P)},C=function(I,P){if(d(I)){for(var R=[],O=0;O<I.length;O+=1)R.push(P(I[O]));return R}return P(I)};o.exports={arrayToObject:g,assign:y,combine:E,compact:w,decode:_,encode:x,isBuffer:A,isRegExp:b,maybeMap:C,merge:v}},"../../node_modules/side-channel/index.js":function(o,a,l){var u=l("../../node_modules/get-intrinsic/index.js"),f=l("../../node_modules/call-bind/callBound.js"),d=l("../../node_modules/object-inspect/index.js"),p=u("%TypeError%"),m=u("%WeakMap%",!0),g=u("%Map%",!0),v=f("WeakMap.prototype.get",!0),y=f("WeakMap.prototype.set",!0),_=f("WeakMap.prototype.has",!0),x=f("Map.prototype.get",!0),w=f("Map.prototype.set",!0),b=f("Map.prototype.has",!0),A=function(I,P){for(var R=I,O;(O=R.next)!==null;R=O)if(O.key===P)return R.next=O.next,O.next=I.next,I.next=O,O},E=function(I,P){var R=A(I,P);return R&&R.value},C=function(I,P,R){var O=A(I,P);O?O.value=R:I.next={key:P,next:I.next,value:R}},M=function(I,P){return!!A(I,P)};o.exports=function(){var P,R,O,F={assert:function(H){if(!F.has(H))throw new p("Side channel does not contain "+d(H))},get:function(H){if(m&&H&&(typeof H=="object"||typeof H=="function")){if(P)return v(P,H)}else if(g){if(R)return x(R,H)}else if(O)return E(O,H)},has:function(H){if(m&&H&&(typeof H=="object"||typeof H=="function")){if(P)return _(P,H)}else if(g){if(R)return b(R,H)}else if(O)return M(O,H);return!1},set:function(H,$){m&&H&&(typeof H=="object"||typeof H=="function")?(P||(P=new m),y(P,H,$)):g?(R||(R=new g),w(R,H,$)):(O||(O={key:{},next:null}),C(O,H,$))}};return F}},"../../node_modules/uberproto/lib/proto.js":function(o,a){var l,u,f;(function(d,p){u=[],l=p,f=typeof l=="function"?l.apply(a,u):l,f!==void 0&&(o.exports=f)})(this,function(){var d=typeof Object.getOwnPropertySymbols=="function";function p(m,g,v,y){var _=typeof g=="function",x=function(){var w=this._super;this._super=_?g:m[v];var b=y.apply(this,arguments);return this._super=w,b};return _&&(Object.keys(g).forEach(function(w){x[w]=g[w]}),d&&Object.getOwnPropertySymbols(g).forEach(function(w){x[w]=g[w]})),x}return{create:function(){var m=Object.create(this),g=typeof m.__init=="string"?m.__init:"init";return typeof m[g]=="function"&&m[g].apply(m,arguments),m},mixin:function(m,g){var v=g||this,y=/\b_super\b/,_=Object.getPrototypeOf(v)||v.prototype,x={},w=m,b=function(E){var C=Object.getOwnPropertyDescriptor(w,E);!x[E]&&C&&(x[E]=C)};do Object.getOwnPropertyNames(w).forEach(b),d&&Object.getOwnPropertySymbols(w).forEach(b);while((w=Object.getPrototypeOf(w))&&Object.getPrototypeOf(w));var A=function(E){var C=x[E];typeof C.value=="function"&&y.test(C.value)&&(C.value=p(_,v[E],E,C.value)),Object.defineProperty(v,E,C)};return Object.keys(x).forEach(A),d&&Object.getOwnPropertySymbols(x).forEach(A),v},extend:function(m,g){return this.mixin(m,Object.create(g||this))},proxy:function(m){var g=this[m],v=Array.prototype.slice.call(arguments,1);return v.unshift(this),g.bind.apply(g,v)}}})},"?c95a":function(){}},r={};function i(o){var a=r[o];if(a!==void 0)return a.exports;var l=r[o]={exports:{}};return t[o].call(l.exports,l,l.exports,i),l.exports}var s=i("./src/index.js");return s}()})})(IL);(function(n){n.exports=IL.exports})(PL);const n7=Tg(PL.exports);var sb={exports:{}},F0={},bg={exports:{}},v_,w3;function r7(){if(w3)return v_;w3=1;var n=1e3,e=n*60,t=e*60,r=t*24,i=r*7,s=r*365.25;v_=function(f,d){d=d||{};var p=typeof f;if(p==="string"&&f.length>0)return o(f);if(p==="number"&&isFinite(f))return d.long?l(f):a(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function o(f){if(f=String(f),!(f.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(d){var p=parseFloat(d[1]),m=(d[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*s;case"weeks":case"week":case"w":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*t;case"minutes":case"minute":case"mins":case"min":case"m":return p*e;case"seconds":case"second":case"secs":case"sec":case"s":return p*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(f){var d=Math.abs(f);return d>=r?Math.round(f/r)+"d":d>=t?Math.round(f/t)+"h":d>=e?Math.round(f/e)+"m":d>=n?Math.round(f/n)+"s":f+"ms"}function l(f){var d=Math.abs(f);return d>=r?u(f,d,r,"day"):d>=t?u(f,d,t,"hour"):d>=e?u(f,d,e,"minute"):d>=n?u(f,d,n,"second"):f+" ms"}function u(f,d,p,m){var g=d>=p*1.5;return Math.round(f/p)+" "+m+(g?"s":"")}return v_}function i7(n){t.debug=t,t.default=t,t.coerce=l,t.disable=s,t.enable=i,t.enabled=o,t.humanize=r7(),t.destroy=u,Object.keys(n).forEach(f=>{t[f]=n[f]}),t.names=[],t.skips=[],t.formatters={};function e(f){let d=0;for(let p=0;p<f.length;p++)d=(d<<5)-d+f.charCodeAt(p),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=e;function t(f){let d,p=null,m,g;function v(...y){if(!v.enabled)return;const _=v,x=Number(new Date),w=x-(d||x);_.diff=w,_.prev=d,_.curr=x,d=x,y[0]=t.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let b=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(E,C)=>{if(E==="%%")return"%";b++;const M=t.formatters[C];if(typeof M=="function"){const I=y[b];E=M.call(_,I),y.splice(b,1),b--}return E}),t.formatArgs.call(_,y),(_.log||t.log).apply(_,y)}return v.namespace=f,v.useColors=t.useColors(),v.color=t.selectColor(f),v.extend=r,v.destroy=t.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==t.namespaces&&(m=t.namespaces,g=t.enabled(f)),g),set:y=>{p=y}}),typeof t.init=="function"&&t.init(v),v}function r(f,d){const p=t(this.namespace+(typeof d>"u"?":":d)+f);return p.log=this.log,p}function i(f){t.save(f),t.namespaces=f,t.names=[],t.skips=[];let d;const p=(typeof f=="string"?f:"").split(/[\s,]+/),m=p.length;for(d=0;d<m;d++)p[d]&&(f=p[d].replace(/\*/g,".*?"),f[0]==="-"?t.skips.push(new RegExp("^"+f.slice(1)+"$")):t.names.push(new RegExp("^"+f+"$")))}function s(){const f=[...t.names.map(a),...t.skips.map(a).map(d=>"-"+d)].join(",");return t.enable(""),f}function o(f){if(f[f.length-1]==="*")return!0;let d,p;for(d=0,p=t.skips.length;d<p;d++)if(t.skips[d].test(f))return!1;for(d=0,p=t.names.length;d<p;d++)if(t.names[d].test(f))return!0;return!1}function a(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function l(f){return f instanceof Error?f.stack||f.message:f}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var s7=i7;(function(n,e){e.formatArgs=r,e.save=i,e.load=s,e.useColors=t,e.storage=o(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let f=0,d=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(f++,p==="%c"&&(d=f))}),l.splice(d,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function s(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}function o(){try{return localStorage}catch{}}n.exports=s7(e);const{formatters:a}=n.exports;a.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(bg,bg.exports);const S3=bg.exports("@feathersjs/errors");function Pt(n,e,t,r,i){n=n||"Error";let s,o,a;n instanceof Error?(o=n.message||"Error",n.errors&&(s=n.errors)):typeof n=="object"?(o=n.message||"Error",i=n):o=n,i&&(a=JSON.parse(JSON.stringify(i)),a.errors?(s=a.errors,delete a.errors):i.errors&&(s=JSON.parse(JSON.stringify(i.errors)))),this.type="FeathersError",this.name=e,this.message=o,this.code=t,this.className=r,this.data=a,this.errors=s||{},S3(`${this.name}(${this.code}): ${this.message}`),S3(this.errors),Error.captureStackTrace?Error.captureStackTrace(this,Pt):this.stack=new Error().stack}function Kn(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n}Kn(Pt,Error);Object.defineProperty(Pt.prototype,"toJSON",{value:function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}}});function Mx(n,e){Pt.call(this,n,"BadRequest",400,"bad-request",e)}Kn(Mx,Pt);function Ex(n,e){Pt.call(this,n,"NotAuthenticated",401,"not-authenticated",e)}Kn(Ex,Pt);function Cx(n,e){Pt.call(this,n,"PaymentError",402,"payment-error",e)}Kn(Cx,Pt);function Ax(n,e){Pt.call(this,n,"Forbidden",403,"forbidden",e)}Kn(Ax,Pt);function Tx(n,e){Pt.call(this,n,"NotFound",404,"not-found",e)}Kn(Tx,Pt);function Px(n,e){Pt.call(this,n,"MethodNotAllowed",405,"method-not-allowed",e)}Kn(Px,Pt);function Ix(n,e){Pt.call(this,n,"NotAcceptable",406,"not-acceptable",e)}Kn(Ix,Pt);function Rx(n,e){Pt.call(this,n,"Timeout",408,"timeout",e)}Kn(Rx,Pt);function Lx(n,e){Pt.call(this,n,"Conflict",409,"conflict",e)}Kn(Lx,Pt);function Ox(n,e){Pt(this,n,"Gone",410,"gone")}Kn(Ox,Pt);function kx(n,e){Pt.call(this,n,"LengthRequired",411,"length-required",e)}Kn(kx,Pt);function Dx(n,e){Pt.call(this,n,"Unprocessable",422,"unprocessable",e)}Kn(Dx,Pt);function Nx(n,e){Pt.call(this,n,"TooManyRequests",429,"too-many-requests",e)}Kn(Nx,Pt);function Fx(n,e){Pt.call(this,n,"GeneralError",500,"general-error",e)}Kn(Fx,Pt);function zx(n,e){Pt.call(this,n,"NotImplemented",501,"not-implemented",e)}Kn(zx,Pt);function Bx(n,e){Pt.call(this,n,"BadGateway",502,"bad-gateway",e)}Kn(Bx,Pt);function Ux(n,e){Pt.call(this,n,"Unavailable",503,"unavailable",e)}Kn(Ux,Pt);const RL={FeathersError:Pt,BadRequest:Mx,NotAuthenticated:Ex,PaymentError:Cx,Forbidden:Ax,NotFound:Tx,MethodNotAllowed:Px,NotAcceptable:Ix,Timeout:Rx,Conflict:Lx,Gone:Ox,LengthRequired:kx,Unprocessable:Dx,TooManyRequests:Nx,GeneralError:Fx,NotImplemented:zx,BadGateway:Bx,Unavailable:Ux,400:Mx,401:Ex,402:Cx,403:Ax,404:Tx,405:Px,406:Ix,408:Rx,409:Lx,410:Ox,411:kx,422:Dx,429:Nx,500:Fx,501:zx,502:Bx,503:Ux};function o7(n){if(!n)return n;const e=RL[n.name],t=e?new e(n.message,n.data):new Error(n.message||n);return typeof n=="object"&&Object.assign(t,n),t}var a7=Object.assign({convert:o7},RL),l7=b_&&b_.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(F0,"__esModule",{value:!0});F0.Service=void 0;const u7=l7(bg.exports),b3=a7,LL=(0,u7.default)("@feathersjs/transport-commons/client"),c7=["addListener","emit","listenerCount","listeners","on","once","prependListener","prependOnceListener","removeAllListeners","removeListener"],f7=["eventNames","getMaxListeners","setMaxListeners"],h7=n=>{f7.forEach(e=>{n[e]=function(...t){if(typeof this.connection[e]!="function")throw new Error(`Can not call '${e}' on the client service connection`);return this.connection[e](...t)}}),c7.forEach(e=>{n[e]=function(t,...r){if(typeof this.connection[e]!="function")throw new Error(`Can not call '${e}' on the client service connection`);const i=`${this.path} ${t}`;LL(`Calling emitter method ${e} with namespaced event '${i}'`);const s=this.connection[e](i,...r);return s===this.connection?this:s}})};let d7=class{constructor(e){this.events=e.events,this.path=e.name,this.connection=e.connection,this.method=e.method,this.timeout=e.timeout||5e3,h7(this)}send(e,...t){return new Promise((r,i)=>{const s=setTimeout(()=>i(new b3.Timeout(`Timeout of ${this.timeout}ms exceeded calling ${e} on ${this.path}`,{timeout:this.timeout,method:e,path:this.path})),this.timeout);t.unshift(e,this.path),t.push(function(o,a){return o=(0,b3.convert)(o),clearTimeout(s),o?i(o):r(a)}),LL(`Sending socket.${this.method}`,t),this.connection[this.method](...t)})}find(e={}){return this.send("find",e.query||{})}get(e,t={}){return this.send("get",e,t.query||{})}create(e,t={}){return this.send("create",e,t.query||{})}update(e,t,r={}){return this.send("update",e,t,r.query||{})}patch(e,t,r={}){return this.send("patch",e,t,r.query||{})}remove(e,t={}){return this.send("remove",e,t.query||{})}off(e,...t){if(typeof this.connection.off=="function"){const r=this.connection.off(`${this.path} ${e}`,...t);return r===this.connection?this:r}else if(t.length===0)return this.removeAllListeners(e);return this.removeListener(e,...t)}};F0.Service=d7;var p7=F0.Service;const M3=p7;function OL(n,e){if(!n)throw new Error("Socket.io connection needs to be provided");if(n&&n.io&&n.io.engine&&n.io.engine.transport&&n.io.engine.transport.query&&n.io.engine.transport.query.EIO>3)throw console.error("You are trying to use the Socket.io client version 3 or later with Feathers v4 which only supports Socket.io version 2. Please use socket.io-client version 2 instead."),new Error("socket.io-client must be version 2.x");const t=function(i){const s=Object.keys(this.eventMappings||{}).map(a=>this.eventMappings[a]),o=Object.assign({},e,{events:s,name:i,connection:n,method:"emit"});return new M3(o)},r=function(i){if(typeof i.defaultService=="function")throw new Error("Only one default client provider can be configured");i.io=n,i.defaultService=t};return r.Service=M3,r.service=t,r}sb.exports=OL;sb.exports.default=OL;var Hx={exports:{}},m7=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g7=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],kL=function(e){var t=e,r=e.indexOf("["),i=e.indexOf("]");r!=-1&&i!=-1&&(e=e.substring(0,r)+e.substring(r,i).replace(/:/g,";")+e.substring(i,e.length));for(var s=m7.exec(e||""),o={},a=14;a--;)o[g7[a]]=s[a]||"";return r!=-1&&i!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=y7(o,o.path),o.queryKey=v7(o,o.query),o};function y7(n,e){var t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&r.splice(0,1),e.substr(e.length-1,1)=="/"&&r.splice(r.length-1,1),r}function v7(n,e){var t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(t[i]=s)}),t}var ic={exports:{}},Vx={exports:{}},hh=1e3,dh=hh*60,ph=dh*60,mh=ph*24,_7=mh*365.25,x7=function(n,e){e=e||{};var t=typeof n;if(t==="string"&&n.length>0)return w7(n);if(t==="number"&&isNaN(n)===!1)return e.long?b7(n):S7(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function w7(n){if(n=String(n),!(n.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(n);if(e){var t=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return t*_7;case"days":case"day":case"d":return t*mh;case"hours":case"hour":case"hrs":case"hr":case"h":return t*ph;case"minutes":case"minute":case"mins":case"min":case"m":return t*dh;case"seconds":case"second":case"secs":case"sec":case"s":return t*hh;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function S7(n){return n>=mh?Math.round(n/mh)+"d":n>=ph?Math.round(n/ph)+"h":n>=dh?Math.round(n/dh)+"m":n>=hh?Math.round(n/hh)+"s":n+"ms"}function b7(n){return am(n,mh,"day")||am(n,ph,"hour")||am(n,dh,"minute")||am(n,hh,"second")||n+" ms"}function am(n,e,t){if(!(n<e))return n<e*1.5?Math.floor(n/e)+" "+t:Math.ceil(n/e)+" "+t+"s"}(function(n,e){e=n.exports=r.debug=r.default=r,e.coerce=l,e.disable=o,e.enable=s,e.enabled=a,e.humanize=x7,e.instances=[],e.names=[],e.skips=[],e.formatters={};function t(u){var f=0,d;for(d in u)f=(f<<5)-f+u.charCodeAt(d),f|=0;return e.colors[Math.abs(f)%e.colors.length]}function r(u){var f;function d(){if(d.enabled){var p=d,m=+new Date,g=m-(f||m);p.diff=g,p.prev=f,p.curr=m,f=m;for(var v=new Array(arguments.length),y=0;y<v.length;y++)v[y]=arguments[y];v[0]=e.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");var _=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,function(w,b){if(w==="%%")return w;_++;var A=e.formatters[b];if(typeof A=="function"){var E=v[_];w=A.call(p,E),v.splice(_,1),_--}return w}),e.formatArgs.call(p,v);var x=d.log||e.log||console.log.bind(console);x.apply(p,v)}}return d.namespace=u,d.enabled=e.enabled(u),d.useColors=e.useColors(),d.color=t(u),d.destroy=i,typeof e.init=="function"&&e.init(d),e.instances.push(d),d}function i(){var u=e.instances.indexOf(this);return u!==-1?(e.instances.splice(u,1),!0):!1}function s(u){e.save(u),e.names=[],e.skips=[];var f,d=(typeof u=="string"?u:"").split(/[\s,]+/),p=d.length;for(f=0;f<p;f++)d[f]&&(u=d[f].replace(/\*/g,".*?"),u[0]==="-"?e.skips.push(new RegExp("^"+u.substr(1)+"$")):e.names.push(new RegExp("^"+u+"$")));for(f=0;f<e.instances.length;f++){var m=e.instances[f];m.enabled=e.enabled(m.namespace)}}function o(){e.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var f,d;for(f=0,d=e.skips.length;f<d;f++)if(e.skips[f].test(u))return!1;for(f=0,d=e.names.length;f<d;f++)if(e.names[f].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}})(Vx,Vx.exports);(function(n,e){e=n.exports=Vx.exports,e.log=i,e.formatArgs=r,e.save=s,e.load=o,e.useColors=t,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:a(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function r(l){var u=this.useColors;if(l[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+l[0]+(u?"%c ":" ")+"+"+e.humanize(this.diff),!!u){var f="color: "+this.color;l.splice(1,0,f,"color: inherit");var d=0,p=0;l[0].replace(/%[a-zA-Z%]/g,function(m){m!=="%%"&&(d++,m==="%c"&&(p=d))}),l.splice(p,0,f)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(l){try{l==null?e.storage.removeItem("debug"):e.storage.debug=l}catch{}}function o(){var l;try{l=e.storage.debug}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}e.enable(o());function a(){try{return window.localStorage}catch{}}})(ic,ic.exports);var M7=kL,E3=ic.exports("socket.io-client:url"),E7=C7;function C7(n,e){var t=n;e=e||typeof location<"u"&&location,n==null&&(n=e.protocol+"//"+e.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=e.protocol+n:n=e.host+n),/^(https?|wss?):\/\//.test(n)||(E3("protocol-less url %s",n),typeof e<"u"?n=e.protocol+"//"+n:n="https://"+n),E3("parse %s",n),t=M7(n)),t.port||(/^(http|ws)$/.test(t.protocol)?t.port="80":/^(http|ws)s$/.test(t.protocol)&&(t.port="443")),t.path=t.path||"/";var r=t.host.indexOf(":")!==-1,i=r?"["+t.host+"]":t.host;return t.id=t.protocol+"://"+i+":"+t.port,t.href=t.protocol+"://"+i+(e&&e.port===t.port?"":":"+t.port),t}var z0={},Wx={exports:{}},Gx={exports:{}},gh=1e3,yh=gh*60,vh=yh*60,_h=vh*24,A7=_h*365.25,T7=function(n,e){e=e||{};var t=typeof n;if(t==="string"&&n.length>0)return P7(n);if(t==="number"&&isNaN(n)===!1)return e.long?R7(n):I7(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function P7(n){if(n=String(n),!(n.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(n);if(e){var t=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return t*A7;case"days":case"day":case"d":return t*_h;case"hours":case"hour":case"hrs":case"hr":case"h":return t*vh;case"minutes":case"minute":case"mins":case"min":case"m":return t*yh;case"seconds":case"second":case"secs":case"sec":case"s":return t*gh;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function I7(n){return n>=_h?Math.round(n/_h)+"d":n>=vh?Math.round(n/vh)+"h":n>=yh?Math.round(n/yh)+"m":n>=gh?Math.round(n/gh)+"s":n+"ms"}function R7(n){return lm(n,_h,"day")||lm(n,vh,"hour")||lm(n,yh,"minute")||lm(n,gh,"second")||n+" ms"}function lm(n,e,t){if(!(n<e))return n<e*1.5?Math.floor(n/e)+" "+t:Math.ceil(n/e)+" "+t+"s"}(function(n,e){e=n.exports=r.debug=r.default=r,e.coerce=l,e.disable=o,e.enable=s,e.enabled=a,e.humanize=T7,e.instances=[],e.names=[],e.skips=[],e.formatters={};function t(u){var f=0,d;for(d in u)f=(f<<5)-f+u.charCodeAt(d),f|=0;return e.colors[Math.abs(f)%e.colors.length]}function r(u){var f;function d(){if(d.enabled){var p=d,m=+new Date,g=m-(f||m);p.diff=g,p.prev=f,p.curr=m,f=m;for(var v=new Array(arguments.length),y=0;y<v.length;y++)v[y]=arguments[y];v[0]=e.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");var _=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,function(w,b){if(w==="%%")return w;_++;var A=e.formatters[b];if(typeof A=="function"){var E=v[_];w=A.call(p,E),v.splice(_,1),_--}return w}),e.formatArgs.call(p,v);var x=d.log||e.log||console.log.bind(console);x.apply(p,v)}}return d.namespace=u,d.enabled=e.enabled(u),d.useColors=e.useColors(),d.color=t(u),d.destroy=i,typeof e.init=="function"&&e.init(d),e.instances.push(d),d}function i(){var u=e.instances.indexOf(this);return u!==-1?(e.instances.splice(u,1),!0):!1}function s(u){e.save(u),e.names=[],e.skips=[];var f,d=(typeof u=="string"?u:"").split(/[\s,]+/),p=d.length;for(f=0;f<p;f++)d[f]&&(u=d[f].replace(/\*/g,".*?"),u[0]==="-"?e.skips.push(new RegExp("^"+u.substr(1)+"$")):e.names.push(new RegExp("^"+u+"$")));for(f=0;f<e.instances.length;f++){var m=e.instances[f];m.enabled=e.enabled(m.namespace)}}function o(){e.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var f,d;for(f=0,d=e.skips.length;f<d;f++)if(e.skips[f].test(u))return!1;for(f=0,d=e.names.length;f<d;f++)if(e.names[f].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}})(Gx,Gx.exports);(function(n,e){e=n.exports=Gx.exports,e.log=i,e.formatArgs=r,e.save=s,e.load=o,e.useColors=t,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:a(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function r(l){var u=this.useColors;if(l[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+l[0]+(u?"%c ":" ")+"+"+e.humanize(this.diff),!!u){var f="color: "+this.color;l.splice(1,0,f,"color: inherit");var d=0,p=0;l[0].replace(/%[a-zA-Z%]/g,function(m){m!=="%%"&&(d++,m==="%c"&&(p=d))}),l.splice(p,0,f)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(l){try{l==null?e.storage.removeItem("debug"):e.storage.debug=l}catch{}}function o(){var l;try{l=e.storage.debug}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}e.enable(o());function a(){try{return window.localStorage}catch{}}})(Wx,Wx.exports);var Pl={exports:{}};(function(n){n.exports=e;function e(r){if(r)return t(r)}function t(r){for(var i in e.prototype)r[i]=e.prototype[i];return r}e.prototype.on=e.prototype.addEventListener=function(r,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(i),this},e.prototype.once=function(r,i){function s(){this.off(r,s),i.apply(this,arguments)}return s.fn=i,this.on(r,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(r,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===i||o.fn===i){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+r],this},e.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+r],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,i)}return this},e.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},e.prototype.hasListeners=function(r){return!!this.listeners(r).length}})(Pl);var B0={},L7={}.toString,ob=Array.isArray||function(n){return L7.call(n)=="[object Array]"},DL=N7,O7=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",k7=typeof ArrayBuffer=="function",D7=function(n){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer};function N7(n){return O7&&Buffer.isBuffer(n)||k7&&(n instanceof ArrayBuffer||D7(n))}var ab=ob,NL=DL,FL=Object.prototype.toString,F7=typeof Blob=="function"||typeof Blob<"u"&&FL.call(Blob)==="[object BlobConstructor]",z7=typeof File=="function"||typeof File<"u"&&FL.call(File)==="[object FileConstructor]";B0.deconstructPacket=function(n){var e=[],t=n.data,r=n;return r.data=jx(t,e),r.attachments=e.length,{packet:r,buffers:e}};function jx(n,e){if(!n)return n;if(NL(n)){var t={_placeholder:!0,num:e.length};return e.push(n),t}else if(ab(n)){for(var r=new Array(n.length),i=0;i<n.length;i++)r[i]=jx(n[i],e);return r}else if(typeof n=="object"&&!(n instanceof Date)){var r={};for(var s in n)r[s]=jx(n[s],e);return r}return n}B0.reconstructPacket=function(n,e){return n.data=$x(n.data,e),n.attachments=void 0,n};function $x(n,e){if(!n)return n;if(n&&n._placeholder===!0){var t=typeof n.num=="number"&&n.num>=0&&n.num<e.length;if(t)return e[n.num];throw new Error("illegal attachments")}else if(ab(n))for(var r=0;r<n.length;r++)n[r]=$x(n[r],e);else if(typeof n=="object")for(var i in n)n[i]=$x(n[i],e);return n}B0.removeBlobs=function(n,e){function t(s,o,a){if(!s)return s;if(F7&&s instanceof Blob||z7&&s instanceof File){r++;var l=new FileReader;l.onload=function(){a?a[o]=this.result:i=this.result,--r||e(i)},l.readAsArrayBuffer(s)}else if(ab(s))for(var u=0;u<s.length;u++)t(s[u],u,s);else if(typeof s=="object"&&!NL(s))for(var f in s)t(s[f],f,s)}var r=0,i=n;t(i),r||e(i)};(function(n){var e=Wx.exports("socket.io-parser"),t=Pl.exports,r=B0,i=ob,s=DL;n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=o,n.Decoder=d;function o(){}var a=n.ERROR+'"encode error"';o.prototype.encode=function(y,_){if(e("encoding packet %j",y),n.BINARY_EVENT===y.type||n.BINARY_ACK===y.type)f(y,_);else{var x=l(y);_([x])}};function l(y){var _=""+y.type;if((n.BINARY_EVENT===y.type||n.BINARY_ACK===y.type)&&(_+=y.attachments+"-"),y.nsp&&y.nsp!=="/"&&(_+=y.nsp+","),y.id!=null&&(_+=y.id),y.data!=null){var x=u(y.data);if(x!==!1)_+=x;else return a}return e("encoded %j as %s",y,_),_}function u(y){try{return JSON.stringify(y)}catch{return!1}}function f(y,_){function x(w){var b=r.deconstructPacket(w),A=l(b.packet),E=b.buffers;E.unshift(A),_(E)}r.removeBlobs(y,x)}function d(){this.reconstructor=null}t(d.prototype),d.prototype.add=function(y){var _;if(typeof y=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");_=p(y),n.BINARY_EVENT===_.type||n.BINARY_ACK===_.type?(this.reconstructor=new g(_),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",_)):this.emit("decoded",_)}else if(s(y)||y.base64)if(this.reconstructor)_=this.reconstructor.takeBinaryData(y),_&&(this.reconstructor=null,this.emit("decoded",_));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+y)};function p(y){var _=0,x={type:Number(y.charAt(0))};if(n.types[x.type]==null)return v("unknown packet type "+x.type);if(n.BINARY_EVENT===x.type||n.BINARY_ACK===x.type){for(var w=_+1;y.charAt(++_)!=="-"&&_!=y.length;);var b=y.substring(w,_);if(b!=Number(b)||y.charAt(_)!=="-")throw new Error("Illegal attachments");x.attachments=Number(b)}if(y.charAt(_+1)==="/"){for(var w=_+1;++_;){var A=y.charAt(_);if(A===","||_===y.length)break}x.nsp=y.substring(w,_)}else x.nsp="/";var E=y.charAt(_+1);if(E!==""&&Number(E)==E){for(var w=_+1;++_;){var A=y.charAt(_);if(A==null||Number(A)!=A){--_;break}if(_===y.length)break}x.id=Number(y.substring(w,_+1))}if(y.charAt(++_)){var C=m(y.substr(_)),M=C!==!1&&(x.type===n.ERROR||i(C));if(M)x.data=C;else return v("invalid payload")}return e("decoded %s as %j",y,x),x}function m(y){try{return JSON.parse(y)}catch{return!1}}d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function g(y){this.reconPack=y,this.buffers=[]}g.prototype.takeBinaryData=function(y){if(this.buffers.push(y),this.buffers.length===this.reconPack.attachments){var _=r.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),_}return null},g.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function v(y){return{type:n.ERROR,data:"parser error: "+y}}})(z0);var zL={exports:{}},U0={},qx={exports:{}};try{qx.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{qx.exports=!1}var lb=function(){return typeof self<"u"?self:typeof window<"u"?window:Function("return this")()}(),B7=qx.exports,U7=lb,ub=function(n){var e=n.xdomain,t=n.xscheme,r=n.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!e||B7))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!t&&r)return new XDomainRequest}catch{}if(!e)try{return new U7[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}},cb={exports:{}},Il={},H7=Object.keys||function(e){var t=[],r=Object.prototype.hasOwnProperty;for(var i in e)r.call(e,i)&&t.push(i);return t},V7=ob,BL=Object.prototype.toString,W7=typeof Blob=="function"||typeof Blob<"u"&&BL.call(Blob)==="[object BlobConstructor]",G7=typeof File=="function"||typeof File<"u"&&BL.call(File)==="[object FileConstructor]",UL=zm;function zm(n){if(!n||typeof n!="object")return!1;if(V7(n)){for(var e=0,t=n.length;e<t;e++)if(zm(n[e]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(n)||typeof ArrayBuffer=="function"&&n instanceof ArrayBuffer||W7&&n instanceof Blob||G7&&n instanceof File)return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return zm(n.toJSON(),!0);for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&zm(n[r]))return!0;return!1}var j7=function(n,e,t){var r=n.byteLength;if(e=e||0,t=t||r,n.slice)return n.slice(e,t);if(e<0&&(e+=r),t<0&&(t+=r),t>r&&(t=r),e>=r||e>=t||r===0)return new ArrayBuffer(0);for(var i=new Uint8Array(n),s=new Uint8Array(t-e),o=e,a=0;o<t;o++,a++)s[a]=i[o];return s.buffer},$7=q7;function q7(n,e,t){var r=!1;return t=t||X7,i.count=n,n===0?e():i;function i(s,o){if(i.count<=0)throw new Error("after called too many times");--i.count,s?(r=!0,e(s),e=t):i.count===0&&!r&&e(null,o)}}function X7(){}var No=String.fromCharCode;function HL(n){for(var e=[],t=0,r=n.length,i,s;t<r;)i=n.charCodeAt(t++),i>=55296&&i<=56319&&t<r?(s=n.charCodeAt(t++),(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)):e.push(i);return e}function Y7(n){for(var e=n.length,t=-1,r,i="";++t<e;)r=n[t],r>65535&&(r-=65536,i+=No(r>>>10&1023|55296),r=56320|r&1023),i+=No(r);return i}function VL(n,e){if(n>=55296&&n<=57343){if(e)throw Error("Lone surrogate U+"+n.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function __(n,e){return No(n>>e&63|128)}function J7(n,e){if(!(n&4294967168))return No(n);var t="";return n&4294965248?n&4294901760?n&4292870144||(t=No(n>>18&7|240),t+=__(n,12),t+=__(n,6)):(VL(n,e)||(n=65533),t=No(n>>12&15|224),t+=__(n,6)):t=No(n>>6&31|192),t+=No(n&63|128),t}function Z7(n,e){e=e||{};for(var t=e.strict!==!1,r=HL(n),i=r.length,s=-1,o,a="";++s<i;)o=r[s],a+=J7(o,t);return a}function hu(){if(Vo>=Eg)throw Error("Invalid byte index");var n=Mg[Vo]&255;if(Vo++,(n&192)==128)return n&63;throw Error("Invalid continuation byte")}function Q7(n){var e,t,r,i,s;if(Vo>Eg)throw Error("Invalid byte index");if(Vo==Eg)return!1;if(e=Mg[Vo]&255,Vo++,!(e&128))return e;if((e&224)==192){if(t=hu(),s=(e&31)<<6|t,s>=128)return s;throw Error("Invalid continuation byte")}if((e&240)==224){if(t=hu(),r=hu(),s=(e&15)<<12|t<<6|r,s>=2048)return VL(s,n)?s:65533;throw Error("Invalid continuation byte")}if((e&248)==240&&(t=hu(),r=hu(),i=hu(),s=(e&7)<<18|t<<12|r<<6|i,s>=65536&&s<=1114111))return s;throw Error("Invalid UTF-8 detected")}var Mg,Eg,Vo;function K7(n,e){e=e||{};var t=e.strict!==!1;Mg=HL(n),Eg=Mg.length,Vo=0;for(var r=[],i;(i=Q7(t))!==!1;)r.push(i);return Y7(r)}var ej={version:"2.1.2",encode:Z7,decode:K7},um={},C3;function tj(){return C3||(C3=1,function(n){um.encode=function(e){var t=new Uint8Array(e),r,i=t.length,s="";for(r=0;r<i;r+=3)s+=n[t[r]>>2],s+=n[(t[r]&3)<<4|t[r+1]>>4],s+=n[(t[r+1]&15)<<2|t[r+2]>>6],s+=n[t[r+2]&63];return i%3===2?s=s.substring(0,s.length-1)+"=":i%3===1&&(s=s.substring(0,s.length-2)+"=="),s},um.decode=function(e){var t=e.length*.75,r=e.length,i,s=0,o,a,l,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var f=new ArrayBuffer(t),d=new Uint8Array(f);for(i=0;i<r;i+=4)o=n.indexOf(e[i]),a=n.indexOf(e[i+1]),l=n.indexOf(e[i+2]),u=n.indexOf(e[i+3]),d[s++]=o<<2|a>>4,d[s++]=(a&15)<<4|l>>2,d[s++]=(l&3)<<6|u&63;return f}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")),um}var x_,A3;function nj(){if(A3)return x_;A3=1;var n=typeof n<"u"?n:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,e=function(){try{var a=new Blob(["hi"]);return a.size===2}catch{return!1}}(),t=e&&function(){try{var a=new Blob([new Uint8Array([1,2])]);return a.size===2}catch{return!1}}(),r=n&&n.prototype.append&&n.prototype.getBlob;function i(a){return a.map(function(l){if(l.buffer instanceof ArrayBuffer){var u=l.buffer;if(l.byteLength!==u.byteLength){var f=new Uint8Array(l.byteLength);f.set(new Uint8Array(u,l.byteOffset,l.byteLength)),u=f.buffer}return u}return l})}function s(a,l){l=l||{};var u=new n;return i(a).forEach(function(f){u.append(f)}),l.type?u.getBlob(l.type):u.getBlob()}function o(a,l){return new Blob(i(a),l||{})}return typeof Blob<"u"&&(s.prototype=Blob.prototype,o.prototype=Blob.prototype),x_=function(){return e?t?Blob:o:r?s:void 0}(),x_}(function(n){var e=H7,t=UL,r=j7,i=$7,s=ej,o;typeof ArrayBuffer<"u"&&(o=tj());var a=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),l=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),u=a||l;n.protocol=3;var f=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},d=e(f),p={type:"error",data:"parser error"},m=nj();n.encodePacket=function(b,A,E,C){typeof A=="function"&&(C=A,A=!1),typeof E=="function"&&(C=E,E=null);var M=b.data===void 0?void 0:b.data.buffer||b.data;if(typeof ArrayBuffer<"u"&&M instanceof ArrayBuffer)return v(b,A,C);if(typeof m<"u"&&M instanceof m)return _(b,A,C);if(M&&M.base64)return g(b,C);var I=f[b.type];return b.data!==void 0&&(I+=E?s.encode(String(b.data),{strict:!1}):String(b.data)),C(""+I)};function g(b,A){var E="b"+n.packets[b.type]+b.data.data;return A(E)}function v(b,A,E){if(!A)return n.encodeBase64Packet(b,E);var C=b.data,M=new Uint8Array(C),I=new Uint8Array(1+C.byteLength);I[0]=f[b.type];for(var P=0;P<M.length;P++)I[P+1]=M[P];return E(I.buffer)}function y(b,A,E){if(!A)return n.encodeBase64Packet(b,E);var C=new FileReader;return C.onload=function(){n.encodePacket({type:b.type,data:C.result},A,!0,E)},C.readAsArrayBuffer(b.data)}function _(b,A,E){if(!A)return n.encodeBase64Packet(b,E);if(u)return y(b,A,E);var C=new Uint8Array(1);C[0]=f[b.type];var M=new m([C.buffer,b.data]);return E(M)}n.encodeBase64Packet=function(b,A){var E="b"+n.packets[b.type];if(typeof m<"u"&&b.data instanceof m){var C=new FileReader;return C.onload=function(){var O=C.result.split(",")[1];A(E+O)},C.readAsDataURL(b.data)}var M;try{M=String.fromCharCode.apply(null,new Uint8Array(b.data))}catch{for(var I=new Uint8Array(b.data),P=new Array(I.length),R=0;R<I.length;R++)P[R]=I[R];M=String.fromCharCode.apply(null,P)}return E+=btoa(M),A(E)},n.decodePacket=function(b,A,E){if(b===void 0)return p;if(typeof b=="string"){if(b.charAt(0)==="b")return n.decodeBase64Packet(b.substr(1),A);if(E&&(b=x(b),b===!1))return p;var M=b.charAt(0);return Number(M)!=M||!d[M]?p:b.length>1?{type:d[M],data:b.substring(1)}:{type:d[M]}}var C=new Uint8Array(b),M=C[0],I=r(b,1);return m&&A==="blob"&&(I=new m([I])),{type:d[M],data:I}};function x(b){try{b=s.decode(b,{strict:!1})}catch{return!1}return b}n.decodeBase64Packet=function(b,A){var E=d[b.charAt(0)];if(!o)return{type:E,data:{base64:!0,data:b.substr(1)}};var C=o.decode(b.substr(1));return A==="blob"&&m&&(C=new m([C])),{type:E,data:C}},n.encodePayload=function(b,A,E){typeof A=="function"&&(E=A,A=null);var C=t(b);if(A&&C)return m&&!u?n.encodePayloadAsBlob(b,E):n.encodePayloadAsArrayBuffer(b,E);if(!b.length)return E("0:");function M(P){return P.length+":"+P}function I(P,R){n.encodePacket(P,C?A:!1,!1,function(O){R(null,M(O))})}w(b,I,function(P,R){return E(R.join(""))})};function w(b,A,E){for(var C=new Array(b.length),M=i(b.length,E),I=function(R,O,F){A(O,function(H,$){C[R]=$,F(H,C)})},P=0;P<b.length;P++)I(P,b[P],M)}n.decodePayload=function(b,A,E){if(typeof b!="string")return n.decodePayloadAsBinary(b,A,E);typeof A=="function"&&(E=A,A=null);var C;if(b==="")return E(p,0,1);for(var M="",I,P,R=0,O=b.length;R<O;R++){var F=b.charAt(R);if(F!==":"){M+=F;continue}if(M===""||M!=(I=Number(M))||(P=b.substr(R+1,I),M!=P.length))return E(p,0,1);if(P.length){if(C=n.decodePacket(P,A,!1),p.type===C.type&&p.data===C.data)return E(p,0,1);var H=E(C,R+I,O);if(H===!1)return}R+=I,M=""}if(M!=="")return E(p,0,1)},n.encodePayloadAsArrayBuffer=function(b,A){if(!b.length)return A(new ArrayBuffer(0));function E(C,M){n.encodePacket(C,!0,!0,function(I){return M(null,I)})}w(b,E,function(C,M){var I=M.reduce(function(O,F){var H;return typeof F=="string"?H=F.length:H=F.byteLength,O+H.toString().length+H+2},0),P=new Uint8Array(I),R=0;return M.forEach(function(O){var F=typeof O=="string",H=O;if(F){for(var j=new Uint8Array(O.length),$=0;$<O.length;$++)j[$]=O.charCodeAt($);H=j.buffer}F?P[R++]=0:P[R++]=1;for(var X=H.byteLength.toString(),$=0;$<X.length;$++)P[R++]=parseInt(X[$]);P[R++]=255;for(var j=new Uint8Array(H),$=0;$<j.length;$++)P[R++]=j[$]}),A(P.buffer)})},n.encodePayloadAsBlob=function(b,A){function E(C,M){n.encodePacket(C,!0,!0,function(I){var P=new Uint8Array(1);if(P[0]=1,typeof I=="string"){for(var R=new Uint8Array(I.length),O=0;O<I.length;O++)R[O]=I.charCodeAt(O);I=R.buffer,P[0]=0}for(var F=I instanceof ArrayBuffer?I.byteLength:I.size,H=F.toString(),$=new Uint8Array(H.length+1),O=0;O<H.length;O++)$[O]=parseInt(H[O]);if($[H.length]=255,m){var X=new m([P.buffer,$.buffer,I]);M(null,X)}})}w(b,E,function(C,M){return A(new m(M))})},n.decodePayloadAsBinary=function(b,A,E){typeof A=="function"&&(E=A,A=null);for(var C=b,M=[];C.byteLength>0;){for(var I=new Uint8Array(C),P=I[0]===0,R="",O=1;I[O]!==255;O++){if(R.length>310)return E(p,0,1);R+=I[O]}C=r(C,2+R.length),R=parseInt(R);var F=r(C,0,R);if(P)try{F=String.fromCharCode.apply(null,new Uint8Array(F))}catch{var H=new Uint8Array(F);F="";for(var O=0;O<H.length;O++)F+=String.fromCharCode(H[O])}M.push(F),C=r(C,R)}var $=M.length;M.forEach(function(X,j){E(n.decodePacket(X,A,!0),j,$)})}})(Il);var w_,T3;function fb(){if(T3)return w_;T3=1;var n=Il,e=Pl.exports;w_=t;function t(r){this.path=r.path,this.hostname=r.hostname,this.port=r.port,this.secure=r.secure,this.query=r.query,this.timestampParam=r.timestampParam,this.timestampRequests=r.timestampRequests,this.readyState="",this.agent=r.agent||!1,this.socket=r.socket,this.enablesXDR=r.enablesXDR,this.withCredentials=r.withCredentials,this.pfx=r.pfx,this.key=r.key,this.passphrase=r.passphrase,this.cert=r.cert,this.ca=r.ca,this.ciphers=r.ciphers,this.rejectUnauthorized=r.rejectUnauthorized,this.forceNode=r.forceNode,this.isReactNative=r.isReactNative,this.extraHeaders=r.extraHeaders,this.localAddress=r.localAddress}return e(t.prototype),t.prototype.onError=function(r,i){var s=new Error(r);return s.type="TransportError",s.description=i,this.emit("error",s),this},t.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},t.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},t.prototype.send=function(r){if(this.readyState==="open")this.write(r);else throw new Error("Transport not open")},t.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},t.prototype.onData=function(r){var i=n.decodePacket(r,this.socket.binaryType);this.onPacket(i)},t.prototype.onPacket=function(r){this.emit("packet",r)},t.prototype.onClose=function(){this.readyState="closed",this.emit("close")},w_}var vc={};vc.encode=function(n){var e="";for(var t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e};vc.decode=function(n){for(var e={},t=n.split("&"),r=0,i=t.length;r<i;r++){var s=t[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e};var H0=function(n,e){var t=function(){};t.prototype=e.prototype,n.prototype=new t,n.prototype.constructor=n},WL="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Cg=64,GL={},P3=0,Wo=0,I3;function Xx(n){var e="";do e=WL[n%Cg]+e,n=Math.floor(n/Cg);while(n>0);return e}function rj(n){var e=0;for(Wo=0;Wo<n.length;Wo++)e=e*Cg+GL[n.charAt(Wo)];return e}function hb(){var n=Xx(+new Date);return n!==I3?(P3=0,I3=n):n+"."+Xx(P3++)}for(;Wo<Cg;Wo++)GL[WL[Wo]]=Wo;hb.encode=Xx;hb.decode=rj;var jL=hb,sc={exports:{}},Yx={exports:{}},xh=1e3,wh=xh*60,Sh=wh*60,bh=Sh*24,ij=bh*365.25,sj=function(n,e){e=e||{};var t=typeof n;if(t==="string"&&n.length>0)return oj(n);if(t==="number"&&isNaN(n)===!1)return e.long?lj(n):aj(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function oj(n){if(n=String(n),!(n.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(n);if(e){var t=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return t*ij;case"days":case"day":case"d":return t*bh;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Sh;case"minutes":case"minute":case"mins":case"min":case"m":return t*wh;case"seconds":case"second":case"secs":case"sec":case"s":return t*xh;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function aj(n){return n>=bh?Math.round(n/bh)+"d":n>=Sh?Math.round(n/Sh)+"h":n>=wh?Math.round(n/wh)+"m":n>=xh?Math.round(n/xh)+"s":n+"ms"}function lj(n){return cm(n,bh,"day")||cm(n,Sh,"hour")||cm(n,wh,"minute")||cm(n,xh,"second")||n+" ms"}function cm(n,e,t){if(!(n<e))return n<e*1.5?Math.floor(n/e)+" "+t:Math.ceil(n/e)+" "+t+"s"}(function(n,e){e=n.exports=r.debug=r.default=r,e.coerce=l,e.disable=o,e.enable=s,e.enabled=a,e.humanize=sj,e.instances=[],e.names=[],e.skips=[],e.formatters={};function t(u){var f=0,d;for(d in u)f=(f<<5)-f+u.charCodeAt(d),f|=0;return e.colors[Math.abs(f)%e.colors.length]}function r(u){var f;function d(){if(d.enabled){var p=d,m=+new Date,g=m-(f||m);p.diff=g,p.prev=f,p.curr=m,f=m;for(var v=new Array(arguments.length),y=0;y<v.length;y++)v[y]=arguments[y];v[0]=e.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");var _=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,function(w,b){if(w==="%%")return w;_++;var A=e.formatters[b];if(typeof A=="function"){var E=v[_];w=A.call(p,E),v.splice(_,1),_--}return w}),e.formatArgs.call(p,v);var x=d.log||e.log||console.log.bind(console);x.apply(p,v)}}return d.namespace=u,d.enabled=e.enabled(u),d.useColors=e.useColors(),d.color=t(u),d.destroy=i,typeof e.init=="function"&&e.init(d),e.instances.push(d),d}function i(){var u=e.instances.indexOf(this);return u!==-1?(e.instances.splice(u,1),!0):!1}function s(u){e.save(u),e.names=[],e.skips=[];var f,d=(typeof u=="string"?u:"").split(/[\s,]+/),p=d.length;for(f=0;f<p;f++)d[f]&&(u=d[f].replace(/\*/g,".*?"),u[0]==="-"?e.skips.push(new RegExp("^"+u.substr(1)+"$")):e.names.push(new RegExp("^"+u+"$")));for(f=0;f<e.instances.length;f++){var m=e.instances[f];m.enabled=e.enabled(m.namespace)}}function o(){e.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var f,d;for(f=0,d=e.skips.length;f<d;f++)if(e.skips[f].test(u))return!1;for(f=0,d=e.names.length;f<d;f++)if(e.names[f].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}})(Yx,Yx.exports);(function(n,e){e=n.exports=Yx.exports,e.log=i,e.formatArgs=r,e.save=s,e.load=o,e.useColors=t,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:a(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function r(l){var u=this.useColors;if(l[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+l[0]+(u?"%c ":" ")+"+"+e.humanize(this.diff),!!u){var f="color: "+this.color;l.splice(1,0,f,"color: inherit");var d=0,p=0;l[0].replace(/%[a-zA-Z%]/g,function(m){m!=="%%"&&(d++,m==="%c"&&(p=d))}),l.splice(p,0,f)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(l){try{l==null?e.storage.removeItem("debug"):e.storage.debug=l}catch{}}function o(){var l;try{l=e.storage.debug}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}e.enable(o());function a(){try{return window.localStorage}catch{}}})(sc,sc.exports);var $L=fb(),uj=vc,qL=Il,cj=H0,fj=jL,Wi=sc.exports("engine.io-client:polling"),XL=Es,hj=function(){var n=ub,e=new n({xdomain:!1});return e.responseType!=null}();function Es(n){var e=n&&n.forceBase64;(!hj||e)&&(this.supportsBinary=!1),$L.call(this,n)}cj(Es,$L);Es.prototype.name="polling";Es.prototype.doOpen=function(){this.poll()};Es.prototype.pause=function(n){var e=this;this.readyState="pausing";function t(){Wi("paused"),e.readyState="paused",n()}if(this.polling||!this.writable){var r=0;this.polling&&(Wi("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){Wi("pre-pause polling complete"),--r||t()})),this.writable||(Wi("we are currently writing - waiting to pause"),r++,this.once("drain",function(){Wi("pre-pause writing complete"),--r||t()}))}else t()};Es.prototype.poll=function(){Wi("polling"),this.polling=!0,this.doPoll(),this.emit("poll")};Es.prototype.onData=function(n){var e=this;Wi("polling got data %s",n);var t=function(r,i,s){if(e.readyState==="opening"&&r.type==="open"&&e.onOpen(),r.type==="close")return e.onClose(),!1;e.onPacket(r)};qL.decodePayload(n,this.socket.binaryType,t),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():Wi('ignoring poll - transport state "%s"',this.readyState))};Es.prototype.doClose=function(){var n=this;function e(){Wi("writing close packet"),n.write([{type:"close"}])}this.readyState==="open"?(Wi("transport open - closing"),e()):(Wi("transport not open - deferring close"),this.once("open",e))};Es.prototype.write=function(n){var e=this;this.writable=!1;var t=function(){e.writable=!0,e.emit("drain")};qL.encodePayload(n,this.supportsBinary,function(r){e.doWrite(r,t)})};Es.prototype.uri=function(){var n=this.query||{},e=this.secure?"https":"http",t="";this.timestampRequests!==!1&&(n[this.timestampParam]=fj()),!this.supportsBinary&&!n.sid&&(n.b64=1),n=uj.encode(n),this.port&&(e==="https"&&Number(this.port)!==443||e==="http"&&Number(this.port)!==80)&&(t=":"+this.port),n.length&&(n="?"+n);var r=this.hostname.indexOf(":")!==-1;return e+"://"+(r?"["+this.hostname+"]":this.hostname)+t+this.path+n};var dj=ub,YL=XL,pj=Pl.exports,mj=H0,Jx=sc.exports("engine.io-client:polling-xhr"),gj=lb;cb.exports=_c;cb.exports.Request=Un;function R3(){}function _c(n){if(YL.call(this,n),this.requestTimeout=n.requestTimeout,this.extraHeaders=n.extraHeaders,typeof location<"u"){var e=location.protocol==="https:",t=location.port;t||(t=e?443:80),this.xd=typeof location<"u"&&n.hostname!==location.hostname||t!==n.port,this.xs=n.secure!==e}}mj(_c,YL);_c.prototype.supportsBinary=!0;_c.prototype.request=function(n){return n=n||{},n.uri=this.uri(),n.xd=this.xd,n.xs=this.xs,n.agent=this.agent||!1,n.supportsBinary=this.supportsBinary,n.enablesXDR=this.enablesXDR,n.withCredentials=this.withCredentials,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,n.requestTimeout=this.requestTimeout,n.extraHeaders=this.extraHeaders,new Un(n)};_c.prototype.doWrite=function(n,e){var t=typeof n!="string"&&n!==void 0,r=this.request({method:"POST",data:n,isBinary:t}),i=this;r.on("success",e),r.on("error",function(s){i.onError("xhr post error",s)}),this.sendXhr=r};_c.prototype.doPoll=function(){Jx("xhr poll");var n=this.request(),e=this;n.on("data",function(t){e.onData(t)}),n.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=n};function Un(n){this.method=n.method||"GET",this.uri=n.uri,this.xd=!!n.xd,this.xs=!!n.xs,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.agent=n.agent,this.isBinary=n.isBinary,this.supportsBinary=n.supportsBinary,this.enablesXDR=n.enablesXDR,this.withCredentials=n.withCredentials,this.requestTimeout=n.requestTimeout,this.pfx=n.pfx,this.key=n.key,this.passphrase=n.passphrase,this.cert=n.cert,this.ca=n.ca,this.ciphers=n.ciphers,this.rejectUnauthorized=n.rejectUnauthorized,this.extraHeaders=n.extraHeaders,this.create()}pj(Un.prototype);Un.prototype.create=function(){var n={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new dj(n),t=this;try{Jx("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(var r in this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&e.setRequestHeader(r,this.extraHeaders[r])}}catch{}if(this.method==="POST")try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{e.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in e&&(e.withCredentials=this.withCredentials),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){t.onLoad()},e.onerror=function(){t.onError(e.responseText)}):e.onreadystatechange=function(){if(e.readyState===2)try{var i=e.getResponseHeader("Content-Type");(t.supportsBinary&&i==="application/octet-stream"||i==="application/octet-stream; charset=UTF-8")&&(e.responseType="arraybuffer")}catch{}e.readyState===4&&(e.status===200||e.status===1223?t.onLoad():setTimeout(function(){t.onError(typeof e.status=="number"?e.status:0)},0))},Jx("xhr data %s",this.data),e.send(this.data)}catch(i){setTimeout(function(){t.onError(i)},0);return}typeof document<"u"&&(this.index=Un.requestsCount++,Un.requests[this.index]=this)};Un.prototype.onSuccess=function(){this.emit("success"),this.cleanup()};Un.prototype.onData=function(n){this.emit("data",n),this.onSuccess()};Un.prototype.onError=function(n){this.emit("error",n),this.cleanup(!0)};Un.prototype.cleanup=function(n){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=R3:this.xhr.onreadystatechange=R3,n)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Un.requests[this.index],this.xhr=null}};Un.prototype.onLoad=function(){var n;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch{}e==="application/octet-stream"||e==="application/octet-stream; charset=UTF-8"?n=this.xhr.response||this.xhr.responseText:n=this.xhr.responseText}catch(t){this.onError(t)}n!=null&&this.onData(n)};Un.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR};Un.prototype.abort=function(){this.cleanup()};Un.requestsCount=0;Un.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",L3);else if(typeof addEventListener=="function"){var yj="onpagehide"in gj?"pagehide":"unload";addEventListener(yj,L3,!1)}}function L3(){for(var n in Un.requests)Un.requests.hasOwnProperty(n)&&Un.requests[n].abort()}var db=XL,vj=H0,O3=lb,_j=xc,xj=/\n/g,wj=/\\n/g,fm;function Sj(){}function xc(n){db.call(this,n),this.query=this.query||{},fm||(fm=O3.___eio=O3.___eio||[]),this.index=fm.length;var e=this;fm.push(function(t){e.onData(t)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){e.script&&(e.script.onerror=Sj)},!1)}vj(xc,db);xc.prototype.supportsBinary=!1;xc.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),db.prototype.doClose.call(this)};xc.prototype.doPoll=function(){var n=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(i){n.onError("jsonp poll error",i)};var t=document.getElementsByTagName("script")[0];t?t.parentNode.insertBefore(e,t):(document.head||document.body).appendChild(e),this.script=e;var r=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var i=document.createElement("iframe");document.body.appendChild(i),document.body.removeChild(i)},100)};xc.prototype.doWrite=function(n,e){var t=this;if(!this.form){var r=document.createElement("form"),i=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index,o;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=s,r.method="POST",r.setAttribute("accept-charset","utf-8"),i.name="d",r.appendChild(i),document.body.appendChild(r),this.form=r,this.area=i}this.form.action=this.uri();function a(){l(),e()}function l(){if(t.iframe)try{t.form.removeChild(t.iframe)}catch(f){t.onError("jsonp polling iframe removal error",f)}try{var u='<iframe src="javascript:0" name="'+t.iframeId+'">';o=document.createElement(u)}catch{o=document.createElement("iframe"),o.name=t.iframeId,o.src="javascript:0"}o.id=t.iframeId,t.form.appendChild(o),t.iframe=o}l(),n=n.replace(wj,`\\
`),this.area.value=n.replace(xj,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){t.iframe.readyState==="complete"&&a()}:this.iframe.onload=a};const bj={},Mj=Object.freeze(Object.defineProperty({__proto__:null,default:bj},Symbol.toStringTag,{value:"Module"})),Ej=QO(Mj);var pb=fb(),Cj=Il,Aj=vc,Tj=H0,Pj=jL,Ij=sc.exports("engine.io-client:websocket"),Ag,mb;typeof WebSocket<"u"?Ag=WebSocket:typeof self<"u"&&(Ag=self.WebSocket||self.MozWebSocket);if(typeof window>"u")try{mb=Ej}catch{}var Wu=Ag||mb,Rj=Pi;function Pi(n){var e=n&&n.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=n.perMessageDeflate,this.usingBrowserWebSocket=Ag&&!n.forceNode,this.protocols=n.protocols,this.usingBrowserWebSocket||(Wu=mb),pb.call(this,n)}Tj(Pi,pb);Pi.prototype.name="websocket";Pi.prototype.supportsBinary=!0;Pi.prototype.doOpen=function(){if(this.check()){var n=this.uri(),e=this.protocols,t={};this.isReactNative||(t.agent=this.agent,t.perMessageDeflate=this.perMessageDeflate,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(t.headers=this.extraHeaders),this.localAddress&&(t.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new Wu(n,e):new Wu(n):new Wu(n,e,t)}catch(r){return this.emit("error",r)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}};Pi.prototype.addEventListeners=function(){var n=this;this.ws.onopen=function(){n.onOpen()},this.ws.onclose=function(){n.onClose()},this.ws.onmessage=function(e){n.onData(e.data)},this.ws.onerror=function(e){n.onError("websocket error",e)}};Pi.prototype.write=function(n){var e=this;this.writable=!1;for(var t=n.length,r=0,i=t;r<i;r++)(function(o){Cj.encodePacket(o,e.supportsBinary,function(a){if(!e.usingBrowserWebSocket){var l={};if(o.options&&(l.compress=o.options.compress),e.perMessageDeflate){var u=typeof a=="string"?Buffer.byteLength(a):a.length;u<e.perMessageDeflate.threshold&&(l.compress=!1)}}try{e.usingBrowserWebSocket?e.ws.send(a):e.ws.send(a,l)}catch{Ij("websocket closed before onclose event")}--t||s()})})(n[r]);function s(){e.emit("flush"),setTimeout(function(){e.writable=!0,e.emit("drain")},0)}};Pi.prototype.onClose=function(){pb.prototype.onClose.call(this)};Pi.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()};Pi.prototype.uri=function(){var n=this.query||{},e=this.secure?"wss":"ws",t="";this.port&&(e==="wss"&&Number(this.port)!==443||e==="ws"&&Number(this.port)!==80)&&(t=":"+this.port),this.timestampRequests&&(n[this.timestampParam]=Pj()),this.supportsBinary||(n.b64=1),n=Aj.encode(n),n.length&&(n="?"+n);var r=this.hostname.indexOf(":")!==-1;return e+"://"+(r?"["+this.hostname+"]":this.hostname)+t+this.path+n};Pi.prototype.check=function(){return!!Wu&&!("__initialize"in Wu&&this.name===Pi.prototype.name)};var Lj=ub,Oj=cb.exports,kj=_j,Dj=Rj;U0.polling=Nj;U0.websocket=Dj;function Nj(n){var e,t=!1,r=!1,i=n.jsonp!==!1;if(typeof location<"u"){var s=location.protocol==="https:",o=location.port;o||(o=s?443:80),t=n.hostname!==location.hostname||o!==n.port,r=n.secure!==s}if(n.xdomain=t,n.xscheme=r,e=new Lj(n),"open"in e&&!n.forceJSONP)return new Oj(n);if(!i)throw new Error("JSONP disabled");return new kj(n)}var Fj=[].indexOf,JL=function(n,e){if(Fj)return n.indexOf(e);for(var t=0;t<n.length;++t)if(n[t]===e)return t;return-1},zj=U0,Bj=Pl.exports,Ln=sc.exports("engine.io-client:socket"),Uj=JL,ZL=Il,k3=kL,Hj=vc,Vj=Lt;function Lt(n,e){if(!(this instanceof Lt))return new Lt(n,e);e=e||{},n&&typeof n=="object"&&(e=n,n=null),n?(n=k3(n),e.hostname=n.host,e.secure=n.protocol==="https"||n.protocol==="wss",e.port=n.port,n.query&&(e.query=n.query)):e.host&&(e.hostname=k3(e.host).host),this.secure=e.secure!=null?e.secure:typeof location<"u"&&location.protocol==="https:",e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=e.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=e.query||{},typeof this.query=="string"&&(this.query=Hj.decode(this.query)),this.upgrade=e.upgrade!==!1,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=e.jsonp!==!1,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.withCredentials=e.withCredentials!==!1,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=e.perMessageDeflate!==!1?e.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||void 0,this.key=e.key||void 0,this.passphrase=e.passphrase||void 0,this.cert=e.cert||void 0,this.ca=e.ca||void 0,this.ciphers=e.ciphers||void 0,this.rejectUnauthorized=e.rejectUnauthorized===void 0?!0:e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}Lt.priorWebsocketSuccess=!1;Bj(Lt.prototype);Lt.protocol=ZL.protocol;Lt.Socket=Lt;Lt.Transport=fb();Lt.transports=U0;Lt.parser=Il;Lt.prototype.createTransport=function(n){Ln('creating transport "%s"',n);var e=Wj(this.query);e.EIO=ZL.protocol,e.transport=n;var t=this.transportOptions[n]||{};this.id&&(e.sid=this.id);var r=new zj[n]({query:e,socket:this,agent:t.agent||this.agent,hostname:t.hostname||this.hostname,port:t.port||this.port,secure:t.secure||this.secure,path:t.path||this.path,forceJSONP:t.forceJSONP||this.forceJSONP,jsonp:t.jsonp||this.jsonp,forceBase64:t.forceBase64||this.forceBase64,enablesXDR:t.enablesXDR||this.enablesXDR,withCredentials:t.withCredentials||this.withCredentials,timestampRequests:t.timestampRequests||this.timestampRequests,timestampParam:t.timestampParam||this.timestampParam,policyPort:t.policyPort||this.policyPort,pfx:t.pfx||this.pfx,key:t.key||this.key,passphrase:t.passphrase||this.passphrase,cert:t.cert||this.cert,ca:t.ca||this.ca,ciphers:t.ciphers||this.ciphers,rejectUnauthorized:t.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:t.perMessageDeflate||this.perMessageDeflate,extraHeaders:t.extraHeaders||this.extraHeaders,forceNode:t.forceNode||this.forceNode,localAddress:t.localAddress||this.localAddress,requestTimeout:t.requestTimeout||this.requestTimeout,protocols:t.protocols||void 0,isReactNative:this.isReactNative});return r};function Wj(n){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}Lt.prototype.open=function(){var n;if(this.rememberUpgrade&&Lt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)n="websocket";else if(this.transports.length===0){var e=this;setTimeout(function(){e.emit("error","No transports available")},0);return}else n=this.transports[0];this.readyState="opening";try{n=this.createTransport(n)}catch{this.transports.shift(),this.open();return}n.open(),this.setTransport(n)};Lt.prototype.setTransport=function(n){Ln("setting transport %s",n.name);var e=this;this.transport&&(Ln("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=n,n.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})};Lt.prototype.probe=function(n){Ln('probing transport "%s"',n);var e=this.createTransport(n,{probe:1}),t=!1,r=this;Lt.priorWebsocketSuccess=!1;function i(){if(r.onlyBinaryUpgrades){var d=!this.supportsBinary&&r.transport.supportsBinary;t=t||d}t||(Ln('probe transport "%s" opened',n),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(p){if(!t)if(p.type==="pong"&&p.data==="probe"){if(Ln('probe transport "%s" pong',n),r.upgrading=!0,r.emit("upgrading",e),!e)return;Lt.priorWebsocketSuccess=e.name==="websocket",Ln('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){t||r.readyState!=="closed"&&(Ln("changing transport and sending upgrade packet"),f(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())})}else{Ln('probe transport "%s" failed',n);var m=new Error("probe error");m.transport=e.name,r.emit("upgradeError",m)}}))}function s(){t||(t=!0,f(),e.close(),e=null)}function o(d){var p=new Error("probe error: "+d);p.transport=e.name,s(),Ln('probe transport "%s" failed because of error: %s',n,d),r.emit("upgradeError",p)}function a(){o("transport closed")}function l(){o("socket closed")}function u(d){e&&d.name!==e.name&&(Ln('"%s" works - aborting "%s"',d.name,e.name),s())}function f(){e.removeListener("open",i),e.removeListener("error",o),e.removeListener("close",a),r.removeListener("close",l),r.removeListener("upgrading",u)}e.once("open",i),e.once("error",o),e.once("close",a),this.once("close",l),this.once("upgrading",u),e.open()};Lt.prototype.onOpen=function(){if(Ln("socket open"),this.readyState="open",Lt.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){Ln("starting upgrade probes");for(var n=0,e=this.upgrades.length;n<e;n++)this.probe(this.upgrades[n])}};Lt.prototype.onPacket=function(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(Ln('socket receive: type "%s", data "%s"',n.type,n.data),this.emit("packet",n),this.emit("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=n.data,this.onError(e);break;case"message":this.emit("data",n.data),this.emit("message",n.data);break}else Ln('packet received with socket readyState "%s"',this.readyState)};Lt.prototype.onHandshake=function(n){this.emit("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this.upgrades=this.filterUpgrades(n.upgrades),this.pingInterval=n.pingInterval,this.pingTimeout=n.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};Lt.prototype.onHeartbeat=function(n){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){e.readyState!=="closed"&&e.onClose("ping timeout")},n||e.pingInterval+e.pingTimeout)};Lt.prototype.setPing=function(){var n=this;clearTimeout(n.pingIntervalTimer),n.pingIntervalTimer=setTimeout(function(){Ln("writing ping packet - expecting pong within %sms",n.pingTimeout),n.ping(),n.onHeartbeat(n.pingTimeout)},n.pingInterval)};Lt.prototype.ping=function(){var n=this;this.sendPacket("ping",function(){n.emit("ping")})};Lt.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()};Lt.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Ln("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};Lt.prototype.write=Lt.prototype.send=function(n,e,t){return this.sendPacket("message",n,e,t),this};Lt.prototype.sendPacket=function(n,e,t,r){if(typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=null),!(this.readyState==="closing"||this.readyState==="closed")){t=t||{},t.compress=t.compress!==!1;var i={type:n,data:e,options:t};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}};Lt.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():e()}):this.upgrading?r():e()}function e(){n.onClose("forced close"),Ln("socket closing - telling transport to close"),n.transport.close()}function t(){n.removeListener("upgrade",t),n.removeListener("upgradeError",t),e()}function r(){n.once("upgrade",t),n.once("upgradeError",t)}return this};Lt.prototype.onError=function(n){Ln("socket error %j",n),Lt.priorWebsocketSuccess=!1,this.emit("error",n),this.onClose("transport error",n)};Lt.prototype.onClose=function(n,e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){Ln('socket close with reason: "%s"',n);var t=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",n,e),t.writeBuffer=[],t.prevBufferLen=0}};Lt.prototype.filterUpgrades=function(n){for(var e=[],t=0,r=n.length;t<r;t++)~Uj(this.transports,n[t])&&e.push(n[t]);return e};(function(n){n.exports=Vj,n.exports.parser=Il})(zL);var gb={exports:{}},Gj=jj;function jj(n,e){var t=[];e=e||0;for(var r=e||0;r<n.length;r++)t[r-e]=n[r];return t}var QL=$j;function $j(n,e,t){return n.on(e,t),{destroy:function(){n.removeListener(e,t)}}}var D3=[].slice,KL=function(n,e){if(typeof e=="string"&&(e=n[e]),typeof e!="function")throw new Error("bind() requires a function");var t=D3.call(arguments,2);return function(){return e.apply(n,t.concat(D3.call(arguments)))}};(function(n,e){var t=z0,r=Pl.exports,i=Gj,s=QL,o=KL,a=ic.exports("socket.io-client:socket"),l=vc,u=UL;n.exports=p;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=r.prototype.emit;function p(m,g,v){this.io=m,this.nsp=g,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},v&&v.query&&(this.query=v.query),this.io.autoConnect&&this.open()}r(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var m=this.io;this.subs=[s(m,"open",o(this,"onopen")),s(m,"packet",o(this,"onpacket")),s(m,"close",o(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},p.prototype.send=function(){var m=i(arguments);return m.unshift("message"),this.emit.apply(this,m),this},p.prototype.emit=function(m){if(f.hasOwnProperty(m))return d.apply(this,arguments),this;var g=i(arguments),v={type:(this.flags.binary!==void 0?this.flags.binary:u(g))?t.BINARY_EVENT:t.EVENT,data:g};return v.options={},v.options.compress=!this.flags||this.flags.compress!==!1,typeof g[g.length-1]=="function"&&(a("emitting packet with ack id %d",this.ids),this.acks[this.ids]=g.pop(),v.id=this.ids++),this.connected?this.packet(v):this.sendBuffer.push(v),this.flags={},this},p.prototype.packet=function(m){m.nsp=this.nsp,this.io.packet(m)},p.prototype.onopen=function(){if(a("transport is open - connecting"),this.nsp!=="/")if(this.query){var m=typeof this.query=="object"?l.encode(this.query):this.query;a("sending connect packet with query %s",m),this.packet({type:t.CONNECT,query:m})}else this.packet({type:t.CONNECT})},p.prototype.onclose=function(m){a("close (%s)",m),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",m)},p.prototype.onpacket=function(m){var g=m.nsp===this.nsp,v=m.type===t.ERROR&&m.nsp==="/";if(!(!g&&!v))switch(m.type){case t.CONNECT:this.onconnect();break;case t.EVENT:this.onevent(m);break;case t.BINARY_EVENT:this.onevent(m);break;case t.ACK:this.onack(m);break;case t.BINARY_ACK:this.onack(m);break;case t.DISCONNECT:this.ondisconnect();break;case t.ERROR:this.emit("error",m.data);break}},p.prototype.onevent=function(m){var g=m.data||[];a("emitting event %j",g),m.id!=null&&(a("attaching ack callback to event"),g.push(this.ack(m.id))),this.connected?d.apply(this,g):this.receiveBuffer.push(g)},p.prototype.ack=function(m){var g=this,v=!1;return function(){if(!v){v=!0;var y=i(arguments);a("sending ack %j",y),g.packet({type:u(y)?t.BINARY_ACK:t.ACK,id:m,data:y})}}},p.prototype.onack=function(m){var g=this.acks[m.id];typeof g=="function"?(a("calling ack %s with %j",m.id,m.data),g.apply(this,m.data),delete this.acks[m.id]):a("bad ack %s",m.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},p.prototype.emitBuffered=function(){var m;for(m=0;m<this.receiveBuffer.length;m++)d.apply(this,this.receiveBuffer[m]);for(this.receiveBuffer=[],m=0;m<this.sendBuffer.length;m++)this.packet(this.sendBuffer[m]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){a("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var m=0;m<this.subs.length;m++)this.subs[m].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(a("performing disconnect (%s)",this.nsp),this.packet({type:t.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(m){return this.flags.compress=m,this},p.prototype.binary=function(m){return this.flags.binary=m,this}})(gb);var qj=wc;function wc(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}wc.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};wc.prototype.reset=function(){this.attempts=0};wc.prototype.setMin=function(n){this.ms=n};wc.prototype.setMax=function(n){this.max=n};wc.prototype.setJitter=function(n){this.jitter=n};var Xj=zL.exports,Yj=gb.exports,Jj=Pl.exports,Zj=z0,Oo=QL,du=KL,_r=ic.exports("socket.io-client:manager"),eO=JL,Qj=qj,tO=Object.prototype.hasOwnProperty,N3=Ht;function Ht(n,e){if(!(this instanceof Ht))return new Ht(n,e);n&&typeof n=="object"&&(e=n,n=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new Qj({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this.readyState="closed",this.uri=n,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var t=e.parser||Zj;this.encoder=new t.Encoder,this.decoder=new t.Decoder,this.autoConnect=e.autoConnect!==!1,this.autoConnect&&this.open()}Ht.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var n in this.nsps)tO.call(this.nsps,n)&&this.nsps[n].emit.apply(this.nsps[n],arguments)};Ht.prototype.updateSocketIds=function(){for(var n in this.nsps)tO.call(this.nsps,n)&&(this.nsps[n].id=this.generateId(n))};Ht.prototype.generateId=function(n){return(n==="/"?"":n+"#")+this.engine.id};Jj(Ht.prototype);Ht.prototype.reconnection=function(n){return arguments.length?(this._reconnection=!!n,this):this._reconnection};Ht.prototype.reconnectionAttempts=function(n){return arguments.length?(this._reconnectionAttempts=n,this):this._reconnectionAttempts};Ht.prototype.reconnectionDelay=function(n){return arguments.length?(this._reconnectionDelay=n,this.backoff&&this.backoff.setMin(n),this):this._reconnectionDelay};Ht.prototype.randomizationFactor=function(n){return arguments.length?(this._randomizationFactor=n,this.backoff&&this.backoff.setJitter(n),this):this._randomizationFactor};Ht.prototype.reconnectionDelayMax=function(n){return arguments.length?(this._reconnectionDelayMax=n,this.backoff&&this.backoff.setMax(n),this):this._reconnectionDelayMax};Ht.prototype.timeout=function(n){return arguments.length?(this._timeout=n,this):this._timeout};Ht.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()};Ht.prototype.open=Ht.prototype.connect=function(n,e){if(_r("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;_r("opening %s",this.uri),this.engine=Xj(this.uri,this.opts);var t=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=Oo(t,"open",function(){r.onopen(),n&&n()}),s=Oo(t,"error",function(l){if(_r("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",l),n){var u=new Error("Connection error");u.data=l,n(u)}else r.maybeReconnectOnOpen()});if(this._timeout!==!1){var o=this._timeout;_r("connect attempt will timeout after %d",o),o===0&&i.destroy();var a=setTimeout(function(){_r("connect attempt timed out after %d",o),i.destroy(),t.close(),t.emit("error","timeout"),r.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(i),this.subs.push(s),this};Ht.prototype.onopen=function(){_r("open"),this.cleanup(),this.readyState="open",this.emit("open");var n=this.engine;this.subs.push(Oo(n,"data",du(this,"ondata"))),this.subs.push(Oo(n,"ping",du(this,"onping"))),this.subs.push(Oo(n,"pong",du(this,"onpong"))),this.subs.push(Oo(n,"error",du(this,"onerror"))),this.subs.push(Oo(n,"close",du(this,"onclose"))),this.subs.push(Oo(this.decoder,"decoded",du(this,"ondecoded")))};Ht.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")};Ht.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};Ht.prototype.ondata=function(n){this.decoder.add(n)};Ht.prototype.ondecoded=function(n){this.emit("packet",n)};Ht.prototype.onerror=function(n){_r("error",n),this.emitAll("error",n)};Ht.prototype.socket=function(n,e){var t=this.nsps[n];if(!t){t=new Yj(this,n,e),this.nsps[n]=t;var r=this;t.on("connecting",i),t.on("connect",function(){t.id=r.generateId(n)}),this.autoConnect&&i()}function i(){~eO(r.connecting,t)||r.connecting.push(t)}return t};Ht.prototype.destroy=function(n){var e=eO(this.connecting,n);~e&&this.connecting.splice(e,1),!this.connecting.length&&this.close()};Ht.prototype.packet=function(n){_r("writing packet %j",n);var e=this;n.query&&n.type===0&&(n.nsp+="?"+n.query),e.encoding?e.packetBuffer.push(n):(e.encoding=!0,this.encoder.encode(n,function(t){for(var r=0;r<t.length;r++)e.engine.write(t[r],n.options);e.encoding=!1,e.processPacketQueue()}))};Ht.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var n=this.packetBuffer.shift();this.packet(n)}};Ht.prototype.cleanup=function(){_r("cleanup");for(var n=this.subs.length,e=0;e<n;e++){var t=this.subs.shift();t.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()};Ht.prototype.close=Ht.prototype.disconnect=function(){_r("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()};Ht.prototype.onclose=function(n){_r("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",n),this._reconnection&&!this.skipReconnect&&this.reconnect()};Ht.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var n=this;if(this.backoff.attempts>=this._reconnectionAttempts)_r("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();_r("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var t=setTimeout(function(){n.skipReconnect||(_r("attempting reconnect"),n.emitAll("reconnect_attempt",n.backoff.attempts),n.emitAll("reconnecting",n.backoff.attempts),!n.skipReconnect&&n.open(function(r){r?(_r("reconnect attempt error"),n.reconnecting=!1,n.reconnect(),n.emitAll("reconnect_error",r.data)):(_r("reconnect success"),n.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(t)}})}};Ht.prototype.onreconnect=function(){var n=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",n)};(function(n,e){var t=E7,r=z0,i=N3,s=ic.exports("socket.io-client");n.exports=e=a;var o=e.managers={};function a(l,u){typeof l=="object"&&(u=l,l=void 0),u=u||{};var f=t(l),d=f.source,p=f.id,m=f.path,g=o[p]&&m in o[p].nsps,v=u.forceNew||u["force new connection"]||u.multiplex===!1||g,y;return v?(s("ignoring socket cache for %s",d),y=i(d,u)):(o[p]||(s("new io instance for %s",d),o[p]=i(d,u)),y=o[p]),f.query&&!u.query&&(u.query=f.query),y.socket(f.path,u)}e.protocol=r.protocol,e.connect=a,e.Manager=N3,e.Socket=gb.exports})(Hx,Hx.exports);const Kj=Hx.exports,e$={}.VITE_DISCUSS_BACKEND_URL||window.location.origin,S_=window.location.pathname.match(/^\/twin\/([^/]*)\/?/),nO=S_&&S_.length>1?S_[1]:"nowhere",t$=Kj(e$,{transports:["websocket","polling"]}),Fo=n7();Fo.configure(sb.exports(t$));const yb={position:null,content:null},vb=Ss(!0),_b=Ss("DISCONNECTED"),rO=Ss(yb),iO=Ss(Array.from([]));function n$({...n}){const[e]=ln(iO),[t,r]=ln(rO),{scene:i,raycaster:s}=Tr(),[o,a]=ln(vb),[,l]=ln(_b);return ue.exports.useEffect(()=>{Fo.service("api/subscription").create({uid:nO}).catch(u=>{})},[]),ue.exports.useEffect(()=>{o&&Fo.io.connect()},[o]),ue.exports.useEffect(()=>(Fo.io.on("reconnect",u=>{a(!0),l("CONNECTED")}),Fo.io.on("connect_error",u=>{a(!1),l("ERROR")}),()=>{Fo.io.off("connect_error")}),[a,l]),o&&it(Ki,{children:[oe("mesh",{onPointerMissed:u=>{if(u.type!=="dblclick"||!s||!i)return;const f=s.intersectObjects(i.children);if(f.length>0){const d=f[0];r({...t,position:d.point})}else r(yb)}}),!!t.position&&oe(HG,{position:t.position}),e.map((u,f)=>oe(UG,{position:u.position,content:u.content},f))]})}const sO=Ss(!1);ZR({MeshLineGeometry:oW,MeshLineMaterial:uW});function oO({points:n,...e}){return it("mesh",{children:[oe("meshLineGeometry",{attach:"geometry",points:n}),oe("meshLineMaterial",{attach:"material",transparent:!0,depthTest:!1,lineWidth:4,color:"rgb(55, 65, 81)",opacity:.75,...e})]})}const r$=ue.exports.forwardRef(({position:n,setLinePoints:e,...t},r)=>{const[i,s]=ue.exports.useState(!1),[o,a]=ue.exports.useState([]),l=f=>{i||(a([]),s(!0))},u=f=>{["touch","pen"].includes(f.pointerType)&&!i&&(a([]),s(!0)),i&&a(d=>{const p=r.current.position.clone();return[...d,p]})};return it(Ki,{children:[oe(dW,{args:[10],position:n,ref:r,onPointerDown:()=>l(),onPointerUp:()=>{s(!1);const f=Math.log(o.length)*10,d=new OS(o).getPoints(f);e(p=>[...p,d])},onPointerMove:f=>u(f),children:oe("meshBasicMaterial",{attach:"material",color:"#f3f3f3"})}),i&&oe(oO,{points:o})]})});function i$({setLinePoints:n,...e}){const{scene:t,raycaster:r}=Tr(),i=ue.exports.useRef();ue.exports.useEffect(()=>{if(t.orbitControls)return t.orbitControls.enableRotate=!1,()=>{t.orbitControls.enableRotate=!0}},[t.orbitControls]);const s=t.getObjectByName("terrain");return L0((o,a)=>{if(!r||!t||!i.current)return;const l=r.intersectObject(s);if(l.length>0){const u=l[0];i.current.position.set(u.point.x,u.point.y,u.point.z)}}),oe(Ki,{children:oe(r$,{position:[0,0,0],ref:i,setLinePoints:n})})}function s$({...n}){const[e,t]=ue.exports.useState([]),[r]=ln(sO);return it(Ki,{children:[r&&oe(i$,{setLinePoints:t}),e.map((i,s)=>oe(oO,{points:i},s))]})}const Qh=ue.exports.createContext(),o$=2,a$=1024,l$=1024,F3="discuss,draw".split(",");function u$({...n}){return oe(lL,{makeDefault:!0,up:[0,0,1],position:[0,-800*1.2,400*1.2],fov:60,aspect:window.innerWidth/window.innerHeight,near:1,far:2048})}function c$({...n}){const[,t]=ln(vP),{camera:r}=Tr();return oe(uL,{attach:"orbitControls",target:[0,0,0],minDistance:100,maxDistance:1500,maxPolarAngle:Math.PI/2-.1,zoomSpeed:.5,onEnd:()=>{r.position.x**2+r.position.y**2+r.position.z**2<4e5?t(!0):t(!1)}})}async function f$(n,e){const t=[];n.terrain&&n.terrain.path?(n.terrain.path=e?new URL(n.terrain.path,e).toString():n.terrain.path,n.terrain.data=await qf.get(n.terrain.path).then(i=>i.data).catch(()=>t)):(n.terrain=n.terrain||{},n.terrain.data=t);const r={routes:[],buildings:[]};return n.building&&n.building.path?(n.building.path=e?new URL(n.building.path,e).toString():n.building.path,n.building.data=await qf.get(n.building.path).then(i=>i.data).catch(()=>r)):(n.building=n.building||{},n.building.data=r),n}function h$({model:n,basePath:e,...t}){const[r,i]=ue.exports.useState([]),[s,o]=ue.exports.useState([]);ue.exports.useEffect(()=>{f$(n,e).then(f=>{i(f.terrain.data),o(f.building.data.buildings)})},[n,e]);const[a]=ln(rS),[,l]=ln(h0),[,u]=ln(gP);return it(oL,{id:"model-view-canvas",linear:!1,flat:!0,dpr:Math.min(2,window.devicePixelRatio),gl:{powerPreference:"default",antialias:!1},children:[oe(u$,{}),oe("ambientLight",{args:[16777215,1]}),oe("pointLight",{position:[10,10,10]}),oe(Qh.Provider,{value:{model:n},children:it(xW,{levelmap:r,zoom:o$,width:a$,height:l$,children:[Object.values(n.modules).reduce((f,d)=>f.concat(d.definition.layers||[]),[]).map(f=>a[f.id]&&a[f.id].enabled?oe(_G,{def:f,basePath:e},f.id):null),s.map(f=>oe(SG,{base:f.base,z:f.z,depth:f.depth,name:f.name,type:f.type,onPointerDown:d=>{d.stopPropagation(),l(f),u(f)}},f.id)),F3.includes("discuss")&&oe(n$,{}),F3.includes("draw")&&oe(s$,{})]})}),")",oe(c$,{})]})}function d$({...n}){const[e,t]=ue.exports.useState(""),r=ue.exports.useRef(),[i,s]=ln(rO),[,o]=ln(iO),[a]=ln(vb),[,l]=ln(_b);ue.exports.useEffect(()=>r.current.focus(),[i]),ue.exports.useEffect(()=>{Fo.service("api/discuss").on("created",f=>{o(d=>[...d,f])})},[o]);const u=()=>{if(!i.position)return;const f={...i,content:e,twinId:nO};Fo.service("api/discuss").create(f).catch(d=>{console.log("err",d),l("ERROR")}),s(yb),t("")};return a&&it(p$,{$_css:[{position:"relative",width:"100%","@media (min-width: 768px)":{width:"32rem"}}],children:[oe(m$,{ref:r,type:"text",placeholder:"...",value:e,onChange:f=>t(f.target.value),onKeyPress:f=>{f.key==="Enter"&&(f.preventDefault(),u())},$_css2:[{height:"2.5rem",width:"100%",appearance:"none",borderRadius:"0.5rem",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(229 231 235 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(249 250 251 / var(--tw-bg-opacity))",paddingLeft:"1.5rem",paddingRight:"1.5rem",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))","::placeholder":{"--tw-placeholder-opacity":"1",color:"rgb(156 163 175 / var(--tw-placeholder-opacity))"},":focus":{"--tw-border-opacity":"1",borderColor:"rgb(168 85 247 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",outline:"2px solid transparent",outlineOffset:"2px"}}]}),oe(g$,{$_css3:[{position:"absolute",top:"0px",bottom:"0px",right:"0px",display:"flex",height:"2.5rem",width:"2.5rem",alignItems:"center",justifyContent:"center"}],children:oe(y$,{onClick:()=>{u()},$_css4:[{display:"flex",height:"1.25rem",width:"1.25rem",alignItems:"center",justifyContent:"center","--tw-text-opacity":"1",color:"rgb(209 213 219 / var(--tw-text-opacity))",":hover":{"--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}}],children:oe(v$,{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",$_css5:[{fill:"currentColor"}],children:oe("path",{d:BG})})})})]})}var p$=ke("div").withConfig({displayName:"Input___StyledDiv",componentId:"sc-4ain58-0"})(["",""],n=>n.$_css),m$=ke("input").withConfig({displayName:"Input___StyledInput",componentId:"sc-4ain58-1"})(["",""],n=>n.$_css2),g$=ke("div").withConfig({displayName:"Input___StyledDiv2",componentId:"sc-4ain58-2"})(["",""],n=>n.$_css3),y$=ke("button").withConfig({displayName:"Input___StyledButton",componentId:"sc-4ain58-3"})(["",""],n=>n.$_css4),v$=ke("svg").withConfig({displayName:"Input___StyledSvg",componentId:"sc-4ain58-4"})(["",""],n=>n.$_css5);function _$({width:n,height:e,...t}){const[r,i]=ln(vb),[s]=ln(_b);return it(Ki,{children:[oe(x$,{onClick:()=>i(!r),$_css:[{":focus":{outline:"2px solid transparent",outlineOffset:"2px"}}],children:oe("svg",{style:{width:n,height:e},viewBox:"0 0 24 24",children:oe("path",{fill:"#000000",d:PG})})}),(r||s==="ERROR")&&oe(w$,{$_css2:[{position:"absolute",top:"0px",right:"0px",marginTop:"-0.25rem",marginRight:"-0.25rem",display:"flex",height:"0.75rem",width:"0.75rem"}],children:oe(S$,{$_css3:[{position:"absolute",display:"inline-flex",height:"100%",width:"100%",borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))",opacity:"0.75"},{CONNECTED:{"--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))"},ERROR:{"--tw-bg-opacity":"1",backgroundColor:"rgb(248 113 113 / var(--tw-bg-opacity))"}}[s]]})})]})}var x$=ke("button").withConfig({displayName:"Button___StyledButton",componentId:"sc-120vt1f-0"})(["",""],n=>n.$_css),w$=ke("span").withConfig({displayName:"Button___StyledSpan",componentId:"sc-120vt1f-1"})(["",""],n=>n.$_css2),S$=ke("span").withConfig({displayName:"Button___StyledSpan2",componentId:"sc-120vt1f-2"})(["",""],n=>n.$_css3);function b$({width:n,height:e,...t}){const[r,i]=ln(sO);return it(Ki,{children:[oe(M$,{onClick:()=>i(!r),$_css:[{":focus":{outline:"2px solid transparent",outlineOffset:"2px"}}],children:oe(E$,{style:{width:n,height:e},viewBox:"0 0 24 24",$_css2:[{fill:"currentColor","--tw-text-opacity":"1",color:"rgb(0 0 0 / var(--tw-text-opacity))"}],children:oe("path",{d:RG})})}),r&&oe(C$,{$_css3:[{position:"absolute",top:"0px",right:"0px",marginTop:"-0.25rem",marginRight:"-0.25rem",display:"flex",height:"0.75rem",width:"0.75rem"}],children:oe(A$,{$_css4:[{position:"absolute",display:"inline-flex",height:"100%",width:"100%",borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))",opacity:"0.75"},{ENABLED:{"--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))"}}.ENABLED]})})]})}var M$=ke("button").withConfig({displayName:"Button___StyledButton",componentId:"sc-10tmnz-0"})(["",""],n=>n.$_css),E$=ke("svg").withConfig({displayName:"Button___StyledSvg",componentId:"sc-10tmnz-1"})(["",""],n=>n.$_css2),C$=ke("span").withConfig({displayName:"Button___StyledSpan",componentId:"sc-10tmnz-2"})(["",""],n=>n.$_css3),A$=ke("span").withConfig({displayName:"Button___StyledSpan2",componentId:"sc-10tmnz-3"})(["",""],n=>n.$_css4);const z3="discuss,draw".split(",");function T$({communityURL:n,...e}){return it(P$,{$_css:[{position:"fixed",bottom:"1rem",left:"1rem",right:"1rem",display:"flex",height:"2.5rem",alignItems:"center","@media (min-width: 640px)":{right:"auto"}}],children:[oe(I$,{$_css2:[{display:"flex",alignItems:"center"}],children:oe("a",{href:"https://beta.owntwin.com/docs/about",target:"_blank",rel:"noreferrer",children:oe("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",children:oe("path",{fill:"#000000",d:OG})})})}),!!n&&oe(R$,{$_css3:[{marginLeft:"0.75rem",display:"flex",alignItems:"center"}],children:oe("a",{href:n,target:"_blank",rel:"noreferrer",children:oe("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",children:oe("path",{fill:"#000000",d:CG})})})}),oe(L$,{$_css4:[{marginLeft:"0.75rem",display:"flex",alignItems:"center"}],children:oe(O$,{onClick:()=>{(document.body.requestFullscreen||document.body.webkitRequestFullscreen).call(document.body)},$_css5:[{":focus":{outline:"2px solid transparent",outlineOffset:"2px"}}],children:oe("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",children:oe("path",{fill:"#000000",d:LG})})})}),z3.includes("draw")&&oe(k$,{$_css6:[{position:"relative",marginLeft:"0.75rem",display:"flex",alignItems:"center"}],children:oe(b$,{width:"24px",height:"24px"})}),z3.includes("discuss")&&it(Ki,{children:[oe(D$,{$_css7:[{position:"relative",marginLeft:"0.75rem",display:"flex",alignItems:"center"}],children:oe(_$,{width:"24px",height:"24px"})}),oe(N$,{$_css8:[{position:"absolute",bottom:"3.5rem",display:"flex",width:"100%",alignItems:"center","@media (min-width: 640px)":{position:"static",bottom:"auto",marginLeft:"0.75rem",width:"auto"}}],children:oe(d$,{})})]})]})}var P$=ke("div").withConfig({displayName:"Sidenav___StyledDiv",componentId:"sc-siam6p-0"})(["",""],n=>n.$_css),I$=ke("div").withConfig({displayName:"Sidenav___StyledDiv2",componentId:"sc-siam6p-1"})(["",""],n=>n.$_css2),R$=ke("div").withConfig({displayName:"Sidenav___StyledDiv3",componentId:"sc-siam6p-2"})(["",""],n=>n.$_css3),L$=ke("div").withConfig({displayName:"Sidenav___StyledDiv4",componentId:"sc-siam6p-3"})(["",""],n=>n.$_css4),O$=ke("button").withConfig({displayName:"Sidenav___StyledButton",componentId:"sc-siam6p-4"})(["",""],n=>n.$_css5),k$=ke("div").withConfig({displayName:"Sidenav___StyledDiv5",componentId:"sc-siam6p-5"})(["",""],n=>n.$_css6),D$=ke("div").withConfig({displayName:"Sidenav___StyledDiv6",componentId:"sc-siam6p-6"})(["",""],n=>n.$_css7),N$=ke("div").withConfig({displayName:"Sidenav___StyledDiv7",componentId:"sc-siam6p-7"})(["",""],n=>n.$_css8);function B3(n,e){return e.split(":",2).length===2?n&&n.properties&&n.properties[e]?encodeURIComponent(n.properties[e]):null:n&&n[e]?encodeURIComponent(n[e]):null}function F$({id:n,module:e,properties:t,isOpen:r,...i}){const[s,o]=ue.exports.useState(r||!1),[a,l]=ue.exports.useState(!1),[u,f]=ln(rS),[d]=ln(h0),p=e.definition,m=p.layers,g=p.actions||[],v=[];return t=t||{},it(U$,{$_css:[{borderBottomWidth:"1px"}],children:[oe(H$,{onClick:y=>{o(!s)},$_css2:[{display:"flex",cursor:"pointer",flexDirection:"column",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(219 234 254 / var(--tw-bg-opacity))"}}],children:it(V$,{$_css3:[{display:"flex",alignItems:"center"}],children:[oe(W$,{$_css4:[{flexGrow:"1"}],children:p.name}),oe(G$,{$_css5:[{display:"flex",alignItems:"center"}],children:oe(j$,{onClick:y=>{s?(y.stopPropagation(),l(!a)):l(!0)},$_css6:[{borderRadius:"0.25rem",padding:"0.25rem",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(191 219 254 / var(--tw-bg-opacity))"}}],children:oe($$,{style:{width:"18px",height:"18px"},viewBox:"0 0 24 24",$_css7:[{fill:"currentColor","--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}],children:oe("path",{d:kG})})})})]})}),s&&it(q$,{$_css8:[{paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingBottom:"0.75rem",fontSize:"0.875rem",lineHeight:"1.25rem"}],children:[a&&it(X$,{$_css9:[{marginBottom:"0.5rem",marginTop:"0.25rem"}],children:[oe(Y$,{$_css10:[{marginTop:"0.25rem",marginBottom:"0.25rem"}],children:""}),oe(J$,{$_css11:[{borderRadius:"0.25rem","--tw-bg-opacity":"1",backgroundColor:"rgb(243 244 246 / var(--tw-bg-opacity))",padding:"0.5rem",fontSize:"0.875rem",lineHeight:"1.25rem"}],children:oe(Z$,{$_css12:[{whiteSpace:"pre-wrap",overflowWrap:"break-word"}],children:p.description||oe(Q$,{$_css13:[{"--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}],children:""})})}),oe(K$,{$_css14:[{marginTop:"0.5rem",marginBottom:"0.25rem"}],children:""}),oe(eq,{$_css15:[{borderRadius:"0.25rem","--tw-bg-opacity":"1",backgroundColor:"rgb(243 244 246 / var(--tw-bg-opacity))",padding:"0.5rem",fontSize:"0.875rem",lineHeight:"1.25rem"}],children:oe(tq,{$_css16:[{whiteSpace:"pre-wrap",overflowWrap:"break-word"}],children:p.license||oe(nq,{$_css17:[{"--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}],children:""})})})]}),it(rq,{$_css18:[{marginBottom:"0.5rem"}],children:[oe(iq,{$_css19:[{marginTop:"0.25rem",marginBottom:"0.25rem"}],children:""}),oe("ul",{children:g.length>0?g.map((y,_)=>{const x=A=>t[`${n}:actions.${y.id}.${A}`]||y[A]||null,w=[];x("href")||w.push("href"),y.fields&&y.fields.forEach(A=>{B3(d,A)!==null||w.push(A)});function b(){const A=y.fields?y.fields.map(E=>{const C=x("fields.assign_to");if(!C)return"";const M=C[E],I=B3(d,E);return!M||!I?"":`${M}=${I}`}):[];return`${x("href")}?${y.default_param?`${y.default_param}&`:""}${A.join("&")}`}return it("li",{children:[it(sq,{href:b(),onClick:A=>{if(w.length>0)return A.preventDefault(),!1},target:"_blank",rel:"noreferrer",$_css20:[{display:"flex",cursor:"pointer",alignItems:"center",":hover":{"--tw-text-opacity":"1",color:"rgb(31 41 55 / var(--tw-text-opacity))"}}],children:[oe(oq,{style:{width:"14px",height:"14px"},viewBox:"0 0 24 24",$_css21:[{marginRight:"0.125rem",fill:"currentColor","--tw-text-opacity":"1",color:"rgb(0 0 0 / var(--tw-text-opacity))"}],children:oe("path",{d:FG})}),oe(aq,{$_css22:[w.length>0?{textDecorationLine:"line-through"}:null],children:y.text})]}),w.length>0&&it(lq,{$_css23:[{marginBottom:"0.125rem",borderRadius:"0.25rem","--tw-bg-opacity":"1",backgroundColor:"rgb(107 114 128 / var(--tw-bg-opacity))",paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.125rem",paddingBottom:"0.125rem",fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"}],children:[":"," ",oe("code",{children:w.join(", ")})]})]},_)}):oe("li",{children:oe(uq,{$_css24:[{"--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}],children:""})})})]}),it(cq,{$_css25:[{marginBottom:"0.5rem"}],children:[oe(fq,{$_css26:[{marginTop:"0.25rem",marginBottom:"0.25rem"}],children:""}),oe("ul",{children:m.length>0?m.map((y,_)=>it(hq,{$_css27:[{display:"flex",alignItems:"center"}],children:[oe(dq,{type:"checkbox",checked:u[y.id].enabled,onChange:x=>{f(w=>(w[y.id].enabled=!w[y.id].enabled,Object.assign({},w)))},$_css28:[{marginRight:"0.25rem"}]}),oe("span",{children:y.name}),["csv"].includes(y.format)&&oe(pq,{$_css29:[{marginLeft:"0.25rem"}],children:oe("a",{href:y.path,children:oe(mq,{style:{width:"14px",height:"14px"},viewBox:"0 0 24 24",$_css30:[{fill:"currentColor","--tw-text-opacity":"1",color:"rgb(107 114 128 / var(--tw-text-opacity))",":hover":{"--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}}],children:oe("path",{d:TL})})})})]},_)):oe("li",{children:oe(gq,{$_css31:[{"--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}],children:""})})})]}),it(yq,{$_css32:[{marginBottom:"0.5rem"}],children:[oe(vq,{$_css33:[{marginTop:"0.25rem",marginBottom:"0.25rem"}],children:""}),oe("ul",{children:v.length>0?v.map((y,_)=>oe("li",{children:oe(_q,{$_css34:[{"--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}],children:y.name})},_)):oe("li",{children:oe(xq,{$_css35:[{"--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}],children:""})})})]})]})]})}function z$({iri:n,setOpen:e,...t}){return oe(wq,{role:"dialog","aria-modal":"true",$_css36:[{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:"10",overflowY:"auto"}],children:it(Sq,{$_css37:[{display:"flex",minHeight:"100vh",alignItems:"flex-end",justifyContent:"center",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"1rem",paddingBottom:"5rem",textAlign:"center","@media (min-width: 640px)":{padding:"0px"}}],children:[oe(bq,{"aria-hidden":"true",onClick:()=>e(!1),$_css38:[{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px","--tw-bg-opacity":"0.05",backgroundColor:"rgb(107 114 128 / var(--tw-bg-opacity))",transitionProperty:"opacity",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}]}),oe(Mq,{"aria-hidden":"true",$_css39:[{display:"none",height:"100vh",verticalAlign:"middle"}],children:""}),oe(Eq,{$_css40:[{marginTop:"2rem",marginBottom:"2rem",display:"inline-block",width:"100%",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",overflow:"hidden",borderRadius:"0.5rem",borderWidth:"1px","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",textAlign:"left",verticalAlign:"middle","--tw-shadow":"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms","@media (min-width: 640px)":{maxWidth:"32rem"}}],children:oe(Cq,{$_css41:[{"--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",paddingLeft:"1.25rem",paddingRight:"1.25rem",paddingTop:"1.25rem",paddingBottom:"1.25rem"}],children:it(Aq,{$_css42:[{display:"flex",flexDirection:"column"}],children:[it(Tq,{$_css43:[{marginTop:"0px",textAlign:"center","@media (min-width: 640px)":{marginLeft:"0px",textAlign:"left"}}],children:[oe(Pq,{$_css44:[{fontWeight:"500",lineHeight:"1.5rem","--tw-text-opacity":"1",color:"rgb(17 24 39 / var(--tw-text-opacity))"}],children:""}),oe(Iq,{$_css45:[{marginTop:"0.5rem"}],children:oe(Rq,{type:"text",value:n,onFocus:r=>r.target.select(),$_css46:[{width:"100%",borderRadius:"0.25rem",borderWidth:"1px","--tw-bg-opacity":"1",backgroundColor:"rgb(243 244 246 / var(--tw-bg-opacity))",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem","--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}]})})]}),it(Lq,{$_css47:[{marginTop:"1rem",textAlign:"center","@media (min-width: 640px)":{marginLeft:"0px",textAlign:"left"}}],children:[oe(Oq,{$_css48:[{fontWeight:"500",lineHeight:"1.5rem","--tw-text-opacity":"1",color:"rgb(17 24 39 / var(--tw-text-opacity))"}],children:""}),oe(kq,{$_css49:[{marginTop:"0.5rem",display:"flex",justifyContent:"center","@media (min-width: 640px)":{justifyContent:"flex-start"}}],children:it(Dq,{href:`${n}/twin.json`,target:"_blank",rel:"noreferrer",$_css50:[{display:"flex",alignItems:"center","--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))",":hover":{"--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))"}}],children:[oe(Nq,{style:{width:"16px",height:"16px"},viewBox:"0 0 24 24",$_css51:[{marginRight:"0.25rem",fill:"currentColor"}],children:oe("path",{d:TL})}),oe("span",{children:""})]})})]})]})})})]})})}function B$({name:n,type:e,iri:t,item:r,modules:i,properties:s,isOpen:o,back:a,...l}){const[u,f]=ue.exports.useState(o||!1),[d,p]=ue.exports.useState(!1),[m,g]=ue.exports.useState(!1),v=r.description||null;return it(Fq,{style:{...l.style,maxHeight:"40rem",zIndex:"20000000"},$_css52:[{position:"fixed",top:"1rem",left:"1rem",right:"1rem",display:"flex",flexDirection:"column",borderRadius:"0.25rem","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))","--tw-shadow":"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)","@media (min-width: 640px)":{right:"auto",width:"18rem"}},u?{bottom:"5rem"}:{bottom:"auto"}],children:[it("div",{children:[a,it(zq,{$_css53:[a?{borderTopWidth:"1px"}:null,{borderRadius:"0.25rem","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem"}],children:[oe(Bq,{$_css54:[{fontSize:"0.75rem",lineHeight:"1rem"}],children:e}),oe("div",{children:n}),oe(Uq,{$_css55:[{wordBreak:"break-all",fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}],children:t?oe(Hq,{onClick:()=>g(!0),$_css56:[{cursor:"pointer",":hover":{borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgb(243 244 246 / var(--tw-bg-opacity))",paddingLeft:"0.25rem",paddingRight:"0.25rem"}}],children:t}):""}),m&&oe(z$,{iri:t,setOpen:g})]})]}),oe(Vq,{onClick:()=>{f(!u),!d&&p(!0)},$_css57:[{display:"flex",cursor:"pointer",justifyContent:"center",borderTopWidth:"1px",paddingTop:"0.25rem",paddingBottom:"0.25rem",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(243 244 246 / var(--tw-bg-opacity))"}}],children:it(Wq,{$_css58:[{display:"flex",alignItems:"center",fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgb(31 41 55 / var(--tw-text-opacity))"}],children:[oe(Gq,{style:{width:"18px",height:"18px"},viewBox:"0 0 24 24",$_css59:[{fill:"currentColor","--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}],children:oe("path",{d:u?NG:DG})}),!d&&oe("div",{children:"/"})]})}),it(jq,{$_css60:[u?{display:"block"}:{display:"none"},{flexGrow:"1",overflowY:"scroll"}],children:[oe($q,{$_css61:[{marginTop:"0px",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgb(31 41 55 / var(--tw-text-opacity))"}],children:""}),oe(qq,{$_css62:[{margin:"0.5rem",marginTop:"0px",borderRadius:"0.125rem",borderWidth:"1px",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem"}],children:oe(Xq,{$_css63:[{fontSize:"0.875rem",lineHeight:"1.25rem"},!v&&{"--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}],children:v||""})}),it(Yq,{$_css64:[{paddingTop:"0.5rem",paddingBottom:"0.5rem"}],children:[oe(Jq,{$_css65:[{borderBottomWidth:"1px",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgb(31 41 55 / var(--tw-text-opacity))"}],children:""}),Object.entries(i).map(([y,_])=>oe(F$,{id:y,module:_,properties:s},y))]})]})]})}var U$=ke("div").withConfig({displayName:"ItemInfo___StyledDiv",componentId:"sc-bnrxg6-0"})(["",""],n=>n.$_css),H$=ke("div").withConfig({displayName:"ItemInfo___StyledDiv2",componentId:"sc-bnrxg6-1"})(["",""],n=>n.$_css2),V$=ke("div").withConfig({displayName:"ItemInfo___StyledDiv3",componentId:"sc-bnrxg6-2"})(["",""],n=>n.$_css3),W$=ke("div").withConfig({displayName:"ItemInfo___StyledDiv4",componentId:"sc-bnrxg6-3"})(["",""],n=>n.$_css4),G$=ke("div").withConfig({displayName:"ItemInfo___StyledDiv5",componentId:"sc-bnrxg6-4"})(["",""],n=>n.$_css5),j$=ke("div").withConfig({displayName:"ItemInfo___StyledDiv6",componentId:"sc-bnrxg6-5"})(["",""],n=>n.$_css6),$$=ke("svg").withConfig({displayName:"ItemInfo___StyledSvg",componentId:"sc-bnrxg6-6"})(["",""],n=>n.$_css7),q$=ke("div").withConfig({displayName:"ItemInfo___StyledDiv7",componentId:"sc-bnrxg6-7"})(["",""],n=>n.$_css8),X$=ke("div").withConfig({displayName:"ItemInfo___StyledDiv8",componentId:"sc-bnrxg6-8"})(["",""],n=>n.$_css9),Y$=ke("div").withConfig({displayName:"ItemInfo___StyledDiv9",componentId:"sc-bnrxg6-9"})(["",""],n=>n.$_css10),J$=ke("div").withConfig({displayName:"ItemInfo___StyledDiv10",componentId:"sc-bnrxg6-10"})(["",""],n=>n.$_css11),Z$=ke("pre").withConfig({displayName:"ItemInfo___StyledPre",componentId:"sc-bnrxg6-11"})(["",""],n=>n.$_css12),Q$=ke("span").withConfig({displayName:"ItemInfo___StyledSpan",componentId:"sc-bnrxg6-12"})(["",""],n=>n.$_css13),K$=ke("div").withConfig({displayName:"ItemInfo___StyledDiv11",componentId:"sc-bnrxg6-13"})(["",""],n=>n.$_css14),eq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv12",componentId:"sc-bnrxg6-14"})(["",""],n=>n.$_css15),tq=ke("pre").withConfig({displayName:"ItemInfo___StyledPre2",componentId:"sc-bnrxg6-15"})(["",""],n=>n.$_css16),nq=ke("span").withConfig({displayName:"ItemInfo___StyledSpan2",componentId:"sc-bnrxg6-16"})(["",""],n=>n.$_css17),rq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv13",componentId:"sc-bnrxg6-17"})(["",""],n=>n.$_css18),iq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv14",componentId:"sc-bnrxg6-18"})(["",""],n=>n.$_css19),sq=ke("a").withConfig({displayName:"ItemInfo___StyledA",componentId:"sc-bnrxg6-19"})(["",""],n=>n.$_css20),oq=ke("svg").withConfig({displayName:"ItemInfo___StyledSvg2",componentId:"sc-bnrxg6-20"})(["",""],n=>n.$_css21),aq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv15",componentId:"sc-bnrxg6-21"})(["",""],n=>n.$_css22),lq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv16",componentId:"sc-bnrxg6-22"})(["",""],n=>n.$_css23),uq=ke("span").withConfig({displayName:"ItemInfo___StyledSpan3",componentId:"sc-bnrxg6-23"})(["",""],n=>n.$_css24),cq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv17",componentId:"sc-bnrxg6-24"})(["",""],n=>n.$_css25),fq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv18",componentId:"sc-bnrxg6-25"})(["",""],n=>n.$_css26),hq=ke("li").withConfig({displayName:"ItemInfo___StyledLi",componentId:"sc-bnrxg6-26"})(["",""],n=>n.$_css27),dq=ke("input").withConfig({displayName:"ItemInfo___StyledInput",componentId:"sc-bnrxg6-27"})(["",""],n=>n.$_css28),pq=ke("span").withConfig({displayName:"ItemInfo___StyledSpan4",componentId:"sc-bnrxg6-28"})(["",""],n=>n.$_css29),mq=ke("svg").withConfig({displayName:"ItemInfo___StyledSvg3",componentId:"sc-bnrxg6-29"})(["",""],n=>n.$_css30),gq=ke("span").withConfig({displayName:"ItemInfo___StyledSpan5",componentId:"sc-bnrxg6-30"})(["",""],n=>n.$_css31),yq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv19",componentId:"sc-bnrxg6-31"})(["",""],n=>n.$_css32),vq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv20",componentId:"sc-bnrxg6-32"})(["",""],n=>n.$_css33),_q=ke("span").withConfig({displayName:"ItemInfo___StyledSpan6",componentId:"sc-bnrxg6-33"})(["",""],n=>n.$_css34),xq=ke("span").withConfig({displayName:"ItemInfo___StyledSpan7",componentId:"sc-bnrxg6-34"})(["",""],n=>n.$_css35),wq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv21",componentId:"sc-bnrxg6-35"})(["",""],n=>n.$_css36),Sq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv22",componentId:"sc-bnrxg6-36"})(["",""],n=>n.$_css37),bq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv23",componentId:"sc-bnrxg6-37"})(["",""],n=>n.$_css38),Mq=ke("span").withConfig({displayName:"ItemInfo___StyledSpan8",componentId:"sc-bnrxg6-38"})(["",""],n=>n.$_css39),Eq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv24",componentId:"sc-bnrxg6-39"})(["",""],n=>n.$_css40),Cq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv25",componentId:"sc-bnrxg6-40"})(["",""],n=>n.$_css41),Aq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv26",componentId:"sc-bnrxg6-41"})(["",""],n=>n.$_css42),Tq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv27",componentId:"sc-bnrxg6-42"})(["",""],n=>n.$_css43),Pq=ke("h3").withConfig({displayName:"ItemInfo___StyledH",componentId:"sc-bnrxg6-43"})(["",""],n=>n.$_css44),Iq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv28",componentId:"sc-bnrxg6-44"})(["",""],n=>n.$_css45),Rq=ke("input").withConfig({displayName:"ItemInfo___StyledInput2",componentId:"sc-bnrxg6-45"})(["",""],n=>n.$_css46),Lq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv29",componentId:"sc-bnrxg6-46"})(["",""],n=>n.$_css47),Oq=ke("h3").withConfig({displayName:"ItemInfo___StyledH2",componentId:"sc-bnrxg6-47"})(["",""],n=>n.$_css48),kq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv30",componentId:"sc-bnrxg6-48"})(["",""],n=>n.$_css49),Dq=ke("a").withConfig({displayName:"ItemInfo___StyledA2",componentId:"sc-bnrxg6-49"})(["",""],n=>n.$_css50),Nq=ke("svg").withConfig({displayName:"ItemInfo___StyledSvg4",componentId:"sc-bnrxg6-50"})(["",""],n=>n.$_css51),Fq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv31",componentId:"sc-bnrxg6-51"})(["",""],n=>n.$_css52),zq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv32",componentId:"sc-bnrxg6-52"})(["",""],n=>n.$_css53),Bq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv33",componentId:"sc-bnrxg6-53"})(["",""],n=>n.$_css54),Uq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv34",componentId:"sc-bnrxg6-54"})(["",""],n=>n.$_css55),Hq=ke("span").withConfig({displayName:"ItemInfo___StyledSpan9",componentId:"sc-bnrxg6-55"})(["",""],n=>n.$_css56),Vq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv35",componentId:"sc-bnrxg6-56"})(["",""],n=>n.$_css57),Wq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv36",componentId:"sc-bnrxg6-57"})(["",""],n=>n.$_css58),Gq=ke("svg").withConfig({displayName:"ItemInfo___StyledSvg5",componentId:"sc-bnrxg6-58"})(["",""],n=>n.$_css59),jq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv37",componentId:"sc-bnrxg6-59"})(["",""],n=>n.$_css60),$q=ke("div").withConfig({displayName:"ItemInfo___StyledDiv38",componentId:"sc-bnrxg6-60"})(["",""],n=>n.$_css61),qq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv39",componentId:"sc-bnrxg6-61"})(["",""],n=>n.$_css62),Xq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv40",componentId:"sc-bnrxg6-62"})(["",""],n=>n.$_css63),Yq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv41",componentId:"sc-bnrxg6-63"})(["",""],n=>n.$_css64),Jq=ke("div").withConfig({displayName:"ItemInfo___StyledDiv42",componentId:"sc-bnrxg6-64"})(["",""],n=>n.$_css65);function Zq({...n}){const[e,t]=ue.exports.useState();ue.exports.useEffect(()=>{r();let i=setInterval(()=>r(),1e3*30);return function(){clearInterval(i)}},[]);function r(){let i=new Date().toLocaleString("ja-JP",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"});t(i)}return oe(Qq,{$_css:[{display:"flex",alignItems:"center"}],children:oe(Kq,{$_css2:[{userSelect:"none",borderRadius:"0.25rem","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem","--tw-shadow":"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}],children:e})})}var Qq=ke("div").withConfig({displayName:"Clock___StyledDiv",componentId:"sc-hv9ho2-0"})(["",""],n=>n.$_css),Kq=ke("div").withConfig({displayName:"Clock___StyledDiv2",componentId:"sc-hv9ho2-1"})(["",""],n=>n.$_css2);ue.exports.createContext();function eX({...n}){return oe(lL,{makeDefault:!0,up:[0,0,1],position:[0,-800*.5,400*.5],fov:60,aspect:window.innerWidth/window.innerHeight,near:1,far:2048})}function tX({width:n,height:e,color:t=15856629,...r}){return it("mesh",{children:[oe("planeBufferGeometry",{args:[n,e]}),oe("meshBasicMaterial",{color:t,polygonOffset:!0,polygonOffsetFactor:1})]})}function nX({model:n,base:e,depth:t,floor:r,floors:i,...s}){const[l,u]=ln(h0),f=e[0][0],d=e[0][1],p=m_(n.bbox,f,d,250,250),m=ue.exports.useMemo(()=>{const F=new Yi;return F.moveTo(0,0),e.forEach(H=>{const $=m_(n.bbox,H[0],H[1],250,250);F.lineTo($.x-p.x,$.y-p.y)}),F},[e,n,p.x,p.y]),g=ue.exports.useMemo(()=>{const F={steps:1,depth:(t||50)*.2,bevelEnabled:!1};return new ga(m,F)},[m,t]);let v=r||1,y=(t||50)*.2/v,_=i||{};const x=ue.exports.useMemo(()=>new mc(m),[m]);let w=[];const[b,A]=ue.exports.useState(null),[E,C]=ue.exports.useState(null),[M,I]=ue.exports.useState(null),[P,R]=ue.exports.useState(null);ue.exports.useEffect(()=>{l&&l.id!==P&&R(null)},[l,P]),ue.exports.useEffect(()=>{document.body.style.cursor=E||M?"pointer":"auto"},[E,M]);for(let F=0;F<v;F++){let H=_[`${F+1}`]||{texture:null,anchors:[]};H.n=`${F+1}`;const $=H.anchors.map((j,D)=>{let q=m_(n.bbox,j.position.lng,j.position.lat,250,250);return it("mesh",{position:[q.x-p.x,q.y-p.y,y/2],userData:{data:j},visible:b===null||b===F+1,children:[oe("sphereBufferGeometry",{args:[.1,20,20]}),oe("meshBasicMaterial",{color:2201331}),it("mesh",{name:"hitbox",visible:b===null||b===F+1,onPointerOver:B=>{B.stopPropagation(),b===F+1&&I(j.id)},onPointerOut:B=>{B.stopPropagation(),M===j.id&&I(null)},onPointerDown:B=>{b!==F+1||!M===j.id||(B.stopPropagation(),u(j),R(j.id))},children:[oe("sphereBufferGeometry",{args:[1,20,20]}),oe("meshBasicMaterial",{visible:M===j.id||P===j.id,color:2201331,opacity:.5,transparent:!0})]}),oe(Jh,{style:{pointerEvents:"none"},children:oe("div",{style:{display:b===null||b===F+1?"block":"none",fontSize:"0.75rem",fontWeight:M===j.id||P===j.id?"bold":void 0,width:"10rem"},children:j.name})})]},D)});let X=it("mesh",{"position-z":y*F,geometry:x,userData:{metadata:H},onPointerDown:j=>{M||(b===F+1?(j.stopPropagation(),A(null)):b===null&&(j.stopPropagation(),A(F+1)))},onPointerOver:j=>{(b===null||b===F+1)&&(j.stopPropagation(),C(F+1))},onPointerOut:j=>{(b===null||b===F+1)&&(j.stopPropagation(),C(null))},visible:b===null||b===F+1,children:[oe("meshBasicMaterial",{color:E===F+1?11184810:15856628,side:ji,visible:b===null||b===F+1}),it("lineSegments",{children:[oe("edgesGeometry",{attach:"geometry",args:[x]}),oe("lineBasicMaterial",{color:13421772,attach:"material"})]}),oe("group",{name:"anchors",children:$})]},F);w.push(X)}const O=ue.exports.useRef();return ue.exports.useLayoutEffect(()=>{const F=new da().setFromObject(O.current),H=F.getSize(new Q),$=Math.min((250-32)/H.x,(250-32)/H.y);O.current.scale.set($,$,$);const X=F.getCenter(new Q);O.current.translateX(-X.x*$),O.current.translateY(-X.y*$)},[]),it("mesh",{ref:O,position:[0,0,0],geometry:g,children:[oe("meshLambertMaterial",{wireframe:!0,visible:!1}),it("lineSegments",{children:[oe("edgesGeometry",{attach:"geometry",args:[g,45]}),oe("lineBasicMaterial",{color:13421772,attach:"material"})]}),oe("group",{name:"floors",children:w})]})}function rX({model:n,type:e,entity:t,...r}){let i;return i&&(i=null),t&&e==="building"&&(i=oe(nX,{model:n,base:t.base,depth:t.depth,floor:t.floor,floors:t.floors},t.id)),it(oL,{id:"detail-view-canvas",linear:!0,flat:!0,dpr:Math.min(2,window.devicePixelRatio),gl:{powerPreference:"default",antialias:!1},children:[oe(eX,{}),oe("ambientLight",{args:[16777215,1]}),oe("pointLight",{position:[10,10,10]}),oe(tX,{width:250,height:250}),i,oe(uL,{target:[0,0,0],minDistance:100,maxDistance:500,maxPolarAngle:Math.PI/2-.1})]})}const iX={id:null,name:null,type:null,iri:null,url:null,community:null,description:null,bbox:{minlng:139.647216796875,minlat:35.550105335885505,maxlng:139.658203125,maxlat:35.55904339525895},canvas:{width:1024,height:1024},terrain:null,building:null,modules:{}};async function sX(){let n,e,t;const r=new URL(window.location),i=new URLSearchParams(r.search);return i.has("twin")?(e=i.get("twin"),t=new URL("./twin.json",e)):(e=null,t="./twin.json"),n=await qf.get(t).then(s=>s.data).catch(()=>iX),n._basePath=e,i.has("no-terrain")&&(n.terrain=null),n.bbox={minlng:n.bbox[0],minlat:n.bbox[1],maxlng:n.bbox[2],maxlat:n.bbox[3]},n}function oX(){const[n,e]=ue.exports.useState(!1),[t,r]=ln(yP);return ue.exports.useEffect(()=>{t&&e(!0)},[t]),it(lX,{id:"debug",$_css:[{position:"fixed",bottom:"0px",left:"0px",right:"0px",height:"12rem",borderTopLeftRadius:"0.375rem",borderTopRightRadius:"0.375rem","--tw-bg-opacity":"1",backgroundColor:"rgb(31 41 55 / var(--tw-bg-opacity))",padding:"1rem",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))","--tw-shadow":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},n?{display:"block"}:{display:"none"}],children:[oe(uX,{onClick:()=>{e(!1),r("")},$_css2:[{position:"absolute",top:"1rem",right:"1rem",cursor:"pointer"}],children:oe("svg",{style:{width:"18px",height:"18px"},viewBox:"0 0 24 24",children:oe("path",{fill:"#eee",d:TG})})}),oe(cX,{$_css3:[{height:"100%",width:"100%",overflowY:"scroll"}],children:t})]})}function aX(){const[n,e]=ue.exports.useState({id:null,name:null,type:null,iri:null,description:null,modules:[]}),[t,r]=ue.exports.useState(!1),[,i]=ln(rS),[s,o]=ln(h0),[a,l]=ln(gP),[u,f]=ue.exports.useState({});ue.exports.useEffect(()=>{(async()=>{let p=await sX();e(p),r(!0)})()},[]),ue.exports.useEffect(()=>{i(()=>{const p={};return Object.entries(n.modules).forEach(([m,g])=>{(g.definition.layers||[]).forEach(y=>{p[`${y.id}`]={enabled:n.properties[`${m}:layers.${y.id}.enabled`]||!1}})}),p})},[i,n.modules,n.properties]),ue.exports.useEffect(()=>{!s&&n&&n.id&&o(n),s&&f({name:s.name,type:s.type_label||s.type,iri:s.iri,description:s.description})},[s,o,n]);const d=ue.exports.useRef(null);return it(fX,{className:"App",id:"App",$_css4:[{position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px"}],children:[oe(hX,{$_css5:[{pointerEvents:"none",position:"absolute",top:"0px",bottom:"0px",left:"0px",right:"0px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-text-opacity":"1",color:"rgb(156 163 175 / var(--tw-text-opacity))"},a?{display:"none"}:{display:"flex"}],children:oe("div",{children:""})}),oe(dX,{$_css6:[{position:"absolute",top:"0px",bottom:"0px",left:"0px",right:"0px"},a?{display:"none"}:{display:"block"}],children:t&&oe(h$,{model:n,basePath:n._basePath})}),oe(wF,{nodeRef:d,in:!!a,timeout:1,children:p=>oe(pX,{ref:d,className:"detail-view",$_css7:[{position:"absolute",top:"0px",bottom:"0px",left:"0px",right:"0px"},["entering","entered"].includes(p)?{display:"block"}:{display:"none"}],children:oe(mX,{$_css8:[{height:"100%",width:"100%"},p==="entered"?{display:"block"}:{display:"none"}],children:t&&oe(rX,{model:n,type:"building",entity:a})})})}),t&&oe(B$,{name:u.name,type:u.type,iri:u.iri,item:u,modules:n.modules,properties:n.properties,back:a&&it(gX,{onClick:p=>{p.stopPropagation(),a.id===s.id?(l(null),o(null)):o(a)},$_css9:[{display:"flex",cursor:"pointer",alignItems:"center","--tw-bg-opacity":"1",backgroundColor:"rgb(249 250 251 / var(--tw-bg-opacity))",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(243 244 246 / var(--tw-bg-opacity))"}}],children:[oe(yX,{$_css10:[{marginRight:"0.25rem"}],children:oe("svg",{style:{width:"18px",height:"18px"},viewBox:"0 0 24 24",children:oe("path",{fill:"#888",d:AG})})}),oe("div",{children:""})]})}),oe(oX,{}),oe(vX,{$_css11:[{position:"absolute",top:"1rem",left:"auto",right:"1rem",display:"none","@media (min-width: 640px)":{display:"block"}}],children:oe(Zq,{})}),t&&oe(T$,{communityURL:n.community}),oe(_X,{href:"//beta.owntwin.com",$_css12:[{cursor:"pointer"}],children:oe(xX,{className:"logo",$_css13:[{position:"absolute",bottom:"1rem",left:"auto",right:"1rem",borderRadius:"0.25rem","--tw-bg-opacity":"1",backgroundColor:"rgb(107 114 128 / var(--tw-bg-opacity))",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))",opacity:"0.75"}],children:oe("div",{children:"OwnTwin"})})})]})}var lX=ke("div").withConfig({displayName:"App___StyledDiv",componentId:"sc-cwinvs-0"})(["",""],n=>n.$_css),uX=ke("div").withConfig({displayName:"App___StyledDiv2",componentId:"sc-cwinvs-1"})(["",""],n=>n.$_css2),cX=ke("div").withConfig({displayName:"App___StyledDiv3",componentId:"sc-cwinvs-2"})(["",""],n=>n.$_css3),fX=ke("div").withConfig({displayName:"App___StyledDiv4",componentId:"sc-cwinvs-3"})(["",""],n=>n.$_css4),hX=ke("div").withConfig({displayName:"App___StyledDiv5",componentId:"sc-cwinvs-4"})(["",""],n=>n.$_css5),dX=ke("div").withConfig({displayName:"App___StyledDiv6",componentId:"sc-cwinvs-5"})(["",""],n=>n.$_css6),pX=ke("div").withConfig({displayName:"App___StyledDiv7",componentId:"sc-cwinvs-6"})(["",""],n=>n.$_css7),mX=ke("div").withConfig({displayName:"App___StyledDiv8",componentId:"sc-cwinvs-7"})(["",""],n=>n.$_css8),gX=ke("div").withConfig({displayName:"App___StyledDiv9",componentId:"sc-cwinvs-8"})(["",""],n=>n.$_css9),yX=ke("div").withConfig({displayName:"App___StyledDiv10",componentId:"sc-cwinvs-9"})(["",""],n=>n.$_css10),vX=ke("div").withConfig({displayName:"App___StyledDiv11",componentId:"sc-cwinvs-10"})(["",""],n=>n.$_css11),_X=ke("a").withConfig({displayName:"App___StyledA",componentId:"sc-cwinvs-11"})(["",""],n=>n.$_css12),xX=ke("div").withConfig({displayName:"App___StyledDiv12",componentId:"sc-cwinvs-12"})(["",""],n=>n.$_css13);const wX=dP`*, ::before, ::after {
  box-sizing: border-box;
  border-width: 0;
  border-style: solid;
  border-color: #e5e7eb;
  --tw-border-spacing-x: 0;
  --tw-border-spacing-y: 0;
  --tw-translate-x: 0;
  --tw-translate-y: 0;
  --tw-rotate: 0;
  --tw-skew-x: 0;
  --tw-skew-y: 0;
  --tw-scale-x: 1;
  --tw-scale-y: 1;
  --tw-pan-x: var(--tw-empty,/*!*/ /*!*/);
  --tw-pan-y: var(--tw-empty,/*!*/ /*!*/);
  --tw-pinch-zoom: var(--tw-empty,/*!*/ /*!*/);
  --tw-scroll-snap-strictness: proximity;
  --tw-ordinal: var(--tw-empty,/*!*/ /*!*/);
  --tw-slashed-zero: var(--tw-empty,/*!*/ /*!*/);
  --tw-numeric-figure: var(--tw-empty,/*!*/ /*!*/);
  --tw-numeric-spacing: var(--tw-empty,/*!*/ /*!*/);
  --tw-numeric-fraction: var(--tw-empty,/*!*/ /*!*/);
  --tw-ring-offset-shadow: 0 0 #0000;
  --tw-ring-shadow: 0 0 #0000;
  --tw-shadow: 0 0 #0000;
  --tw-shadow-colored: 0 0 #0000;
  --tw-ring-inset: var(--tw-empty,/*!*/ /*!*/);
  --tw-ring-offset-width: 0px;
  --tw-ring-offset-color: #fff;
  --tw-ring-color: rgb(59 130 246 / 0.5);
  --tw-blur: var(--tw-empty,/*!*/ /*!*/);
  --tw-brightness: var(--tw-empty,/*!*/ /*!*/);
  --tw-contrast: var(--tw-empty,/*!*/ /*!*/);
  --tw-grayscale: var(--tw-empty,/*!*/ /*!*/);
  --tw-hue-rotate: var(--tw-empty,/*!*/ /*!*/);
  --tw-invert: var(--tw-empty,/*!*/ /*!*/);
  --tw-saturate: var(--tw-empty,/*!*/ /*!*/);
  --tw-sepia: var(--tw-empty,/*!*/ /*!*/);
  --tw-drop-shadow: var(--tw-empty,/*!*/ /*!*/);
  --tw-backdrop-blur: var(--tw-empty,/*!*/ /*!*/);
  --tw-backdrop-brightness: var(--tw-empty,/*!*/ /*!*/);
  --tw-backdrop-contrast: var(--tw-empty,/*!*/ /*!*/);
  --tw-backdrop-grayscale: var(--tw-empty,/*!*/ /*!*/);
  --tw-backdrop-hue-rotate: var(--tw-empty,/*!*/ /*!*/);
  --tw-backdrop-invert: var(--tw-empty,/*!*/ /*!*/);
  --tw-backdrop-opacity: var(--tw-empty,/*!*/ /*!*/);
  --tw-backdrop-saturate: var(--tw-empty,/*!*/ /*!*/);
  --tw-backdrop-sepia: var(--tw-empty,/*!*/ /*!*/);
}
::before, ::after {
  --tw-content: '';
}
html {
  line-height: 1.5;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  font-feature-settings:  normal;
}
body {
  margin: 0;
  line-height: inherit;
}
hr {
  height: 0;
  color: inherit;
  border-top-width: 1px;
}
abbr:where([title]) {
  text-decoration: underline dotted;
}
h1, h2, h3, h4, h5, h6 {
  font-size: inherit;
  font-weight: inherit;
}
a {
  color: inherit;
  text-decoration: inherit;
}
b, strong {
  font-weight: bolder;
}
code, kbd, samp, pre {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 1em;
}
small {
  font-size: 80%;
}
sub, sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
sub {
  bottom: -0.25em;
}
sup {
  top: -0.5em;
}
table {
  text-indent: 0;
  border-color: inherit;
  border-collapse: collapse;
}
button, input, optgroup, select, textarea {
  font-family: inherit;
  font-size: 100%;
  font-weight: inherit;
  line-height: inherit;
  color: inherit;
  margin: 0;
  padding: 0;
}
button, select {
  text-transform: none;
}
button, [type='button'], [type='reset'], [type='submit'] {
  -webkit-appearance: button;
  background-color: transparent;
  background-image: none;
}
:-moz-focusring {
  outline: auto;
}
:-moz-ui-invalid {
  box-shadow: none;
}
progress {
  vertical-align: baseline;
}
::-webkit-inner-spin-button, ::-webkit-outer-spin-button {
  height: auto;
}
[type='search'] {
  -webkit-appearance: textfield;
  outline-offset: -2px;
}
::-webkit-search-decoration {
  -webkit-appearance: none;
}
::-webkit-file-upload-button {
  -webkit-appearance: button;
  font: inherit;
}
summary {
  display: list-item;
}
blockquote, dl, dd, h1, h2, h3, h4, h5, h6, hr, figure, p, pre {
  margin: 0;
}
fieldset {
  margin: 0;
  padding: 0;
}
legend {
  padding: 0;
}
ol, ul, menu {
  list-style: none;
  margin: 0;
  padding: 0;
}
textarea {
  resize: vertical;
}
input::placeholder, textarea::placeholder {
  opacity: 1;
  color: #9ca3af;
}
button, [role="button"] {
  cursor: pointer;
}
:disabled {
  cursor: default;
}
img, svg, video, canvas, audio, iframe, embed, object {
  display: block;
  vertical-align: middle;
}
img, video {
  max-width: 100%;
  height: auto;
}
[hidden] {
  display: none;
}
::backdrop {
  --tw-border-spacing-x: 0;
  --tw-border-spacing-y: 0;
  --tw-translate-x: 0;
  --tw-translate-y: 0;
  --tw-rotate: 0;
  --tw-skew-x: 0;
  --tw-skew-y: 0;
  --tw-scale-x: 1;
  --tw-scale-y: 1;
  --tw-pan-x: var(--tw-empty,/*!*/ /*!*/);
  --tw-pan-y: var(--tw-empty,/*!*/ /*!*/);
  --tw-pinch-zoom: var(--tw-empty,/*!*/ /*!*/);
  --tw-scroll-snap-strictness: proximity;
  --tw-ordinal: var(--tw-empty,/*!*/ /*!*/);
  --tw-slashed-zero: var(--tw-empty,/*!*/ /*!*/);
  --tw-numeric-figure: var(--tw-empty,/*!*/ /*!*/);
  --tw-numeric-spacing: var(--tw-empty,/*!*/ /*!*/);
  --tw-numeric-fraction: var(--tw-empty,/*!*/ /*!*/);
  --tw-ring-offset-shadow: 0 0 #0000;
  --tw-ring-shadow: 0 0 #0000;
  --tw-shadow: 0 0 #0000;
  --tw-shadow-colored: 0 0 #0000;
  --tw-ring-inset: var(--tw-empty,/*!*/ /*!*/);
  --tw-ring-offset-width: 0px;
  --tw-ring-offset-color: #fff;
  --tw-ring-color: rgb(59 130 246 / 0.5);
  --tw-blur: var(--tw-empty,/*!*/ /*!*/);
  --tw-brightness: var(--tw-empty,/*!*/ /*!*/);
  --tw-contrast: var(--tw-empty,/*!*/ /*!*/);
  --tw-grayscale: var(--tw-empty,/*!*/ /*!*/);
  --tw-hue-rotate: var(--tw-empty,/*!*/ /*!*/);
  --tw-invert: var(--tw-empty,/*!*/ /*!*/);
  --tw-saturate: var(--tw-empty,/*!*/ /*!*/);
  --tw-sepia: var(--tw-empty,/*!*/ /*!*/);
  --tw-drop-shadow: var(--tw-empty,/*!*/ /*!*/);
  --tw-backdrop-blur: var(--tw-empty,/*!*/ /*!*/);
  --tw-backdrop-brightness: var(--tw-empty,/*!*/ /*!*/);
  --tw-backdrop-contrast: var(--tw-empty,/*!*/ /*!*/);
  --tw-backdrop-grayscale: var(--tw-empty,/*!*/ /*!*/);
  --tw-backdrop-hue-rotate: var(--tw-empty,/*!*/ /*!*/);
  --tw-backdrop-invert: var(--tw-empty,/*!*/ /*!*/);
  --tw-backdrop-opacity: var(--tw-empty,/*!*/ /*!*/);
  --tw-backdrop-saturate: var(--tw-empty,/*!*/ /*!*/);
  --tw-backdrop-sepia: var(--tw-empty,/*!*/ /*!*/);
}`,SX=dP({body:{WebkitTapHighlightColor:"#a855f7",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"}}),bX=()=>it(Ki,{children:[oe(wX,{}),oe(SX,{})]});M_.createRoot(document.getElementById("root")).render(it(Gi.StrictMode,{children:[oe(bX,{}),oe(aX,{})]}));
